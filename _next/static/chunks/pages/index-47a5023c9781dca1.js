(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{94268:function(module,__unused_webpack_exports,__webpack_require__){module=__webpack_require__.nmd(module),function _f(self){"use strict";let Y;try{module&&(self=module)}catch(e){}function u(s){return void 0===s||s}function aa(s){let i=Array(s);for(let o=0;o<s;o++)i[o]=v();return i}function v(){return Object.create(null)}function ba(s,i){return i.length-s.length}function x(s){return"string"==typeof s}function C(s){return"object"==typeof s}function D(s){return"function"==typeof s}function ca(s,i){var o=da;if(s&&(i&&(s=E(s,i)),this.H&&(s=E(s,this.H)),this.J&&1<s.length&&(s=E(s,this.J)),o||""===o)&&(s=s.split(o),this.filter)){i=this.filter,o=s.length;let j=[];for(let _=0,$=0;_<o;_++){let o=s[_];o&&!i[o]&&(j[$++]=o)}s=j}return s}self._factory=_f;let da=/[\p{Z}\p{S}\p{P}\p{C}]+/u,ea=/[\u0300-\u036f]/g;function fa(s,i){let o=Object.keys(s),j=o.length,_=[],$="",ee=0;for(let et=0,en,ei;et<j;et++)(ei=s[en=o[et]])?(_[ee++]=F(i?"(?!\\b)"+en+"(\\b|_)":en),_[ee++]=ei):$+=($?"|":"")+en;return $&&(_[ee++]=F(i?"(?!\\b)("+$+")(\\b|_)":"("+$+")"),_[ee]=""),_}function E(s,i){for(let o=0,j=i.length;o<j&&(s=s.replace(i[o],i[o+1]));o+=2);return s}function F(s){return RegExp(s,"g")}function ha(s){let i="",o="";for(let j=0,_=s.length,$;j<_;j++)($=s[j])!==o&&(i+=o=$);return i}var t,ja={encode:ia,F:!1,G:""};function ia(s){return ca.call(this,(""+s).toLowerCase(),!1)}let ka={},G={};function la(s){I(s,"add"),I(s,"append"),I(s,"search"),I(s,"update"),I(s,"remove")}function I(s,i){s[i+"Async"]=function(){let s;let o=this,j=arguments;var _=j[j.length-1];return D(_)&&(s=_,delete j[j.length-1]),_=new Promise(function(s){setTimeout(function(){o.async=!0;let _=o[i].apply(o,j);o.async=!1,s(_)})}),s?(_.then(s),this):_}}function ma(s,i,o,j){let _=s.length,$=[],ee,et,en=0;j&&(j=[]);for(let ei=_-1;0<=ei;ei--){let er=s[ei],el=er.length,eo=v(),ec=!ee;for(let s=0;s<el;s++){let el=er[s],ed=el.length;if(ed)for(let s=0,er,eh;s<ed;s++)if(eh=el[s],ee){if(ee[eh]){if(!ei){if(o)o--;else if($[en++]=eh,en===i)return $}(ei||j)&&(eo[eh]=1),ec=!0}if(j&&(er=(et[eh]||0)+1,et[eh]=er,er<_)){let s=j[er-2]||(j[er-2]=[]);s[s.length]=eh}}else eo[eh]=1}if(j)ee||(et=eo);else if(!ec)return[];ee=eo}if(j)for(let s=j.length-1,_,et;0<=s;s--){et=(_=j[s]).length;for(let s=0,j;s<et;s++)if(!ee[j=_[s]]){if(o)o--;else if($[en++]=j,en===i)return $;ee[j]=1}}return $}function na(s,i){let o=v(),j=v(),_=[];for(let i=0;i<s.length;i++)o[s[i]]=1;for(let s=0,$;s<i.length;s++){$=i[s];for(let s=0,i;s<$.length;s++)o[i=$[s]]&&!j[i]&&(j[i]=1,_[_.length]=i)}return _}function J(s){this.l=!0!==s&&s,this.cache=v(),this.h=[]}function oa(s,i,o){C(s)&&(s=s.query);let j=this.cache.get(s);return j||(j=this.search(s,i,o),this.cache.set(s,j)),j}J.prototype.set=function(s,i){if(!this.cache[s]){var o=this.h.length;for(o===this.l?delete this.cache[this.h[o-1]]:o++,--o;0<o;o--)this.h[o]=this.h[o-1];this.h[0]=s}this.cache[s]=i},J.prototype.get=function(s){let i=this.cache[s];if(this.l&&i&&(s=this.h.indexOf(s))){let i=this.h[s-1];this.h[s-1]=this.h[s],this.h[s]=i}return i};let qa={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function ra(s,i,o,j,_,$,ee){setTimeout(function(){let et=s(o?o+"."+j:j,JSON.stringify(ee));et&&et.then?et.then(function(){i.export(s,i,o,_,$+1)}):i.export(s,i,o,_,$+1)})}function K(s,i){if(!(this instanceof K))return new K(s);if(s){x(s)?s=qa[s]:(o=s.preset)&&(s=Object.assign({},o[o],s)),o=s.charset;var o,j=s.lang;x(o)&&(-1===o.indexOf(":")&&(o+=":default"),o=G[o]),x(j)&&(j=ka[j])}else s={};let _,$,ee=s.context||{};if(this.encode=s.encode||o&&o.encode||ia,this.register=i||v(),this.D=_=s.resolution||9,this.G=i=o&&o.G||s.tokenize||"strict",this.depth="strict"===i&&ee.depth,this.l=u(ee.bidirectional),this.s=$=u(s.optimize),this.m=u(s.fastupdate),this.B=s.minlength||1,this.C=s.boost,this.map=$?aa(_):v(),this.A=_=ee.resolution||1,this.h=$?aa(_):v(),this.F=o&&o.F||s.rtl,this.H=(i=s.matcher||j&&j.H)&&fa(i,!1),this.J=(i=s.stemmer||j&&j.J)&&fa(i,!0),o=i=s.filter||j&&j.filter){o=i,j=v();for(let s=0,i=o.length;s<i;s++)j[o[s]]=1;o=j}this.filter=o,this.cache=(i=s.cache)&&new J(i)}function L(s,i,o,j,_){return o&&1<s?i+(j||0)<=s?o+(_||0):(s-1)/(i+(j||0))*(o+(_||0))+1|0:0}function M(s,i,o,j,_,$,ee){let et=ee?s.h:s.map;(!i[o]||ee&&!i[o][ee])&&(s.s&&(et=et[j]),ee?((i=i[o]||(i[o]=v()))[ee]=1,et=et[ee]||(et[ee]=v())):i[o]=1,et=et[o]||(et[o]=[]),s.s||(et=et[j]||(et[j]=[])),$&&et.includes(_)||(et[et.length]=_,s.m&&((s=s.register[_]||(s.register[_]=[]))[s.length]=et)))}function sa(s,i,o,j,_,$,ee,et){let en=[],ei=et?s.h:s.map;if(s.s||(ei=ua(ei,ee,et,s.l)),ei){let o=0,er=Math.min(ei.length,et?s.A:s.D);for(let i=0,el=0,eo,ec;i<er&&(!(eo=ei[i])||(s.s&&(eo=ua(eo,ee,et,s.l)),_&&eo&&$&&((ec=eo.length)<=_?(_-=ec,eo=null):(eo=eo.slice(_),_=0)),!eo||(en[o++]=eo,!$||!((el+=eo.length)>=j))));i++);if(o)return $?ta(en,j,0):void(i[i.length]=en)}return!o&&en}function ta(s,i,o){return s=1===s.length?s[0]:[].concat.apply([],s),o||s.length>i?s.slice(o,o+i):s}function ua(s,i,o,j){return s=o?(s=s[(j=j&&i>o)?i:o])&&s[j?o:i]:s[i]}function N(s,i,o,j,_){let $=0;if(s.constructor===Array){if(_)-1!==(i=s.indexOf(i))?1<s.length&&(s.splice(i,1),$++):$++;else{_=Math.min(s.length,o);for(let ee=0,et;ee<_;ee++)(et=s[ee])&&($=N(et,i,o,j,_),j||$||delete s[ee])}}else for(let ee in s)($=N(s[ee],i,o,j,_))||delete s[ee];return $}function va(s){s=s.data;var i=self._index;let o=s.args;var j=s.task;"init"===j?(j=s.options||{},s=s.factory,i=j.encode,j.cache=!1,i&&0===i.indexOf("function")&&(j.encode=Function("return "+i)()),s?(Function("return "+s)()(self),self._index=new self.FlexSearch.Index(j),delete self.FlexSearch):self._index=new K(j)):(s=s.id,i=i[j].apply(i,o),postMessage("search"===j?{id:s,msg:i}:{id:s}))}t=K.prototype,t.append=function(s,i){return this.add(s,i,!0)},t.add=function(s,i,o,j){if(i&&(s||0===s)){if(!j&&!o&&this.register[s])return this.update(s,i);if(j=(i=this.encode(i)).length){let ei=v(),er=v(),el=this.depth,eo=this.D;for(let ec=0;ec<j;ec++){let ed=i[this.F?j-1-ec:ec];var _=ed.length;if(ed&&_>=this.B&&(el||!er[ed])){var $=L(eo,j,ec),ee="";switch(this.G){case"full":if(2<_){for($=0;$<_;$++)for(var et=_;et>$;et--)if(et-$>=this.B){var en=L(eo,j,ec,_,$);M(this,er,ee=ed.substring($,et),en,s,o)}break}case"reverse":if(1<_){for(et=_-1;0<et;et--)(ee=ed[et]+ee).length>=this.B&&M(this,er,ee,L(eo,j,ec,_,et),s,o);ee=""}case"forward":if(1<_){for(et=0;et<_;et++)(ee+=ed[et]).length>=this.B&&M(this,er,ee,$,s,o);break}default:if(this.C&&($=Math.min($/this.C(i,ed,ec)|0,eo-1)),M(this,er,ed,$,s,o),el&&1<j&&ec<j-1){for(_=v(),ee=this.A,$=ed,et=Math.min(el+1,j-ec),_[$]=1,en=1;en<et;en++)if((ed=i[this.F?j-1-ec-en:ec+en])&&ed.length>=this.B&&!_[ed]){_[ed]=1;let i=this.l&&ed>$;M(this,ei,i?$:ed,L(ee+(j/2>ee?0:1),j,ec,et-1,en-1),s,o,i?ed:$)}}}}}this.m||(this.register[s]=1)}}return this},t.search=function(s,i,o){let j,_,$;o||(!i&&C(s)?s=(o=s).query:C(i)&&(o=i));let ee=[],et,en,ei=0;if(o){s=o.query||s,i=o.limit,ei=o.offset||0;var er=o.context;en=o.suggest}if(s&&1<(et=(s=this.encode(""+s)).length)){o=v();var el=[];for(let i=0,j=0,_;i<et;i++)if((_=s[i])&&_.length>=this.B&&!o[_]){if(!this.s&&!en&&!this.map[_])return ee;el[j++]=_,o[_]=1}et=(s=el).length}if(!et)return ee;for(i||(i=100),er=this.depth&&1<et&&!1!==er,o=0,er?(j=s[0],o=1):1<et&&s.sort(ba);o<et;o++){if($=s[o],er?(_=sa(this,ee,en,i,ei,2===et,$,j),en&&!1===_&&ee.length||(j=$)):_=sa(this,ee,en,i,ei,1===et,$),_)return _;if(en&&o===et-1){if(!(el=ee.length)){if(er){er=0,o=-1;continue}return ee}if(1===el)return ta(ee[0],i,ei)}}return ma(ee,i,ei,en)},t.contain=function(s){return!!this.register[s]},t.update=function(s,i){return this.remove(s).add(s,i)},t.remove=function(s,i){let o=this.register[s];if(o){if(this.m)for(let i=0,j;i<o.length;i++)(j=o[i]).splice(j.indexOf(s),1);else N(this.map,s,this.D,this.s),this.depth&&N(this.h,s,this.A,this.s);if(i||delete this.register[s],this.cache){i=this.cache;for(let o=0,j;o<i.h.length;o++)j=i.h[o],i.cache[j].includes(s)&&(i.h.splice(o--,1),delete i.cache[j])}}return this},t.searchCache=oa,t.export=function(s,i,o,j,_){let $,ee;switch(_||(_=0)){case 0:if($="reg",this.m)for(let s in ee=v(),this.register)ee[s]=1;else ee=this.register;break;case 1:$="cfg",ee={doc:0,opt:this.s?1:0};break;case 2:$="map",ee=this.map;break;case 3:$="ctx",ee=this.h;break;default:return}return ra(s,i||this,o,$,j,_,ee),!0},t.import=function(s,i){if(i)switch(x(i)&&(i=JSON.parse(i)),s){case"cfg":this.s=!!i.opt;break;case"reg":this.m=!1,this.register=i;break;case"map":this.map=i;break;case"ctx":this.h=i}},la(K.prototype);let wa=0;function O(s){var i;if(!(this instanceof O))return new O(s);s?D(i=s.encode)&&(s.encode=i.toString()):s={},(i=(self||window)._factory)&&(i=i.toString());let o="undefined"==typeof window&&self.exports,j=this;this.o=xa(i,o,s.worker),this.h=v(),this.o&&(o?this.o.on("message",function(s){j.h[s.id](s.msg),delete j.h[s.id]}):this.o.onmessage=function(s){s=s.data,j.h[s.id](s.msg),delete j.h[s.id]},this.o.postMessage({task:"init",factory:i,options:s}))}function P(s){O.prototype[s]=O.prototype[s+"Async"]=function(){let i;let o=this,j=[].slice.call(arguments);var _=j[j.length-1];return D(_)&&(i=_,j.splice(j.length-1,1)),_=new Promise(function(i){setTimeout(function(){o.h[++wa]=i,o.o.postMessage({task:s,id:wa,args:j})})}),i?(_.then(i),this):_}}function xa(a,b,c){let d;try{d=b?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):a?new Worker(URL.createObjectURL(new Blob(["onmessage="+va.toString()],{type:"text/javascript"}))):new Worker(x(c)?c:"worker/worker.js",{type:"module"})}catch(e){}return d}function Q(s){if(!(this instanceof Q))return new Q(s);var i,o=s.document||s.doc||s;this.K=[],this.h=[],this.A=[],this.register=v(),this.key=(i=o.key||o.id)&&S(i,this.A)||"id",this.m=u(s.fastupdate),this.C=(i=o.store)&&!0!==i&&[],this.store=i&&v(),this.I=(i=o.tag)&&S(i,this.A),this.l=i&&v(),this.cache=(i=s.cache)&&new J(i),s.cache=!1,this.o=s.worker,this.async=!1,i=v();let j=o.index||o.field||o;x(j)&&(j=[j]);for(let o=0,_,$;o<j.length;o++)x(_=j[o])||($=_,_=_.field),$=C($)?Object.assign({},s,$):s,this.o&&(i[_]=new O($),i[_].o||(this.o=!1)),this.o||(i[_]=new K($,this.register)),this.K[o]=S(_,this.A),this.h[o]=_;if(this.C)for(x(s=o.store)&&(s=[s]),o=0;o<s.length;o++)this.C[o]=S(s[o],this.A);this.index=i}function S(s,i){let o=s.split(":"),j=0;for(let _=0;_<o.length;_++)0<=(s=o[_]).indexOf("[]")&&(s=s.substring(0,s.length-2))&&(i[j]=!0),s&&(o[j++]=s);return j<o.length&&(o.length=j),1<j?o:o[0]}function T(s,i){if(x(i))s=s[i];else for(let o=0;s&&o<i.length;o++)s=s[i[o]];return s}function U(s,i,o,j,_){if(s=s[_],j===o.length-1)i[_]=s;else if(s){if(s.constructor===Array)for(i=i[_]=Array(s.length),_=0;_<s.length;_++)U(s,i,o,j,_);else i=i[_]||(i[_]=v()),_=o[++j],U(s,i,o,j,_)}}function V(s,i,o,j,_,$,ee,et){if(s=s[ee]){if(j===i.length-1){if(s.constructor===Array){if(o[j]){for(i=0;i<s.length;i++)_.add($,s[i],!0,!0);return}s=s.join(" ")}_.add($,s,et,!0)}else if(s.constructor===Array)for(ee=0;ee<s.length;ee++)V(s,i,o,j,_,$,ee,et);else ee=i[++j],V(s,i,o,j,_,$,ee,et)}}function ya(s,i,o,j){let _=this.l[s],$=_&&_.length-o;if($&&0<$)return($>i||o)&&(_=_.slice(o,o+i)),j&&(_=za.call(this,_)),{tag:s,result:_}}function za(s){let i=Array(s.length);for(let o=0,j;o<s.length;o++)j=s[o],i[o]={id:j,doc:this.store[j]};return i}P("add"),P("append"),P("search"),P("update"),P("remove"),t=Q.prototype,t.add=function(s,i,o){if(C(s)&&(s=T(i=s,this.key)),i&&(s||0===s)){if(!o&&this.register[s])return this.update(s,i);for(let j=0,_,$;j<this.h.length;j++)$=this.h[j],x(_=this.K[j])&&(_=[_]),V(i,_,this.A,0,this.index[$],s,_[0],o);if(this.I){let j=T(i,this.I),_=v();x(j)&&(j=[j]);for(let i=0,$,ee;i<j.length;i++)if(!_[$=j[i]]&&(_[$]=1,ee=this.l[$]||(this.l[$]=[]),!o||!ee.includes(s))&&(ee[ee.length]=s,this.m)){let i=this.register[s]||(this.register[s]=[]);i[i.length]=ee}}if(this.store&&(!o||!this.store[s])){let o;if(this.C){o=v();for(let s=0,j;s<this.C.length;s++)x(j=this.C[s])?o[j]=i[j]:U(i,o,j,0,j[0])}this.store[s]=o||i}}return this},t.append=function(s,i){return this.add(s,i,!0)},t.update=function(s,i){return this.remove(s).add(s,i)},t.remove=function(s){if(C(s)&&(s=T(s,this.key)),this.register[s]){for(var i=0;i<this.h.length&&(this.index[this.h[i]].remove(s,!this.o),!this.m);i++);if(this.I&&!this.m)for(let o in this.l){i=this.l[o];let j=i.indexOf(s);-1!==j&&(1<i.length?i.splice(j,1):delete this.l[o])}this.store&&delete this.store[s],delete this.register[s]}return this},t.search=function(s,i,o,j){o||(!i&&C(s)?(o=s,s=""):C(i)&&(o=i,i=0));let _=[],$=[],ee,et,en,ei,er,el,eo=0;if(o){if(o.constructor===Array)en=o,o=null;else{if(s=o.query||s,en=(ee=o.pluck)||o.index||o.field,ei=o.tag,et=this.store&&o.enrich,er="and"===o.bool,i=o.limit||i||100,el=o.offset||0,ei&&(x(ei)&&(ei=[ei]),!s)){for(let s=0,o;s<ei.length;s++)(o=ya.call(this,ei[s],i,el,et))&&(_[_.length]=o,eo++);return eo?_:[]}x(en)&&(en=[en])}}en||(en=this.h),er=er&&(1<en.length||ei&&1<ei.length);let ec=!j&&(this.o||this.async)&&[];for(let ee=0,et,ed,eh;ee<en.length;ee++){let eu;if(x(ed=en[ee])||(ed=(eu=ed).field,s=eu.query||s,i=eu.limit||i),ec)ec[ee]=this.index[ed].searchAsync(s,i,eu||o);else{if(eh=(et=j?j[ee]:this.index[ed].search(s,i,eu||o))&&et.length,ei&&eh){let s=[],o=0;er&&(s[0]=[et]);for(let i=0,j,_;i<ei.length;i++)j=ei[i],(eh=(_=this.l[j])&&_.length)&&(o++,s[s.length]=er?[_]:_);o&&(eh=(et=er?ma(s,i||100,el||0):na(et,s)).length)}if(eh)$[eo]=ed,_[eo++]=et;else if(er)return[]}}if(ec){let j=this;return new Promise(function(_){Promise.all(ec).then(function($){_(j.search(s,i,o,$))})})}if(!eo)return[];if(ee&&(!et||!this.store))return _[0];for(let s=0,i;s<$.length;s++){if((i=_[s]).length&&et&&(i=za.call(this,i)),ee)return i;_[s]={field:$[s],result:i}}return _},t.contain=function(s){return!!this.register[s]},t.get=function(s){return this.store[s]},t.set=function(s,i){return this.store[s]=i,this},t.searchCache=oa,t.export=function(s,i,o,j,_){if(_||(_=0),j||(j=0),j<this.h.length){let o=this.h[j],$=this.index[o];i=this,setTimeout(function(){$.export(s,i,_?o:"",j,_++)||(j++,_=1,i.export(s,i,o,j,_))})}else{let i,$;switch(_){case 1:i="tag",$=this.l;break;case 2:i="store",$=this.store;break;default:return}ra(s,this,o,i,j,_,$)}},t.import=function(s,i){if(i)switch(x(i)&&(i=JSON.parse(i)),s){case"tag":this.l=i;break;case"reg":this.m=!1,this.register=i;for(let s=0,o;s<this.h.length;s++)(o=this.index[this.h[s]]).register=i,o.m=!1;break;case"store":this.store=i;break;default:s=s.split(".");let o=s[0];s=s[1],o&&s&&this.index[o].import(s,i)}},la(Q.prototype);var Ba={encode:Aa,F:!1,G:""};let Ca=[F("[\xe0\xe1\xe2\xe3\xe4\xe5]"),"a",F("[\xe8\xe9\xea\xeb]"),"e",F("[\xec\xed\xee\xef]"),"i",F("[\xf2\xf3\xf4\xf5\xf6ő]"),"o",F("[\xf9\xfa\xfb\xfcű]"),"u",F("[\xfdŷ\xff]"),"y",F("\xf1"),"n",F("[\xe7c]"),"k",F("\xdf"),"s",F(" & ")," and "];function Aa(s){var i=s=""+s;return i.normalize&&(i=i.normalize("NFD").replace(ea,"")),ca.call(this,i.toLowerCase(),!s.normalize&&Ca)}var Ea={encode:Da,F:!1,G:"strict"};let Fa=/[^a-z0-9]+/,Ga={b:"p",v:"f",w:"f",z:"s",x:"s",ß:"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function Da(s){s=Aa.call(this,s).join(" ");let i=[];if(s){let o=s.split(Fa),j=o.length;for(let _=0,$,ee=0;_<j;_++)if((s=o[_])&&(!this.filter||!this.filter[s])){let o=Ga[$=s[0]]||$,j=o;for(let i=1;i<s.length;i++){$=s[i];let _=Ga[$]||$;_&&_!==j&&(o+=_,j=_)}i[ee++]=o}}return i}var Ia={encode:Ha,F:!1,G:""};let Ja=[F("ae"),"a",F("oe"),"o",F("sh"),"s",F("th"),"t",F("ph"),"f",F("pf"),"f",F("(?![aeo])h(?![aeo])"),"",F("(?!^[aeo])h(?!^[aeo])"),""];function Ha(s,i){return s&&(2<(s=Da.call(this,s).join(" ")).length&&(s=E(s,Ja)),i||(1<s.length&&(s=ha(s)),s&&(s=s.split(" ")))),s||[]}var La={encode:Ka,F:!1,G:""};let Ma=F("(?!\\b)[aeo]");function Ka(s){return s&&(1<(s=Ha.call(this,s,!0)).length&&(s=s.replace(Ma,"")),1<s.length&&(s=ha(s)),s&&(s=s.split(" "))),s||[]}G["latin:default"]=ja,G["latin:simple"]=Ba,G["latin:balance"]=Ea,G["latin:advanced"]=Ia,G["latin:extra"]=La;let W=self,Z={Index:K,Document:Q,Worker:O,registerCharset:function(s,i){G[s]=i},registerLanguage:function(s,i){ka[s]=i}};(Y=W.define)&&Y.amd?Y([],function(){return Z}):W.exports?W.exports=Z:W.FlexSearch=Z}(this)},41829:function(s,i,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(1167)}])},59459:function(s,i,o){"use strict";o.d(i,{m:function(){return InputDialog}});var j=o(97458),_=o(52983),$=o(46980),ee=o(50606),et=o(98994),en=o(72686),ei=o(55544);let InputDialog=s=>{let{title:i,inputLabel:o,inputError:er,onSubmit:el,placeholder:eo,isLoading:ec,isOpen:ed,setIsOpen:eh}=s,[eu,ef]=(0,_.useState)(""),em=(0,_.useRef)(null),eg=(0,ei.useTranslations)();return(0,_.useEffect)(()=>{ed||ef("")},[ed]),(0,j.jsx)($.a,{isOpen:ed,closeModal:eh?()=>{eh(!1)}:void 0,title:i,children:s=>{let{close:i}=s;return(0,j.jsxs)("form",{onSubmit:s=>{s.preventDefault(),el(eu)},className:"flex flex-col gap-5",children:[(0,j.jsx)(et.o,{label:o,error:er,children:(0,j.jsx)(en.I,{required:!0,ref:em,value:eu,placeholder:eo,onChange:s=>ef(s.target.value)})}),(0,j.jsxs)($.x,{children:[(0,j.jsx)(ee.z,{type:"button",variant:"outline",onClick:i,children:eg("app.cancel")}),(0,j.jsx)(ee.z,{type:"submit",variant:"primary",isLoading:ec,children:eg("app.confirm")})]})]})}})}},44361:function(s,i,o){"use strict";o.d(i,{m:function(){return ToolsLayout},r:function(){return ex}});var j=o(97458),_=o(62729),$=o.n(_),ee=o(8384),et=o(14830),en=o(88906),ei=o(52983),er=o(50606),el=o(33168),eo=o(55544),ec=o(59459),ed=o(66706),eh=o(89691),eu=o(70433),ef=o(85273),em=o(18854),eg=o(86372),ep=o(1295);let ex=[{id:"",title:"Chat",icon:"i-tabler-message-circle"},{id:"code-translate",title:"Code Translate",icon:"i-tabler-code-asterix"},{id:"prisma",title:"Ask Prisma Schema",icon:"i-tabler-brand-prisma"},{id:"tts",title:"Text to Speech",icon:"i-tabler-microphone"},{id:"summarizer",title:"Summarizer",icon:"i-tabler-file-text"},{id:"translate",title:"Translate",icon:"i-tabler-language-hiragana"}],ToolsLayout=s=>{let{children:i,id:o}=s,_=ex.find(s=>s.id===o),{config:eb}=(0,el.ZR)(),ev=(0,eu.jp)(),ey=(0,eo.useTranslations)(),[ew,ej]=(0,ei.useState)(!1),ek=(0,em.useRouter)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(en.D,{}),(0,j.jsx)(eg.n,{}),(0,j.jsxs)("div",{className:"fixed left-0 w-72 top-0 bottom-0 border-r dark:bg-zinc-800",children:[ef.lU?(0,j.jsx)("div",{className:"h-10","data-tauri-drag-region":!0}):(0,j.jsx)("div",{className:"px-3 h-12 flex items-center",children:(0,j.jsx)($(),{href:"/",shallow:!0,children:(0,j.jsx)(ee.J,{className:"text-xl"})})}),(0,j.jsx)("div",{className:"px-3 -mx-2 text-sm grid gap-1",children:ex.map(s=>{let i=s.id===o;return(0,j.jsxs)($(),{href:"/".concat(s.id),shallow:!0,className:(0,et.cn)("flex h-8 gap-2 rounded-lg px-2 items-center",i?"bg-zinc-200 dark:bg-zinc-700":"hover:bg-zinc-200 dark:hover:bg-zinc-700"),children:[(0,j.jsx)("span",{className:(0,et.cn)(s.icon)}),(0,j.jsx)("span",{className:"truncate",children:s.title})]},s.id)})})]}),(0,j.jsxs)("div",{className:"ml-72 h-screen flex flex-col",children:[(0,j.jsxs)("header",{"data-tauri-drag-region":!0,className:"h-12 border-b shrink-0 px-5 flex items-center bg-white/50 backdrop-blur-lg dark:bg-zinc-900 justify-between z-10",children:[(0,j.jsx)("div",{className:"inline-flex items-center gap-3",children:(0,j.jsx)("span",{className:"font-bold",children:_.title})}),(0,j.jsxs)("div",{className:"flex items-center gap-3",children:[!ev.data&&!eb.openAIKey&&(0,j.jsxs)(ep.hg,{children:[(0,j.jsxs)(er.z,{className:"h-8",children:["OpenAI ",ey("app.apiKey")]}),(0,j.jsx)(ec.m,{title:"OpenAI ".concat(ey("app.apiKey")),inputLabel:ey.rich("app.openaiApiKeyTip",{link_api_key:s=>(0,j.jsx)("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank",rel:"noopener nofollow",className:"underline",children:s}),link_credits:s=>(0,j.jsx)($(),{href:{pathname:ek.pathname,query:ek.query,hash:"pricing"},className:"underline",children:s})}),onSubmit:s=>{ed.h.config.update({openAIKey:s}),eh.ZP.success(ey("app.saved"))}})]}),(0,j.jsxs)(er.z,{type:"button",className:(0,et.cn)("h-8",ev.data?"":"text-yellow-500 font-semibold"),onClick:()=>{ek.push({pathname:ek.pathname,query:ek.query,hash:"pricing"})},children:[(0,j.jsx)("span",{className:(0,et.cn)("mr-1",ev.data?"i-tabler-discount-check text-base":"i-ion-diamond-outline text-lg")}),ev.data?ey("app.licensed"):ey("app.premium")]}),(0,j.jsx)(er.z,{type:"button",className:"h-8 w-8 text-lg",onClick:()=>{(0,en.r)(ek,"general")},children:(0,j.jsx)("span",{className:"i-ion-ios-settings-strong"})})]})]}),(0,j.jsx)("div",{className:"p-5 overflow-auto grow h-0",children:i})]})]})}},1167:function(s,i,o){"use strict";o.r(i),o.d(i,{default:function(){return e9}});var j=o(97458),_=o(49838),$=o(3265),ee=o(4124),et=o(18854),en=o(52983),ei=o(50606),er=o(17576),el=o(33569),eo=o(14830),ec=o(1481),ed=o(66706),eh=o(33168),eu=o(15960),ef=o(43329),em=o(67843),eg=o(86372),ep=o(78164),ex=o(56438),eb=o(62729),ev=o.n(eb),ey=o(94268);let ew=new ey.Document({document:{id:"id",index:["content","chatTitle"],store:!0},preset:"score",tokenize:"full"}),searchMessages=async s=>{let{query:i}=s;if(!i)return[];let[o,j]=await Promise.all([ed.h.message.find(),ed.h.chat.find()]);for(let s of o.values()){let i=j.get(s.chatId);i&&ew.add(s.id,{id:s.id,content:s.content,chatId:i.id,chatTitle:i.title})}let[_]=ew.search(i,10,{enrich:!0});return _?_.result.map(s=>s.doc):[]},SearchResultItem=s=>{let{message:i}=s,o=(0,et.useRouter)();return(0,j.jsxs)(ev(),{className:(0,eo.cn)("rounded-xl p-3 text-sm border block hover:bg-zinc-200 hover:border-zinc-400 transition-all dark:hover:bg-zinc-900 dark:hover:border-zinc-600",o.query.message===i.id&&"bg-zinc-200 border-zinc-400 dark:bg-zinc-900 dark:border-zinc-600"),shallow:!0,href:{pathname:"/",query:{chat:i.chatId,message:i.id}},children:[(0,j.jsx)("div",{className:"font-bold mb-1",children:i.chatTitle}),(0,j.jsx)("div",{className:"line-clamp-3",children:i.content})]})};var ej=o(8384),ek=o(98359),eN=o(27449),eC=o(55544),ez=o(60863),e_=o(5200),eS=o(70433),eI=o(98846),eD=o(73474),eA=o.n(eD),eF=o(26656),eM=o(44361),eT=o(85273),eE=o(38660);let useCheckCommitSha=()=>{let s=(0,ex.a)(["commit-sha-changed"],async()=>{let s=await fetch("/api/commit-sha");if(!s.ok)return!1;let i=await s.text(),o="3fdc0d4ca55a9de6184658db723a775fadc43f52";return!!o&&!!i&&o!==i},{refetchInterval:6e4});return s};var eO=o(51758),eL=o(61383),eP=o(60919),eU=o(1295),eq=o(81859),eR=o(56030);let ChatItem=s=>{let{chat:i,chatId:o}=s,_=(0,eC.useTranslations)(),$=(0,en.useRef)(null),deleteChat=async s=>{await ed.h.message.deleteMany({filter:i=>i.chatId===s,shouldPush:!1}),await ed.h.chat.delete(s,{shouldPush:!1}),eF.Dw.push()},bookmarkChat=async s=>{await ed.h.chat.update(s,s=>({...s,bookmarked:!s.bookmarked}))},ee=i.id===o,[et,er]=(0,en.useState)("view"),{setValue:el,handleSubmit:ec,register:eh}=(0,ez.cI)({defaultValues:{title:""}});return((0,en.useEffect)(()=>{el("title",i.title)},[i.title]),(0,en.useEffect)(()=>{$.current&&ee&&(0,eP.Z)($.current,{scrollMode:"if-needed"})},[ee]),"view"!==et)?(0,j.jsxs)("form",{onSubmit:ec(async s=>{"delete"===et?await deleteChat(i.id):await ed.h.chat.update(i.id,i=>({...i,title:s.title})),er("view")}),className:"flex px-2 h-8 items-center justify-between gap-1",children:["delete"===et?(0,j.jsxs)("span",{className:"truncate text-sm",children:[_("app.delete"),' "',i.title,'"']}):(0,j.jsx)("input",{required:!0,autoFocus:!0,...eh("title"),className:"text-sm bg-transparent border bg-white dark:bg-zinc-600 focus:border-blue-500 ring-blue-500 outline-none focus:ring-2 rounded-md px-2 w-full h-7",onKeyDown:s=>{"Escape"===s.key&&(s.preventDefault(),er("view"))}}),(0,j.jsxs)("div",{className:"flex items-center justify-between gap-1 shrink-0",children:[(0,j.jsx)(ei.z,{type:"submit",className:"h-7 w-7 p-0 text-green-500",children:(0,j.jsx)("span",{className:"i-tabler-check"})}),(0,j.jsx)(ei.z,{type:"button",onClick:()=>{er("view")},className:"h-7 w-7 p-0 text-red-500",children:(0,j.jsx)("span",{className:"i-tabler-x"})})]})]}):(0,j.jsxs)(eO.b,{innerRef:$,href:{query:{chat:i.id}},shallow:!0,className:(0,eo.cn)("group px-2 h-8 flex items-center justify-between rounded-lg ",ee?"bg-zinc-300 dark:bg-zinc-600":"hover:bg-zinc-200 dark:hover:bg-zinc-700"),children:[(0,j.jsxs)("div",{className:"flex items-center gap-2 overflow-hidden",children:[(0,j.jsx)("button",{type:"button",className:(0,eo.cn)("shrink-0",!i.bookmarked&&"group-hover:i-tabler-star",i.bookmarked?"i-tabler-star-filled text-orange-500":ee?"i-ion-chatbox":"i-ion-chatbox-outline"),onClick:s=>{s.preventDefault(),bookmarkChat(i.id)}}),(0,j.jsx)("span",{className:"text-sm truncate",children:i.title})]}),(0,j.jsxs)("div",{className:"hidden group-hover:flex items-center",children:[(0,j.jsx)("button",{type:"button","aria-label":"Rename chat",className:"w-6 h-6 rounded-lg inline-flex items-center justify-center",...(0,eu.DX)(()=>{er("rename")}),children:(0,j.jsx)("span",{className:"i-lucide-edit-3"})}),(0,j.jsx)("button",{type:"button","aria-label":"Delete chat",...(0,eu.DX)(()=>{er("delete")}),className:"w-6 h-6 rounded-lg inline-flex items-center justify-center ",children:(0,j.jsx)("span",{className:"i-ion-trash-outline"})})]})]})},ChatList=s=>{let{chatId:i,chats:o,recentChats:_,segment:$}=s,ee=(0,eC.useTranslations)(),et=(0,en.useMemo)(()=>{if(!$)return null;let s=new Map,i=eA()(),j=[{title:"today",since:i.startOf("day")},{title:"yesterday",since:i.startOf("day").subtract(1,"day")},{title:"last_7_days",since:i.startOf("day").subtract(7,"day")},{title:"last_30_days",since:i.startOf("day").subtract(30,"day")},{title:"all"}];for(let i of o){let o=eA()(i.lastReplyAt||i.createdAt);for(let _ of j)if(!_.since||o.isAfter(_.since)){let o=s.get(_.title)||[];o.push(i),s.set(_.title,o);break}}return[...s.entries()].map(s=>{let[i,o]=s;return{title:i,chats:o}})},[$,o]);return et?(0,j.jsx)("div",{className:"space-y-5 mt-2",children:et.map(s=>(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"px-2 text-xs text-zinc-500 dark:text-zinc-400 mb-1",children:ee("app.".concat(s.title))}),(0,j.jsx)(ChatList,{chatId:i,chats:s.chats,recentChats:_})]},s.title))}):(0,j.jsx)("div",{className:"flex flex-col gap-1",children:o.map(s=>(0,j.jsx)(ChatItem,{chatId:i,chat:s},s.id))})},eK="px-3",Sidebar=s=>{let{showSidebar:i,setShowSidebar:o,chatId:_}=s,$=(0,eC.useTranslations)(),ee=(0,et.useRouter)(),ei=(0,eS.jp)(),er=(0,ed.NX)(),[ec,eh]=(0,en.useState)(""),[ef]=(0,ek.Nr)(ec,300),em=(0,eN.T)(),eg=(0,en.useRef)(!1),[eb,ey]=(0,en.useState)(!1),ew=(0,eT.O9)(),ez=(0,en.useMemo)(()=>(0,eu.df)(er.data?[...er.data.values()]:[],"desc"),[er.data]),eD=(0,en.useMemo)(()=>{let s=[],i=[];for(let o of ez)o.bookmarked?s.push(o):i.push(o);return{bookmarked:s,recent:i}},[ez]),eA=(0,ex.a)(["search",ef],()=>searchMessages({query:ef}),{refetchOnWindowFocus:!1}),eF=(0,en.useCallback)(s=>{s.preventDefault(),eg.current=!0,document.body.classList.add("resizing-sidebar")},[]),eO=e_.S.getChangelog.useQuery(void 0,{trpc:{context:{skipBatch:!0}},enabled:!0}),eP="inline-flex items-center hover:text-black dark:hover:text-white outline-none hover:bg-zinc-200 dark:hover:bg-zinc-700 h-8 w-8 justify-center rounded-lg relative",eJ=useCheckCommitSha();return(0,en.useEffect)(()=>{var s;let i=null===(s=eO.data)||void 0===s?void 0:s[0];i&&(i.id!==localStorage.getItem("read-changelog")?ey(!0):ey(!1))},[eO.data]),(0,en.useEffect)(()=>{let onMouseMove=s=>{if(!eg.current)return;let i=s.pageX;if(i<200||i>window.innerWidth-400)return;let o="".concat(i,"px");document.documentElement.style.setProperty("--sidebar-width",o),localStorage.setItem("sidebarWidth",o)},onDragEnd=()=>{eg.current=!1,document.body.classList.remove("resizing-sidebar")};return document.addEventListener("mousemove",onMouseMove),document.addEventListener("mouseup",onDragEnd),document.addEventListener("mouseleave",onDragEnd),()=>{document.removeEventListener("mousemove",onMouseMove),document.removeEventListener("mouseup",onDragEnd),document.removeEventListener("mouseleave",onDragEnd)}},[]),(0,j.jsxs)(j.Fragment,{children:[i&&(0,j.jsx)(ep.h,{children:(0,j.jsx)("div",{className:"bg-black/20 fixed inset-0 z-10 md:hidden",onClick:()=>o(!1)})}),(0,j.jsxs)("div",{"aria-label":"sidebar",className:(0,eo.cn)("transition-transform fixed inset-0 w-[80%] md:w-sidebar-width border-r left-0 top-0 bottom-0 bg-zinc-100 dark:bg-zinc-800 dark:text-white shrink-0 z-20 flex flex-col",i?"translate-x-0":"-translate-x-full"),"data-tauri-drag-region":!0,children:[(0,j.jsx)("div",{"aria-hidden":!0,"aria-label":"resize-handler",className:"resize-handler absolute right-0 top-0 bottom-0 w-1 z-20 cursor-ew-resize hover:bg-blue-500",onMouseDown:eF}),!1,(0,j.jsxs)("header",{className:(0,eo.cn)("h-header-height shrink-0 flex items-center justify-between",eK,eT.lU&&!ew&&"justify-end"),"data-tauri-drag-region":!0,children:[(!eT.lU||ew)&&(0,j.jsx)(ev(),{href:"/",shallow:!0,children:(0,j.jsx)(ej.J,{className:(0,eo.cn)(eT.lU?"text-lg":"text-xl")})}),(0,j.jsx)("button",{type:"button",className:"-mr-2 inline-flex items-center justify-center shrink-0 h-7 w-8 rounded-lg text-sm transition-colors text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 hover:text-black dark:hover:text-white dark:hover:bg-zinc-700",onClick:()=>o(!1),children:(0,j.jsx)("span",{className:"i-sf-sidebar-left"})})]}),(0,j.jsxs)("div",{className:(0,eo.cn)("flex items-center gap-1.5 shrink-0",eK),children:[(0,j.jsxs)("div",{className:"flex items-center flex-grow bg-zinc-200/80 dark:bg-zinc-700/50 rounded-lg h-7 pl-2 focus-within:ring-2 focus-within:border-blue-500 ring-blue-500 relative",children:[(0,j.jsx)("label",{className:"i-lucide-search text-zinc-500 shrink-0",htmlFor:"sidebar-search"}),(0,j.jsx)("input",{id:"sidebar-search",className:(0,eo.cn)("bg-transparent flex-grow outline-none h-full px-2 w-full",ec&&"pr-7"),value:ec,onChange:s=>{if(!ei.data){(0,eI._)($("app.chat_search_is_premium_feature"));return}eh(s.target.value)}}),ec&&(0,j.jsx)("button",{type:"button",className:"absolute right-0 w-8 h-8 rounded-full inline-flex items-center justify-center",onClick:()=>eh(""),children:(0,j.jsx)("span",{className:"i-lucide-x"})})]}),(0,j.jsx)("button",{type:"button",className:"h-7 w-7 shrink-0 rounded-lg inline-flex items-center justify-center bg-zinc-200/80 dark:bg-zinc-700/50 active:ring-2 ring-blue-500 text-zinc-500 dark:text-zinc-400",onClick:()=>(0,ed.T6)(ee),children:(0,j.jsx)("span",{className:"i-tabler-plus"})})]}),ef&&(eA.isLoading||eA.data&&eA.data.length>0)&&(0,j.jsxs)("div",{className:(0,eo.cn)("mt-2 overflow-auto flex-grow",eK),children:[eA.isLoading&&(0,j.jsx)("div",{className:"my-3 py-2 flex items-center justify-center",children:(0,j.jsx)(el.$,{})}),eA.data&&eA.data.length>0&&(0,j.jsx)("div",{className:"flex flex-col gap-2 my-2",children:eA.data.map(s=>(0,j.jsx)(SearchResultItem,{message:s},s.id))})]}),!ef&&eD.bookmarked.length>0&&(0,j.jsx)("div",{className:(0,eo.cn)("py-2 border-b shrink-0",eK),children:(0,j.jsx)(ChatList,{chats:eD.bookmarked,recentChats:eD.recent,chatId:_})}),(0,j.jsx)("div",{className:(0,eo.cn)("p-2 flex-grow overflow-auto space-y-5 flex flex-col justify-between"),children:(0,j.jsx)("div",{children:eD.recent.length>0&&!ef&&(0,j.jsx)(ChatList,{chats:eD.recent,recentChats:eD.recent,chatId:_,segment:!0})})}),(0,j.jsxs)("div",{className:"border-t h-header-height shrink-0 flex justify-between items-center",children:[(0,j.jsx)("div",{className:"text-sm px-2",children:(0,j.jsxs)("button",{type:"button",className:"flex w-full items-center px-2 h-8 gap-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg",...(0,eu.DX)(()=>{(0,eL.gp)(ee,"#prompts")}),children:[(0,j.jsx)("span",{className:"i-tabler-bulb"}),(0,j.jsx)("span",{children:$("app.prompts")})]})}),(0,j.jsx)("div",{className:"text-sm  shrink-0 px-2 flex justify-between items-center gap-1",children:(0,j.jsxs)("div",{className:"flex items-center",children:[eJ.data&&(0,j.jsxs)(eE.u,{children:[(0,j.jsx)(eE.aJ,{asChild:!0,children:(0,j.jsx)("button",{type:"button",className:(0,eo.cn)(eP,"text-orange-500 hover:!text-orange-600 text-lg"),onClick:()=>{window.location.reload()},children:(0,j.jsx)("span",{className:"i-mdi-refresh-circle"})})}),(0,j.jsx)(eE._v,{children:$("updater.new_version_available")})]}),(0,j.jsxs)(eU.hg,{children:[(0,j.jsx)(eU.zx,{type:"button",className:eP,children:(0,j.jsx)("span",{className:"i-tabler-apps"})}),(0,j.jsx)(eR.Q,{label:"AI tools",title:"AI Tools",contentClass:"md:max-w-screen-md",children:(0,j.jsx)("div",{className:"mt-3 grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:eM.r.filter(s=>""!==s.id).map(s=>(0,j.jsxs)(ev(),{href:"/".concat(s.id),className:"flex flex-col rounded-lg gap-2 items-center text-center justify-center transition-colors dark:bg-zinc-800 bg-zinc-50 hover:bg-zinc-100 p-5 dark:hover:bg-zinc-700",children:[(0,j.jsx)("span",{className:(0,eo.cn)(s.icon,"text-4xl")}),(0,j.jsx)("span",{className:"truncate text-lg font-medium",children:s.title})]},s.id))})})]}),(0,j.jsxs)(eU.bF,{children:[(0,j.jsxs)(eU.zx,{type:"button",className:eP,children:[(0,j.jsx)("span",{className:"i-tabler-dots"}),eb&&(0,j.jsx)("span",{className:"absolute top-0 right-0 w-2 h-2 rounded-full bg-red-500"})]}),(0,j.jsx)(eq.H,{placement:"top",children:em.map(s=>(0,j.jsx)(eq.w,{id:s.label,href:s.href,target:s.href.endsWith("/discord")||(0,eu.Bm)(s.href)?"_blank":void 0,children:(0,j.jsxs)("span",{className:"relative",children:[s.label,eb&&"/changelog"===s.href&&(0,j.jsx)("span",{className:"absolute top-0 right-0 translate-x-full w-2 h-2 rounded-full bg-red-500"})]})},s.label))})]})]})})]})]})]})};var eJ=o(88906),eQ=o(54797),eB=o(47394),eW=o(21734),eG=o(24180),eH=o(64305),eV=o(89691),eZ=o(33597),eX=o(29714),eY=o(39114),e$=o(24650),e0=o(6604),e1=o(16361),e2=o(36637),e5=o(74970),e4=o(49739),e3=o(51129),e8=o(85444),e6=o(77462);let e7={chat:null,generateTitle:null,generateFollowups:null},abort=s=>{if("all"===s)Object.values(e7).forEach(s=>null==s?void 0:s.abort());else{var i;null===(i=e7[s])||void 0===i||i.abort()}},resetAbortControllers=()=>{let s=new AbortController;return e7.chat=s,e7.generateTitle=s,e7.generateFollowups=s,s};function ChatPage(){var s,i,o,ep,ex,eb,ev,ey,ew,ej,ek,eN;let ez=(0,et.useRouter)(),e_=(0,eB.G)("(max-width: 768px)"),[eI,eD]=(0,en.useState)(null),[eA,eM]=(0,en.useState)(),eE=(0,en.useRef)(null),[eO,eP]=(0,en.useState)(null),[eU,eq]=(0,e1.co)(),eR=(0,eC.useTranslations)(),eK=(0,eT.O9)(),e9=(0,_.NL)(),te=(0,ed.NX)(),tt=(0,ed.kY)(eA),setItemInCache=async(s,i)=>{await e9.cancelQueries({queryKey:s});let o=e9.getQueryData(s)||new Map;o.set(i.id,i),e9.setQueryData(s,new Map(o))},deleteItemInCache=async(s,i)=>{await e9.cancelQueries({queryKey:s});let o=e9.getQueryData(s);o&&o.delete(i),e9.setQueryData(s,new Map(o))},setMessage=async s=>{let{message:i,shouldPush:o,cacheOnly:j}=s;await setItemInCache((0,ed.oV)(i.chatId),i),j||(await ed.h.message.set(i,{shouldPush:o,shouldEmit:!1}),await ed.h.chat.update(i.chatId,s=>({...s,lastReplyAt:new Date}),{shouldPush:o}))},{config:ts,loaded:tn}=(0,eh.ZR)(),ti=(0,eS.jp)(),tr=(0,en.useMemo)(()=>eA&&te.data?te.data.get(eA):void 0,[te.data,eA]),tl=(0,en.useMemo)(()=>tr?(0,ed.KF)(tr):JSON.parse(JSON.stringify(ts.defaultChatSettings||{})),[tr,ts.defaultChatSettings]),[to,tc]=(0,en.useState)(""),[td,th]=(0,en.useState)([]),[tu,tf]=(0,en.useState)(null),[tm,tg]=(0,en.useState)(null),tp=(0,en.useRef)(null),tx=(0,en.useMemo)(()=>tl.model&&/^(pplx-|openrouter-)/.test(tl.model)?tl.model:(null==tl?void 0:tl.model)==="claude"?"claude":"gpt-3.5-turbo",[tl.model]),tb=(0,$.D)(async s=>{let{ai:i,user:o,signal:j,force:_}=s;if(!eA||!tr||"untitled"!==tr.title.toLowerCase()&&!_||!1===ts.generateChatTitle&&!_)return;let $="",{output:ee}=await (0,ec.Nq)([{role:tx.startsWith("gpt-")?"system":"user",content:["Write a short and relevant title to describe the given conversation, only return the title without anything else, rules:","- Don't mention AI, User and Human.","- The title MUST use the same language as the conversation.","The conversation is shown below:","USER: ".concat(o),"AI: ".concat(i)].join("\n")}],{model:tx,signal:j,maxTokens:20,config:ts,temperature:.1,t:eR,alwaysUseCredits:!!tl.alwaysUseCredits,onText(s){$+=s,ed.h.chat.update(eA,s=>({...s,title:$}),{shouldPush:!1})}}).catch(()=>({output:""}));ee&&!ee.toLowerCase().startsWith("sorry")&&ed.h.chat.update(eA,s=>({...s,title:ee.replace(/^"/,"").replace(/"$/,"")}))}),tv=(0,$.D)(async s=>{var i;let{assistant:o,user:j,signal:_,force:$}=s;if(!1===ts.generateFollowupQuestions&&!$||!o||!j)return;let{output:ee}=await (0,ec.Nq)([{role:"user",content:["ONLY return a valid JSON array (no other text is allowed), rules you must follow:","- Read the following conversation between AI and Human and generate at most 3 follow-up messages or questions the Human can ask",'- Your response MUST be a valid JSON array of strings like this: ["some question", "another question"]',"- Each message in your response should be concise, no more than 15 words","- You MUST reply in the same written language as the conversation","- Don't output anything other text","The conversation is shown below:","USER: ".concat(j),"AI: ".concat(o)].join("\n")}],{signal:_,streaming:!1,config:ts,model:tx,t:eR,maxTokens:100,alwaysUseCredits:!!tl.alwaysUseCredits});if(null===(i=e7.generateFollowups)||void 0===i?void 0:i.signal.aborted)return[];try{let s=JSON.parse(ee.trim().replace(/^```json\n*/,"").replace(/\n*```$/,""));if(Array.isArray(s)&&s.every(s=>"string"==typeof s))return s;return[]}catch(s){return[]}}),send=async s=>{var i,o,j,_,$,et;let{input:en,files:ei,inputRole:er,retry:el,writeToAssistantMessage:eo}=s;if(tv.reset(),abort("all"),null===(i=eE.current)||void 0===i||i.focus(),!eA)return;if(!ti.data&&((null===(o=tl.model)||void 0===o?void 0:o.includes("vision"))||(null===(j=ts.installedPlugins)||void 0===j?void 0:j.some(s=>s.enabled&&"chatkit_dalle"===s.name_for_model)))){(0,eL.gp)(ez,"#pricing");return}let eh=!!(ei&&ei.length>0);if(!el&&!en.trim()&&!eh)return;let ef=resetAbortControllers();tg(null);let em=!ez.query.chat,eg=(null==eo?void 0:eo.id)||(0,ee.x0)();try{let s,i;em&&(console.log("creating new chat..."),await ed.h.chat.set({id:eA,title:"Untitled",createdAt:new Date,...tl}),await ez.push({query:{chat:eA}},void 0,{shallow:!0}));let o=(0,eu.df)([...(await ed.h.message.find({filter:s=>s.chatId===eA})).values()],"asc"),j=[];if(o.length>0&&el){for(let s of[...o].reverse()){if("string"==typeof el){if(s.id===el)break}else if("assistant"!==s.role){en=s.content;break}j.push(s.id)}j.length>0&&await ed.h.message.deleteMany({filter:j,shouldPush:!1})}let ep=(null==tl?void 0:tl.initialSystemMessage)||(0,eu.D2)(),ex=en.trim();tc(""),th([]);let eb=[...o.filter(s=>!j.includes(s.id))].filter(eu.Dw);(ex||eh)&&!el&&(s={id:(0,ee.x0)(),chatId:eA,content:ex,files:ei,role:er||"user",createdAt:new Date},await setMessage({message:s,shouldPush:!1})),tf(eg);let ev=eo||{id:eg,chatId:eA,content:"",role:"assistant",createdAt:new Date,duration:0};await setMessage({message:ev,shouldPush:!1});let ey=[...(0,eu.df)([...eb,...s?[{...s}]:[]],"asc"),eo&&{role:"user",content:"continue generating from the last message"}].filter(eu.Dw),ew=ev.content,ej=[...e$.a,...ts.customPlugins||[]],ek=Date.now()-(ev.duration||0),{functionCall:eN}=await (0,ec.Nq)(ey,{config:ts,context:null==tl?void 0:tl.context,denoteCodeBlock:!0,signal:ef.signal,model:null==tl?void 0:tl.model,temperature:null==tl?void 0:tl.temperature,maxTokens:null==tl?void 0:tl.maxResponseTokens,streaming:ts.streamingResponse,plugins:ej,initialSystemMessage:ep,enabledPluginNames:"claude"===tl.model?void 0:null===(_=ts.installedPlugins)||void 0===_?void 0:_.filter(s=>s.enabled).map(s=>s.name_for_model),t:eR,alwaysUseCredits:!!tl.alwaysUseCredits,onText(s){ef.signal.aborted||(ew+=s,i=setMessage({message:{...ev,content:ew,duration:Date.now()-ek},shouldPush:!1,cacheOnly:!0}))},includeLastNMessages:(null==tl?void 0:tl.includeLastNMessages)||ed.OM}).finally(async()=>{await i,await setMessage({message:{...ev,content:ew,duration:Date.now()-ek},shouldPush:!1})}),eC=Date.now(),e_=eC-ek;if(console.log("Finished in ".concat(e_/1e3,"s")),ts.tts_autoPlay&&e3.e.play({config:ts,licenseKey:null===($=ti.data)||void 0===$?void 0:$.licenseKey,text:ew,messageId:eg,alwaysUseCredits:!!tl.alwaysUseCredits,router:ez,t:eR}),eN){(0,eu.k_)(ef.signal),await setMessage({message:{...ev,content:ew,function_call:eN},shouldPush:!1});let s=ej.find(s=>s.name_for_model===eN.name),i=null===(et=ts.installedPlugins)||void 0===et?void 0:et.find(s=>s.name_for_model===eN.name);if(s&&i){(0,eu.k_)(ef.signal);let{result:o,renderFunctionResult:j}=await (0,e$.p)(s,{arguments:eN.arguments&&JSON.parse(eN.arguments),signal:ef.signal,config:i.config||{}},{config:ts,alwaysUseCredits:tl.alwaysUseCredits,t:eR});if((0,eu.k_)(ef.signal),await setMessage({message:{...ev,...j?{content:"",renderFunctionResult:!0,function_call:eN,function_result:o}:{content:"",function_call:eN,function_result:o}},shouldPush:!1}),!j)return(0,eu.k_)(ef.signal),send({input:"",retry:eg})}}(0,eu.k_)(ef.signal),tf(null),eF.Dw.push(),tb.mutate({ai:ew,user:ex,signal:ef.signal}),tv.mutate({user:ex,assistant:ew,signal:ef.signal})}catch(s){eF.Dw.push(),console.error(s),tf(null),ef.signal.aborted||s instanceof Error&&tg(s.message)}};(0,en.useEffect)(()=>{"string"==typeof ez.query.chat&&te.data&&!te.data.has(ez.query.chat)&&ez.replace("/")},[ez.query.chat,te.data]),(0,en.useEffect)(()=>{let s=ed.h.chat.subscribe(s=>{"set"===s.type?setItemInCache(ed.fH,s.payload):"delete"===s.type&&deleteItemInCache(ed.fH,s.payload)});return()=>{s()}},[]),(0,en.useEffect)(()=>{let s=ed.h.message.subscribe(s=>{"set"===s.type?s.payload.chatId===eA&&setItemInCache((0,ed.oV)(eA),s.payload):"delete"===s.type&&eA&&deleteItemInCache((0,ed.oV)(eA),s.payload)});return()=>{s()}},[eA]),(0,en.useEffect)(()=>{ez.isReady&&(eM(ez.query.chat||(0,ee.x0)()),tg(null),th([]),tv.reset())},[ez.query.chat,ez.isReady]),(0,en.useEffect)(()=>{tl.model&&!tl.model.includes("vision")&&th([])},[tl.model]);let ty=(0,en.useMemo)(()=>tt.data?(0,eu.df)([...tt.data.values()],"asc"):[],[tt.data]),tw=(0,en.useMemo)(()=>ty?ty.filter(s=>"user"===s.role).reverse()[0]:null,[ty]),resetChat=async()=>{tv.reset(),tg(null),await ed.h.message.deleteMany({filter:s=>s.chatId===eA})};(0,en.useEffect)(()=>{if(null!==e_){if(e_)eD(!1);else{let s=(0,ed.KT)();s.getItem("show_sidebar").then(s=>{"boolean"==typeof s?eD(s):eD(!0)})}}},[e_]),(0,en.useEffect)(()=>{if(!1===e_&&"boolean"==typeof eI){let s=(0,ed.KT)();s.setItem("show_sidebar",eI)}},[e_,eI]),(0,en.useEffect)(()=>{(0,eX.j)().then(s=>{switch(s){case"never":console.log("Not possible to persist storage");break;case"persisted":console.log("Successfully persisted storage silently");break;case"prompt":console.log("Not persisted, requesting permission..."),navigator.storage.persist().then(s=>{s?console.log("Storage will not be cleared except by explicit user action"):console.log("Storage may be cleared by the UA under storage pressure.")})}})},[]);let tj=(0,en.useRef)(null),getScreenshot=async s=>{if(!tj.current)return;let i=eV.Am.loading("Generating screenshot...");try{tj.current.classList.add("is-screenshot");let o=tj.current.getBoundingClientRect(),j="url"===s?eH.YM:eH.SE,_=localStorage.getItem("theme"),$=_&&"system"!==_?"dark"===_:window.matchMedia("(prefers-color-scheme: dark)").matches,ee=await j(tj.current,{backgroundColor:$?"#18181b":"white",width:o.width+40,height:o.height+40,style:{padding:"20px"},cacheBust:!0});return eV.Am.success("Screenshot generated!",{id:i}),ee}catch(s){console.error(s),eV.Am.error("Failed to generate screenshot",{id:i})}finally{tj.current.classList.remove("is-screenshot")}},saveScreenshot=async()=>{let s=await getScreenshot("url");if(s){let i=document.createElement("a");i.download="chat-screenshot.png",i.href=s,i.click()}},viewScreenshot=async()=>{let s=await getScreenshot("blob");if(s){let i=URL.createObjectURL(s);window.open(i,"_blank")}},generateChatTitle=()=>{var s;e7.generateTitle&&e7.generateTitle.abort();let i=ty.slice(-2),o=new AbortController;e7.generateTitle=o,tb.mutate({ai:(null===(s=i[1])||void 0===s?void 0:s.content)||"",user:i[0].content||"",signal:o.signal,force:!0})},generateFollowupQuestions=()=>{var s;e7.generateFollowups&&e7.generateFollowups.abort();let i=ty.slice(-2),o=new AbortController;e7.generateFollowups=o,tv.mutate({assistant:(null===(s=i[1])||void 0===s?void 0:s.content)||"",user:i[0].content||"",signal:o.signal,force:!0})},tk="md:ml-sidebar-width",tN=eI?"max-w-4xl":"max-w-6xl";(0,en.useEffect)(()=>{let s;if("gpt-4"===tl.model||"gpt-4-32k"==tl.model){let i=!localStorage.getItem("gpt-4-turbo-toast-dismissed");if(!i)return;s=(0,eV.Am)(s=>(0,j.jsxs)("div",{className:"flex flex-col  gap-2",children:[(0,j.jsx)("div",{className:"text-sm",children:eR("toast.suggest_gpt_4_turbo")}),(0,j.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,j.jsx)(ei.z,{type:"button",onClick:async()=>{eA&&(await (0,ed.D0)(ez,eA,{model:"gpt-4-turbo"}),eV.Am.dismiss(s.id),eV.Am.success(eR("toast.change_to_gpt_4_turbo_success"),{duration:2e3,position:"bottom-right"}))},children:eR("app.change")}),(0,j.jsx)(ei.z,{type:"button",onClick:()=>{localStorage.setItem("gpt-4-turbo-toast-dismissed","true"),eV.Am.dismiss(s.id)},children:eR("app.dismiss")})]})]}),{position:"bottom-right",duration:1e4})}return()=>{s&&eV.Am.dismiss(s)}},[eA,tl.model]),(0,en.useEffect)(()=>{fetch("https://is-openai-down.chatkit.app/check").then(async s=>{if(!s.ok)return;let i=await s.json();i.is_down&&eV.Am.error(eR("toast.openai_is_down"),{position:"bottom-right"})}).catch(console.error)},[]),(0,en.useEffect)(()=>{if(tt.isSuccess&&te.isSuccess)return console.log("init sync manager"),eF.Dw.pushAll(),eF.Dw.pullPeriodically()},[tt.isSuccess,te.isSuccess]),(0,e5.f)(async()=>{await eF.Dw.push(),await eF.Dw.pull()});let tC=(0,en.useMemo)(()=>{var s,i;return null===(i=ts.installedPlugins)||void 0===i?void 0:null===(s=i.filter(s=>s.enabled))||void 0===s?void 0:s.length},[ts.installedPlugins]),tz=(0,en.useMemo)(()=>(0,ec.R3)(tl.model),[tl.model]),t_=!!(tu||tv.isLoading||tb.isLoading),stopGenerating=()=>{abort("all"),tf(null)},submit=()=>send({input:to,files:td}),tS=!!(to.trim()||td.length>0),tI=tl.initialSystemMessage||(0,eu.D2)();return eA&&!te.isLoading&&tn&&null!==e_&&null!==eI?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(eJ.D,{}),(0,j.jsx)(e2.C,{chatId:eA}),(0,j.jsx)(eg.n,{}),(0,j.jsx)(eQ.F,{chatId:eA,currentChat:tr}),(0,j.jsx)(eY.v,{}),(0,j.jsx)(e8.G,{setInput:tc,setPromptVariablesFormState:eP}),(0,j.jsx)(e6.Y,{promptVariablesFormState:eO,setPromptVariablesFormState:eP,setInput:tc,focusInput:()=>{var s;null===(s=eE.current)||void 0===s||s.focus()}}),(0,j.jsx)(e0.Q,{isDanger:!0,isOpen:eU,setIsOpen:eq,title:eR("delete_chat_messages.title"),desc:eR("delete_chat_messages.desc"),onConfirm:()=>{resetChat(),eq(!1)}}),(0,j.jsx)(Sidebar,{showSidebar:eI,setShowSidebar:eD,chatId:eA}),(0,j.jsxs)("div",{className:(0,eo.cn)("h-screen flex flex-col",eI&&tk),children:[(0,j.jsxs)("header",{className:(0,eo.cn)("h-header-height bg-white/80 dark:bg-zinc-900 dark:text-zinc-200 flex px-3 items-center border-b dark:border-zinc-700 justify-between shrink-0 gap-5 z-10 transition-all"),"data-tauri-drag-region":!0,children:[(0,j.jsxs)("div",{className:"flex items-center",children:[!eI&&(0,j.jsx)("button",{type:"button",className:(0,eo.cn)("-ml-2 inline-flex items-center justify-center shrink-0 h-7 w-8 rounded-lg text-sm transition-colors text-zinc-600 dark:text-zinc-300 hover:bg-zinc-200 hover:text-black dark:hover:text-white dark:hover:bg-zinc-700",eT.lU&&!eK&&"ml-[4.5rem]"),onClick:()=>eD(s=>!s),children:(0,j.jsx)("span",{className:"i-sf-sidebar-left"})}),(0,j.jsx)(e4.q,{model:tl.model||"gpt-3.5-turbo",onChange:s=>{s&&(0,ed.D0)(ez,eA,{model:s})},isStandalone:!0}),tz&&(0,j.jsxs)(ei.z,{type:"button",variant:"ghost",className:"h-8 dark:text-zinc-400 dark:hover:text-white gap-0.5",onClick:()=>{(0,eL.gp)(ez,"#chat_plugins")},children:[(0,j.jsx)("span",{className:"i-ion-extension-puzzle-outline shrink-0"}),tC?(0,j.jsx)("span",{children:tC}):null]})]}),(0,j.jsxs)("div",{className:"flex items-center shrink-0",children:[(0,j.jsxs)(ei.z,{type:"button",className:(0,eo.cn)("h-8 gap-1",ti.data?"":"text-yellow-500 font-semibold"),variant:"ghost",onClick:s=>{(0,eL.gp)(ez,"#pricing")},children:[(0,j.jsx)("span",{className:(0,eo.cn)("shrink-0",ti.data?"i-tabler-discount-check text-base":"i-ion-diamond-outline text-base")}),(0,j.jsx)("span",{className:"hidden md:inline-block",children:ti.data?eR("app.licensed"):eR("app.premium")})]}),(0,j.jsx)(ei.z,{type:"button",className:"h-8 w-8 p-0 text-base",variant:"ghost",onClick:()=>{(0,eL.gp)(ez,"#chat_settings")},children:(0,j.jsx)("span",{className:"i-tabler-message-2-cog"})}),(0,j.jsx)(ei.z,{type:"button",className:"h-8 w-8 p-0 text-base",variant:"ghost",onClick:()=>{(0,eJ.r)(ez,"general")},children:(0,j.jsx)("span",{className:"i-tabler-settings"})})]})]}),(0,j.jsx)(eG.g,{className:(0,eo.cn)("flex flex-col grow dark:bg-zinc-900 dark:text-zinc-200 transition-transform overflow-auto"),children:(0,j.jsx)("div",{className:"pt-10 py-10 px-4",children:(0,j.jsxs)("div",{className:(0,eo.cn)("mx-auto flex flex-col gap-10",tN),children:[(0,j.jsx)("div",{className:(0,eo.cn)("flex items-center justify-center flex-col gap-1 mb-5"),children:(0,j.jsxs)("button",{type:"button",className:"border hover:bg-zinc-50 rounded-2xl p-3 px-4 text-xs max-w-[300px] w-[fit-content] mx-auto text-center flex flex-col gap-1 items-center dark:hover:bg-zinc-800 dark:hover:border-zinc-500 group",...(0,eu.DX)(()=>{(0,eL.gp)(ez,"#chat_settings")}),children:["claude"!==tl.model&&(0,j.jsx)("div",{className:"text-zinc-500 dark:group-hover:text-zinc-400",children:(null===(s=tl.model)||void 0===s?void 0:s.startsWith("custom:"))?eR("app.using_custom_model"):!tl.alwaysUseCredits&&(!ti.data||ts.openAIEndpoint_230510||ts.openAIKey)||(null===(i=tl.model)||void 0===i?void 0:i.startsWith("openrouter-"))||(null===(o=tl.model)||void 0===o?void 0:o.startsWith("pplx-"))||(null===(ep=tl.model)||void 0===ep?void 0:ep.includes("gemini"))||(null===(ex=tl.model)||void 0===ex?void 0:ex.includes("cohere"))?eR("app.using_api_key"):eR("app.using_credits")}),(0,j.jsxs)("div",{className:"text-zinc-500 dark:group-hover:text-zinc-400",children:[eR("chat_settings.temperature.label"),":"," ","number"==typeof tl.temperature?tl.temperature:"0.5"]}),(null===(ev=tl.context)||void 0===ev?void 0:null===(eb=ev.sources)||void 0===eb?void 0:eb.length)?(0,j.jsx)("div",{className:"text-zinc-500 dark:group-hover:text-zinc-400",children:eR("app.x_context_urls",{count:tl.context.sources.length})}):null,tI&&(0,j.jsx)("div",{className:"line-clamp-2 text-zinc-500 dark:group-hover:text-zinc-400 break-words",children:tI})]})}),!ts.openAIKey&&!ti.data&&tt.data&&0===ty.length&&(0,j.jsx)(eZ.A,{}),tt.isLoading&&tt.isPreviousData&&(0,j.jsx)("div",{className:"flex items-center justify-center",children:(0,j.jsx)(el.$,{delay:300})}),ty.length>0&&(0,j.jsx)("div",{ref:tj,className:"flex-grow space-y-5",children:ty.map(s=>(0,j.jsx)(ef.t,{message:s,editable:!0,isResponding:tu===s.id,retryFromCurrentMessage:()=>send({input:to,files:td,retry:s.id,writeToAssistantMessage:"assistant"===s.role?s:void 0}),model:tl.model,alwaysUseCredits:tl.alwaysUseCredits},s.id))}),!ts.openAIKey&&te.data&&!ti.data&&(null===(ey=tl.model)||void 0===ey?void 0:ey.startsWith("gpt-"))&&(0,j.jsx)(er.Z,{type:"openai"}),!ts.openRouterKey&&(null===(ew=tl.model)||void 0===ew?void 0:ew.startsWith("openrouter-"))&&(0,j.jsx)(er.Z,{type:"openrouter"}),!ts.pplxKey&&(null===(ej=tl.model)||void 0===ej?void 0:ej.startsWith("pplx-"))&&(0,j.jsx)(er.Z,{type:"pplx"}),!ts.cohereKey&&"cohere"===tl.model&&(0,j.jsx)(er.Z,{type:"cohere"}),!ts.geminiKey&&(null===(ek=tl.model)||void 0===ek?void 0:ek.includes("gemini"))&&(0,j.jsx)(er.Z,{type:"gemini"}),tm&&(0,j.jsxs)("div",{className:"flex gap-2",children:[(0,j.jsx)("div",{className:"bg-red-50 text-red-500 border-red-500 dark:bg-red-900 dark:text-white rounded-xl w-10 h-10 flex items-center justify-center text-2xl",children:(0,j.jsx)("span",{className:"i-carbon-face-neutral"})}),(0,j.jsx)("div",{className:"bg-red-50 text-red-500 border-red-500 dark:bg-red-900 dark:text-white p-3 h-full rounded-xl max-w-[70%] w-fit overflow-auto",children:(0,j.jsx)("div",{children:tm.includes("You exceeded your current quota")?(0,j.jsxs)("div",{children:["OpenAI account error: ",tm," ",(0,j.jsx)("a",{className:"underline",href:"https://help.openai.com/en/articles/6891831-error-code-429-you-exceeded-your-current-quota-please-check-your-plan-and-billing-details",target:"_blank",children:"https://help.openai.com/en/articles/6891831-error-code-429-you-exceeded-your-current-quota-please-check-your-plan-and-billing-details"})]}):tm})})]}),(0,j.jsx)(eW.Q,{isLoading:tv.isLoading,questions:tv.data,send:send,resetQuestions:tv.reset})]})})}),(0,j.jsx)("footer",{ref:tp,className:(0,eo.cn)("shrink-0 px-3 pt-2 border-t transition-transform dark:bg-zinc-900 dark:text-zinc-200 border-zinc-100 dark:border-zinc-800"),children:(0,j.jsx)("div",{className:(0,eo.cn)("mx-auto",tN),children:(0,j.jsx)(em.S,{ref:eE,chatId:eA,send:submit,retry:()=>{send({input:to,retry:!0})},input:to,setInput:tc,files:td,setFiles:th,hasInput:tS,alwaysUseCredits:!!tl.alwaysUseCredits,setPromptVariablesFormState:eP,showFileUploadButton:null===(eN=tl.model)||void 0===eN?void 0:eN.includes("vision"),latestUserMessageContent:null==tw?void 0:tw.content,hasMessages:ty.length>0,stopGenerating:stopGenerating,isResponding:t_,currentChat:tr,displayMessages:ty,error:tm,saveScreenshot:saveScreenshot,viewScreenshot:viewScreenshot,generateChatTitle:generateChatTitle,generateFollowupQuestions:generateFollowupQuestions})})})]})]}):null}var e9=(0,o(31049).$0)(ChatPage)}},function(s){var __webpack_exec__=function(i){return s(s.s=i)};s.O(0,[9545,5742,5544,2729,7855,2117,863,2455,2159,3924,4985,3825,3327,6372,4204,7327,3329,9774,2888,179],function(){return __webpack_exec__(41829)}),_N_E=s.O()}]);
