(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{52840:function(A,N){"use strict";let PromiseQueue=class PromiseQueue{constructor(A,N={}){this.process=A,this.maxConcurrent=N.maxConcurrent||1/0,this.retry=!1!==N.retry,this.queue=[],this.processing=new Set,this.processed=new Set,this.numRunning=0,this.runPromise=null,this.resolve=null,this.reject=null}add(A,...N){this.processing.has(A)||this.processed.has(A)||(this.runPromise&&this.numRunning<this.maxConcurrent?this._runJob(A,N):this.queue.push([A,N]),this.processing.add(A))}run(){if(this.runPromise)return this.runPromise;let A=new Promise((A,N)=>{this.resolve=A,this.reject=N});return this.runPromise=A,this._next(),A}async _runJob(A,N){try{this.numRunning++,await this.process(A,...N),this.processing.delete(A),this.processed.add(A),this.numRunning--,this._next()}catch(L){this.numRunning--,this.retry?this.queue.push([A,N]):this.processing.delete(A),this.reject&&this.reject(L),this._reset()}}_next(){if(this.runPromise){if(this.queue.length>0)for(;this.queue.length>0&&this.numRunning<this.maxConcurrent;){let A=this.queue.shift();this._runJob(A[0],A[1])}else 0===this.processing.size&&(this.resolve(this.processed),this._reset())}}_reset(){this.processed=new Set,this.runPromise=null,this.resolve=null,this.reject=null}};N.b=PromiseQueue},14517:function(A,N,L){"use strict";function r(A){var N,L,B="";if("string"==typeof A||"number"==typeof A)B+=A;else if("object"==typeof A){if(Array.isArray(A))for(N=0;N<A.length;N++)A[N]&&(L=r(A[N]))&&(B&&(B+=" "),B+=L);else for(N in A)A[N]&&(B&&(B+=" "),B+=N)}return B}function clsx(){for(var A,N,L=0,B="";L<arguments.length;)(A=arguments[L++])&&(N=r(A))&&(B&&(B+=" "),B+=N);return B}L.d(N,{W:function(){return clsx}}),N.Z=clsx},73474:function(A){var N,L,B,V,et,er,ei,eo,ea,es,eu,el,ec,ed,ef,eh,ep,eg,em,ev,ey;A.exports=(N="millisecond",L="second",B="minute",V="hour",et="week",er="month",ei="quarter",eo="year",ea="date",es="Invalid Date",eu=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,el=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ec=function(A,N,L){var B=String(A);return!B||B.length>=N?A:""+Array(N+1-B.length).join(L)+A},(ef={})[ed="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var N=["th","st","nd","rd"],L=A%100;return"["+A+(N[(L-20)%10]||N[L]||"th")+"]"}},eh=function(A){return A instanceof ev},ep=function t(A,N,L){var B;if(!A)return ed;if("string"==typeof A){var V=A.toLowerCase();ef[V]&&(B=V),N&&(ef[V]=N,B=V);var et=A.split("-");if(!B&&et.length>1)return t(et[0])}else{var er=A.name;ef[er]=A,B=er}return!L&&B&&(ed=B),B||!L&&ed},eg=function(A,N){if(eh(A))return A.clone();var L="object"==typeof N?N:{};return L.date=A,L.args=arguments,new ev(L)},(em={s:ec,z:function(A){var N=-A.utcOffset(),L=Math.abs(N);return(N<=0?"+":"-")+ec(Math.floor(L/60),2,"0")+":"+ec(L%60,2,"0")},m:function t(A,N){if(A.date()<N.date())return-t(N,A);var L=12*(N.year()-A.year())+(N.month()-A.month()),B=A.clone().add(L,er),V=N-B<0,et=A.clone().add(L+(V?-1:1),er);return+(-(L+(N-B)/(V?B-et:et-B))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return({M:er,y:eo,w:et,d:"day",D:ea,h:V,m:B,s:L,ms:N,Q:ei})[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return void 0===A}}).l=ep,em.i=eh,em.w=function(A,N){return eg(A,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})},ey=(ev=function(){function M(A){this.$L=ep(A.locale,null,!0),this.parse(A)}var A=M.prototype;return A.parse=function(A){this.$d=function(A){var N=A.date,L=A.utc;if(null===N)return new Date(NaN);if(em.u(N))return new Date;if(N instanceof Date)return new Date(N);if("string"==typeof N&&!/Z$/i.test(N)){var B=N.match(eu);if(B){var V=B[2]-1||0,et=(B[7]||"0").substring(0,3);return L?new Date(Date.UTC(B[1],V,B[3]||1,B[4]||0,B[5]||0,B[6]||0,et)):new Date(B[1],V,B[3]||1,B[4]||0,B[5]||0,B[6]||0,et)}}return new Date(N)}(A),this.$x=A.x||{},this.init()},A.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},A.$utils=function(){return em},A.isValid=function(){return this.$d.toString()!==es},A.isSame=function(A,N){var L=eg(A);return this.startOf(N)<=L&&L<=this.endOf(N)},A.isAfter=function(A,N){return eg(A)<this.startOf(N)},A.isBefore=function(A,N){return this.endOf(N)<eg(A)},A.$g=function(A,N,L){return em.u(A)?this[N]:this.set(L,A)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(A,N){var ei=this,es=!!em.u(N)||N,eu=em.p(A),l=function(A,N){var L=em.w(ei.$u?Date.UTC(ei.$y,N,A):new Date(ei.$y,N,A),ei);return es?L:L.endOf("day")},$=function(A,N){return em.w(ei.toDate()[A].apply(ei.toDate("s"),(es?[0,0,0,0]:[23,59,59,999]).slice(N)),ei)},el=this.$W,ec=this.$M,ed=this.$D,ef="set"+(this.$u?"UTC":"");switch(eu){case eo:return es?l(1,0):l(31,11);case er:return es?l(1,ec):l(0,ec+1);case et:var eh=this.$locale().weekStart||0,ep=(el<eh?el+7:el)-eh;return l(es?ed-ep:ed+(6-ep),ec);case"day":case ea:return $(ef+"Hours",0);case V:return $(ef+"Minutes",1);case B:return $(ef+"Seconds",2);case L:return $(ef+"Milliseconds",3);default:return this.clone()}},A.endOf=function(A){return this.startOf(A,!1)},A.$set=function(A,et){var ei,es=em.p(A),eu="set"+(this.$u?"UTC":""),el=((ei={}).day=eu+"Date",ei[ea]=eu+"Date",ei[er]=eu+"Month",ei[eo]=eu+"FullYear",ei[V]=eu+"Hours",ei[B]=eu+"Minutes",ei[L]=eu+"Seconds",ei[N]=eu+"Milliseconds",ei)[es],ec="day"===es?this.$D+(et-this.$W):et;if(es===er||es===eo){var ed=this.clone().set(ea,1);ed.$d[el](ec),ed.init(),this.$d=ed.set(ea,Math.min(this.$D,ed.daysInMonth())).$d}else el&&this.$d[el](ec);return this.init(),this},A.set=function(A,N){return this.clone().$set(A,N)},A.get=function(A){return this[em.p(A)]()},A.add=function(A,N){var ei,ea=this;A=Number(A);var es=em.p(N),y=function(N){var L=eg(ea);return em.w(L.date(L.date()+Math.round(N*A)),ea)};if(es===er)return this.set(er,this.$M+A);if(es===eo)return this.set(eo,this.$y+A);if("day"===es)return y(1);if(es===et)return y(7);var eu=((ei={})[B]=6e4,ei[V]=36e5,ei[L]=1e3,ei)[es]||1,el=this.$d.getTime()+A*eu;return em.w(el,this)},A.subtract=function(A,N){return this.add(-1*A,N)},A.format=function(A){var N=this,L=this.$locale();if(!this.isValid())return L.invalidDate||es;var B=A||"YYYY-MM-DDTHH:mm:ssZ",V=em.z(this),et=this.$H,er=this.$m,ei=this.$M,eo=L.weekdays,ea=L.months,h=function(A,L,V,et){return A&&(A[L]||A(N,B))||V[L].slice(0,et)},c=function(A){return em.s(et%12||12,A,"0")},eu=L.meridiem||function(A,N,L){var B=A<12?"AM":"PM";return L?B.toLowerCase():B},ec={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ei+1,MM:em.s(ei+1,2,"0"),MMM:h(L.monthsShort,ei,ea,3),MMMM:h(ea,ei),D:this.$D,DD:em.s(this.$D,2,"0"),d:String(this.$W),dd:h(L.weekdaysMin,this.$W,eo,2),ddd:h(L.weekdaysShort,this.$W,eo,3),dddd:eo[this.$W],H:String(et),HH:em.s(et,2,"0"),h:c(1),hh:c(2),a:eu(et,er,!0),A:eu(et,er,!1),m:String(er),mm:em.s(er,2,"0"),s:String(this.$s),ss:em.s(this.$s,2,"0"),SSS:em.s(this.$ms,3,"0"),Z:V};return B.replace(el,function(A,N){return N||ec[A]||V.replace(":","")})},A.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},A.diff=function(A,N,ea){var es,eu=em.p(N),el=eg(A),ec=(el.utcOffset()-this.utcOffset())*6e4,ed=this-el,ef=em.m(this,el);return ef=((es={})[eo]=ef/12,es[er]=ef,es[ei]=ef/3,es[et]=(ed-ec)/6048e5,es.day=(ed-ec)/864e5,es[V]=ed/36e5,es[B]=ed/6e4,es[L]=ed/1e3,es)[eu]||ed,ea?ef:em.a(ef)},A.daysInMonth=function(){return this.endOf(er).$D},A.$locale=function(){return ef[this.$L]},A.locale=function(A,N){if(!A)return this.$L;var L=this.clone(),B=ep(A,N,!0);return B&&(L.$L=B),L},A.clone=function(){return em.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},M}()).prototype,eg.prototype=ey,[["$ms",N],["$s",L],["$m",B],["$H",V],["$W","day"],["$M",er],["$y",eo],["$D",ea]].forEach(function(A){ey[A[1]]=function(N){return this.$g(N,A[0],A[1])}}),eg.extend=function(A,N){return A.$i||(A(N,ev,eg),A.$i=!0),eg},eg.locale=ep,eg.isDayjs=eh,eg.unix=function(A){return eg(1e3*A)},eg.en=ef[ed],eg.Ls=ef,eg.p={},eg)},61421:function(A,N,L){"use strict";var B,V,et=L.g.MutationObserver||L.g.WebKitMutationObserver;if(et){var er=0,ei=new et(nextTick),eo=L.g.document.createTextNode("");ei.observe(eo,{characterData:!0}),B=function(){eo.data=er=++er%2}}else if(L.g.setImmediate||void 0===L.g.MessageChannel)B="document"in L.g&&"onreadystatechange"in L.g.document.createElement("script")?function(){var A=L.g.document.createElement("script");A.onreadystatechange=function(){nextTick(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},L.g.document.documentElement.appendChild(A)}:function(){setTimeout(nextTick,0)};else{var ea=new L.g.MessageChannel;ea.port1.onmessage=nextTick,B=function(){ea.port2.postMessage(0)}}var es=[];function nextTick(){V=!0;for(var A,N,L=es.length;L;){for(N=es,es=[],A=-1;++A<L;)N[A]();L=es.length}V=!1}function immediate(A){1!==es.push(A)||V||B()}A.exports=immediate},32025:function(A,N,L){"use strict";var B=L(61421);function INTERNAL(){}var V={},et=["REJECTED"],er=["FULFILLED"],ei=["PENDING"];function Promise(A){if("function"!=typeof A)throw TypeError("resolver must be a function");this.state=ei,this.queue=[],this.outcome=void 0,A!==INTERNAL&&safelyResolveThenable(this,A)}function QueueItem(A,N,L){this.promise=A,"function"==typeof N&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),"function"==typeof L&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function unwrap(A,N,L){B(function(){var B;try{B=N(L)}catch(N){return V.reject(A,N)}B===A?V.reject(A,TypeError("Cannot resolve promise with itself")):V.resolve(A,B)})}function getThen(A){var N=A&&A.then;if(A&&("object"==typeof A||"function"==typeof A)&&"function"==typeof N)return function(){N.apply(A,arguments)}}function safelyResolveThenable(A,N){var L=!1;function onError(N){L||(L=!0,V.reject(A,N))}function onSuccess(N){L||(L=!0,V.resolve(A,N))}var B=tryCatch(function(){N(onSuccess,onError)});"error"===B.status&&onError(B.value)}function tryCatch(A,N){var L={};try{L.value=A(N),L.status="success"}catch(A){L.status="error",L.value=A}return L}function resolve(A){return A instanceof this?A:V.resolve(new this(INTERNAL),A)}function reject(A){var N=new this(INTERNAL);return V.reject(N,A)}function all(A){var N=this;if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(TypeError("must be an array"));var L=A.length,B=!1;if(!L)return this.resolve([]);for(var et=Array(L),er=0,ei=-1,eo=new this(INTERNAL);++ei<L;)allResolver(A[ei],ei);return eo;function allResolver(A,ei){N.resolve(A).then(resolveFromAll,function(A){B||(B=!0,V.reject(eo,A))});function resolveFromAll(A){et[ei]=A,++er!==L||B||(B=!0,V.resolve(eo,et))}}}function race(A){var N=this;if("[object Array]"!==Object.prototype.toString.call(A))return this.reject(TypeError("must be an array"));var L=A.length,B=!1;if(!L)return this.resolve([]);for(var et=-1,er=new this(INTERNAL);++et<L;)resolver(A[et]);return er;function resolver(A){N.resolve(A).then(function(A){B||(B=!0,V.resolve(er,A))},function(A){B||(B=!0,V.reject(er,A))})}}A.exports=Promise,Promise.prototype.catch=function(A){return this.then(null,A)},Promise.prototype.then=function(A,N){if("function"!=typeof A&&this.state===er||"function"!=typeof N&&this.state===et)return this;var L=new this.constructor(INTERNAL);return this.state!==ei?unwrap(L,this.state===er?A:N,this.outcome):this.queue.push(new QueueItem(L,A,N)),L},QueueItem.prototype.callFulfilled=function(A){V.resolve(this.promise,A)},QueueItem.prototype.otherCallFulfilled=function(A){unwrap(this.promise,this.onFulfilled,A)},QueueItem.prototype.callRejected=function(A){V.reject(this.promise,A)},QueueItem.prototype.otherCallRejected=function(A){unwrap(this.promise,this.onRejected,A)},V.resolve=function(A,N){var L=tryCatch(getThen,N);if("error"===L.status)return V.reject(A,L.value);var B=L.value;if(B)safelyResolveThenable(A,B);else{A.state=er,A.outcome=N;for(var et=-1,ei=A.queue.length;++et<ei;)A.queue[et].callFulfilled(N)}return A},V.reject=function(A,N){A.state=et,A.outcome=N;for(var L=-1,B=A.queue.length;++L<B;)A.queue[L].callRejected(N);return A},Promise.resolve=resolve,Promise.reject=reject,Promise.all=all,Promise.race=race},92308:function(A,N,L){"use strict";"function"!=typeof L.g.Promise&&(L.g.Promise=L(32025))},76336:function(A,N,L){"use strict";L.d(N,{PB:function(){return NextSeo}});var B=L(52983),V=L(2284),et=L.n(V);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(A){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&(A[B]=L[B])}return A}).apply(this,arguments)}function _objectWithoutPropertiesLoose(A,N){if(null==A)return{};var L,B,V={},et=Object.keys(A);for(B=0;B<et.length;B++)L=et[B],N.indexOf(L)>=0||(V[L]=A[L]);return V}var er=["keyOverride"],ei=["crossOrigin"],eo={templateTitle:"",noindex:!1,nofollow:!1,norobots:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0},buildOpenGraphMediaTags=function(A,N,L){void 0===N&&(N=[]);var V=void 0===L?{}:L,et=V.defaultWidth,er=V.defaultHeight;return N.reduce(function(N,L,V){return N.push(B.createElement("meta",{key:"og:"+A+":0"+V,property:"og:"+A,content:L.url})),L.alt&&N.push(B.createElement("meta",{key:"og:"+A+":alt0"+V,property:"og:"+A+":alt",content:L.alt})),L.secureUrl&&N.push(B.createElement("meta",{key:"og:"+A+":secure_url0"+V,property:"og:"+A+":secure_url",content:L.secureUrl.toString()})),L.type&&N.push(B.createElement("meta",{key:"og:"+A+":type0"+V,property:"og:"+A+":type",content:L.type.toString()})),L.width?N.push(B.createElement("meta",{key:"og:"+A+":width0"+V,property:"og:"+A+":width",content:L.width.toString()})):et&&N.push(B.createElement("meta",{key:"og:"+A+":width0"+V,property:"og:"+A+":width",content:et.toString()})),L.height?N.push(B.createElement("meta",{key:"og:"+A+":height"+V,property:"og:"+A+":height",content:L.height.toString()})):er&&N.push(B.createElement("meta",{key:"og:"+A+":height"+V,property:"og:"+A+":height",content:er.toString()})),N},[])},buildTags=function(A){var N,L,V,et,ea,es=[];A.titleTemplate&&(eo.templateTitle=A.titleTemplate);var eu="";A.title?(eu=A.title,eo.templateTitle&&(eu=eo.templateTitle.replace(/%s/g,function(){return eu}))):A.defaultTitle&&(eu=A.defaultTitle),eu&&es.push(B.createElement("title",{key:"title"},eu));var el=void 0===A.noindex?eo.noindex||A.dangerouslySetAllPagesToNoIndex:A.noindex,ec=void 0===A.nofollow?eo.nofollow||A.dangerouslySetAllPagesToNoFollow:A.nofollow,ed=A.norobots||eo.norobots,ef="";if(A.robotsProps){var eh=A.robotsProps,ep=eh.nosnippet,eg=eh.maxSnippet,em=eh.maxImagePreview,ev=eh.maxVideoPreview,ey=eh.noarchive,e_=eh.noimageindex,eb=eh.notranslate,ew=eh.unavailableAfter;ef=(ep?",nosnippet":"")+(eg?",max-snippet:"+eg:"")+(em?",max-image-preview:"+em:"")+(ey?",noarchive":"")+(ew?",unavailable_after:"+ew:"")+(e_?",noimageindex":"")+(ev?",max-video-preview:"+ev:"")+(eb?",notranslate":"")}if(A.norobots&&(eo.norobots=!0),el||ec?(A.dangerouslySetAllPagesToNoIndex&&(eo.noindex=!0),A.dangerouslySetAllPagesToNoFollow&&(eo.nofollow=!0),es.push(B.createElement("meta",{key:"robots",name:"robots",content:(el?"noindex":"index")+","+(ec?"nofollow":"follow")+ef}))):(!ed||ef)&&es.push(B.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+ef})),A.description&&es.push(B.createElement("meta",{key:"description",name:"description",content:A.description})),A.themeColor&&es.push(B.createElement("meta",{key:"theme-color",name:"theme-color",content:A.themeColor})),A.mobileAlternate&&es.push(B.createElement("link",{rel:"alternate",key:"mobileAlternate",media:A.mobileAlternate.media,href:A.mobileAlternate.href})),A.languageAlternates&&A.languageAlternates.length>0&&A.languageAlternates.forEach(function(A){es.push(B.createElement("link",{rel:"alternate",key:"languageAlternate-"+A.hrefLang,hrefLang:A.hrefLang,href:A.href}))}),A.twitter&&(A.twitter.cardType&&es.push(B.createElement("meta",{key:"twitter:card",name:"twitter:card",content:A.twitter.cardType})),A.twitter.site&&es.push(B.createElement("meta",{key:"twitter:site",name:"twitter:site",content:A.twitter.site})),A.twitter.handle&&es.push(B.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:A.twitter.handle}))),A.facebook&&A.facebook.appId&&es.push(B.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:A.facebook.appId})),(null!=(N=A.openGraph)&&N.title||eu)&&es.push(B.createElement("meta",{key:"og:title",property:"og:title",content:(null==(et=A.openGraph)?void 0:et.title)||eu})),(null!=(L=A.openGraph)&&L.description||A.description)&&es.push(B.createElement("meta",{key:"og:description",property:"og:description",content:(null==(ea=A.openGraph)?void 0:ea.description)||A.description})),A.openGraph){if((A.openGraph.url||A.canonical)&&es.push(B.createElement("meta",{key:"og:url",property:"og:url",content:A.openGraph.url||A.canonical})),A.openGraph.type){var ex=A.openGraph.type.toLowerCase();es.push(B.createElement("meta",{key:"og:type",property:"og:type",content:ex})),"profile"===ex&&A.openGraph.profile?(A.openGraph.profile.firstName&&es.push(B.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:A.openGraph.profile.firstName})),A.openGraph.profile.lastName&&es.push(B.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:A.openGraph.profile.lastName})),A.openGraph.profile.username&&es.push(B.createElement("meta",{key:"profile:username",property:"profile:username",content:A.openGraph.profile.username})),A.openGraph.profile.gender&&es.push(B.createElement("meta",{key:"profile:gender",property:"profile:gender",content:A.openGraph.profile.gender}))):"book"===ex&&A.openGraph.book?(A.openGraph.book.authors&&A.openGraph.book.authors.length&&A.openGraph.book.authors.forEach(function(A,N){es.push(B.createElement("meta",{key:"book:author:0"+N,property:"book:author",content:A}))}),A.openGraph.book.isbn&&es.push(B.createElement("meta",{key:"book:isbn",property:"book:isbn",content:A.openGraph.book.isbn})),A.openGraph.book.releaseDate&&es.push(B.createElement("meta",{key:"book:release_date",property:"book:release_date",content:A.openGraph.book.releaseDate})),A.openGraph.book.tags&&A.openGraph.book.tags.length&&A.openGraph.book.tags.forEach(function(A,N){es.push(B.createElement("meta",{key:"book:tag:0"+N,property:"book:tag",content:A}))})):"article"===ex&&A.openGraph.article?(A.openGraph.article.publishedTime&&es.push(B.createElement("meta",{key:"article:published_time",property:"article:published_time",content:A.openGraph.article.publishedTime})),A.openGraph.article.modifiedTime&&es.push(B.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:A.openGraph.article.modifiedTime})),A.openGraph.article.expirationTime&&es.push(B.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:A.openGraph.article.expirationTime})),A.openGraph.article.authors&&A.openGraph.article.authors.length&&A.openGraph.article.authors.forEach(function(A,N){es.push(B.createElement("meta",{key:"article:author:0"+N,property:"article:author",content:A}))}),A.openGraph.article.section&&es.push(B.createElement("meta",{key:"article:section",property:"article:section",content:A.openGraph.article.section})),A.openGraph.article.tags&&A.openGraph.article.tags.length&&A.openGraph.article.tags.forEach(function(A,N){es.push(B.createElement("meta",{key:"article:tag:0"+N,property:"article:tag",content:A}))})):("video.movie"===ex||"video.episode"===ex||"video.tv_show"===ex||"video.other"===ex)&&A.openGraph.video&&(A.openGraph.video.actors&&A.openGraph.video.actors.length&&A.openGraph.video.actors.forEach(function(A,N){A.profile&&es.push(B.createElement("meta",{key:"video:actor:0"+N,property:"video:actor",content:A.profile})),A.role&&es.push(B.createElement("meta",{key:"video:actor:role:0"+N,property:"video:actor:role",content:A.role}))}),A.openGraph.video.directors&&A.openGraph.video.directors.length&&A.openGraph.video.directors.forEach(function(A,N){es.push(B.createElement("meta",{key:"video:director:0"+N,property:"video:director",content:A}))}),A.openGraph.video.writers&&A.openGraph.video.writers.length&&A.openGraph.video.writers.forEach(function(A,N){es.push(B.createElement("meta",{key:"video:writer:0"+N,property:"video:writer",content:A}))}),A.openGraph.video.duration&&es.push(B.createElement("meta",{key:"video:duration",property:"video:duration",content:A.openGraph.video.duration.toString()})),A.openGraph.video.releaseDate&&es.push(B.createElement("meta",{key:"video:release_date",property:"video:release_date",content:A.openGraph.video.releaseDate})),A.openGraph.video.tags&&A.openGraph.video.tags.length&&A.openGraph.video.tags.forEach(function(A,N){es.push(B.createElement("meta",{key:"video:tag:0"+N,property:"video:tag",content:A}))}),A.openGraph.video.series&&es.push(B.createElement("meta",{key:"video:series",property:"video:series",content:A.openGraph.video.series})))}A.defaultOpenGraphImageWidth&&(eo.defaultOpenGraphImageWidth=A.defaultOpenGraphImageWidth),A.defaultOpenGraphImageHeight&&(eo.defaultOpenGraphImageHeight=A.defaultOpenGraphImageHeight),A.openGraph.images&&A.openGraph.images.length&&es.push.apply(es,buildOpenGraphMediaTags("image",A.openGraph.images,{defaultWidth:eo.defaultOpenGraphImageWidth,defaultHeight:eo.defaultOpenGraphImageHeight})),A.defaultOpenGraphVideoWidth&&(eo.defaultOpenGraphVideoWidth=A.defaultOpenGraphVideoWidth),A.defaultOpenGraphVideoHeight&&(eo.defaultOpenGraphVideoHeight=A.defaultOpenGraphVideoHeight),A.openGraph.videos&&A.openGraph.videos.length&&es.push.apply(es,buildOpenGraphMediaTags("video",A.openGraph.videos,{defaultWidth:eo.defaultOpenGraphVideoWidth,defaultHeight:eo.defaultOpenGraphVideoHeight})),A.openGraph.audio&&es.push.apply(es,buildOpenGraphMediaTags("audio",A.openGraph.audio)),A.openGraph.locale&&es.push(B.createElement("meta",{key:"og:locale",property:"og:locale",content:A.openGraph.locale})),(A.openGraph.siteName||A.openGraph.site_name)&&es.push(B.createElement("meta",{key:"og:site_name",property:"og:site_name",content:A.openGraph.siteName||A.openGraph.site_name}))}return A.canonical&&es.push(B.createElement("link",{rel:"canonical",href:A.canonical,key:"canonical"})),A.additionalMetaTags&&A.additionalMetaTags.length>0&&A.additionalMetaTags.forEach(function(A){var N,L,V=A.keyOverride,et=_objectWithoutPropertiesLoose(A,er);es.push(B.createElement("meta",_extends({key:"meta:"+(null!=(N=null!=(L=null!=V?V:et.name)?L:et.property)?N:et.httpEquiv)},et)))}),null!=(V=A.additionalLinkTags)&&V.length&&A.additionalLinkTags.forEach(function(A){var N,L=A.crossOrigin,V=_objectWithoutPropertiesLoose(A,ei);es.push(B.createElement("link",_extends({key:"link"+(null!=(N=V.keyOverride)?N:V.href)+V.rel},V,{crossOrigin:"anonymous"===L||"use-credentials"===L||""===L?L:void 0})))}),es},WithHead=function(A){return B.createElement(et(),null,buildTags(A))},NextSeo=function(A){var N=A.title,L=A.themeColor,V=A.noindex,et=A.nofollow,er=A.robotsProps,ei=A.description,eo=A.canonical,ea=A.openGraph,es=A.facebook,eu=A.twitter,el=A.additionalMetaTags,ec=A.titleTemplate,ed=A.defaultTitle,ef=A.mobileAlternate,eh=A.languageAlternates,ep=A.additionalLinkTags;return B.createElement(B.Fragment,null,B.createElement(WithHead,{title:N,themeColor:L,noindex:V,nofollow:et,robotsProps:er,description:ei,canonical:eo,facebook:es,openGraph:ea,additionalMetaTags:el,twitter:eu,titleTemplate:ec,defaultTitle:ed,mobileAlternate:ef,languageAlternates:eh,additionalLinkTags:ep}))};RegExp("["+Object.keys(Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"})).join("")+"]","g")},87695:function(A,N,L){"use strict";var B,V;A.exports=(null==(B=L.g.process)?void 0:B.env)&&"object"==typeof(null==(V=L.g.process)?void 0:V.env)?L.g.process:L(16526)},78949:function(A,N,L){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return L(69640)}])},38660:function(A,N,L){"use strict";L.d(N,{_v:function(){return es},aJ:function(){return ea},pn:function(){return ei},u:function(){return eo}});var B=L(97458),V=L(52983),et=L(81276),er=L(14830);let ei=et.zt,eo=et.fC,ea=et.xz,es=V.forwardRef((A,N)=>{let{className:L,sideOffset:V=4,...ei}=A;return(0,B.jsx)(et.VY,{ref:N,sideOffset:V,className:(0,er.cn)("z-[9999999] overflow-hidden font-sans rounded-md shadow-lg border border-zinc-800 dark:border-zinc-700 bg-zinc-800 text-zinc-200 px-1.5 py-1 text-xs animate-in fade-in-50 data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",L),...ei})});es.displayName=et.VY.displayName},80816:function(A,N,L){"use strict";L.d(N,{bW:function(){return getAuthToken},fC:function(){return useAuthUser},uB:function(){return setAuthToken}});var B=L(66706),V=L(26656),et=L(5200);let getAuthToken=async()=>{let A=(0,B.KT)();return A.getItem("auth_token")},setAuthToken=async A=>{let N=(0,B.KT)();!1===A?await N.removeItem("auth_token"):await N.setItem("auth_token",A),await V.Dw.setEnabled(!1),await V.Dw.cleaySyncStorageMeta()},useAuthUser=()=>et.S.user.authUser.useQuery(void 0,{trpc:{context:{skipBatch:!0}}})},14830:function(A,N,L){"use strict";L.d(N,{cn:function(){return cn}});var B=L(14517);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(A){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&(A[B]=L[B])}return A}).apply(this,arguments)}function createClassUtils(A){var N=createClassMap(A);return{getClassGroupId:function(A){var L=A.split("-");return""===L[0]&&1!==L.length&&L.shift(),getGroupRecursive(L,N)||getGroupIdForArbitraryProperty(A)},getConflictingClassGroupIds:function(N){return A.conflictingClassGroups[N]||[]}}}function getGroupRecursive(A,N){if(0===A.length)return N.classGroupId;var L,B=A[0],V=N.nextPart.get(B),et=V?getGroupRecursive(A.slice(1),V):void 0;if(et)return et;if(0!==N.validators.length){var er=A.join("-");return null==(L=N.validators.find(function(A){return(0,A.validator)(er)}))?void 0:L.classGroupId}}var V=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(A){if(V.test(A)){var N=V.exec(A)[1],L=null==N?void 0:N.substring(0,N.indexOf(":"));if(L)return"arbitrary.."+L}}function createClassMap(A){var N=A.theme,L=A.prefix,B={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(A.classGroups),L).forEach(function(A){var L=A[0];processClassesRecursively(A[1],B,L,N)}),B}function processClassesRecursively(A,N,L,B){A.forEach(function(A){if("string"==typeof A){(""===A?N:getPart(N,A)).classGroupId=L;return}if("function"==typeof A){if(isThemeGetter(A)){processClassesRecursively(A(B),N,L,B);return}N.validators.push({validator:A,classGroupId:L});return}Object.entries(A).forEach(function(A){var V=A[0];processClassesRecursively(A[1],getPart(N,V),L,B)})})}function getPart(A,N){var L=A;return N.split("-").forEach(function(A){L.nextPart.has(A)||L.nextPart.set(A,{nextPart:new Map,validators:[]}),L=L.nextPart.get(A)}),L}function isThemeGetter(A){return A.isThemeGetter}function getPrefixedClassGroupEntries(A,N){return N?A.map(function(A){return[A[0],A[1].map(function(A){return"string"==typeof A?N+A:"object"==typeof A?Object.fromEntries(Object.entries(A).map(function(A){return[N+A[0],A[1]]})):A})]}):A}function createLruCache(A){if(A<1)return{get:function(){},set:function(){}};var N=0,L=new Map,B=new Map;function update(V,et){L.set(V,et),++N>A&&(N=0,B=L,L=new Map)}return{get:function(A){var N=L.get(A);return void 0!==N?N:void 0!==(N=B.get(A))?(update(A,N),N):void 0},set:function(A,N){L.has(A)?L.set(A,N):update(A,N)}}}function createSplitModifiers(A){var N=A.separator||":";return function(A){for(var L=0,B=[],V=0,et=0;et<A.length;et++){var er=A[et];0===L&&er===N[0]&&(1===N.length||A.slice(et,et+N.length)===N)&&(B.push(A.slice(V,et)),V=et+N.length),"["===er?L++:"]"===er&&L--}var ei=0===B.length?A:A.substring(V),eo=ei.startsWith("!"),ea=eo?ei.substring(1):ei;return{modifiers:B,hasImportantModifier:eo,baseClassName:ea}}}function sortModifiers(A){if(A.length<=1)return A;var N=[],L=[];return A.forEach(function(A){"["===A[0]?(N.push.apply(N,L.sort().concat([A])),L=[]):L.push(A)}),N.push.apply(N,L.sort()),N}function createConfigUtils(A){return _extends({cache:createLruCache(A.cacheSize),splitModifiers:createSplitModifiers(A)},createClassUtils(A))}var et=/\s+/;function mergeClassList(A,N){var L=N.splitModifiers,B=N.getClassGroupId,V=N.getConflictingClassGroupIds,er=new Set;return A.trim().split(et).map(function(A){var N=L(A),V=N.modifiers,et=N.hasImportantModifier,er=B(N.baseClassName);if(!er)return{isTailwindClass:!1,originalClassName:A};var ei=sortModifiers(V).join(":");return{isTailwindClass:!0,modifierId:et?ei+"!":ei,classGroupId:er,originalClassName:A}}).reverse().filter(function(A){if(!A.isTailwindClass)return!0;var N=A.modifierId,L=A.classGroupId,B=N+L;return!er.has(B)&&(er.add(B),V(L).forEach(function(A){return er.add(N+A)}),!0)}).reverse().map(function(A){return A.originalClassName}).join(" ")}function twJoin(){for(var A,N,L=0,B="";L<arguments.length;)(A=arguments[L++])&&(N=toValue(A))&&(B&&(B+=" "),B+=N);return B}function toValue(A){if("string"==typeof A)return A;for(var N,L="",B=0;B<A.length;B++)A[B]&&(N=toValue(A[B]))&&(L&&(L+=" "),L+=N);return L}function createTailwindMerge(){for(var A,N,L,B=arguments.length,V=Array(B),et=0;et<B;et++)V[et]=arguments[et];var er=initTailwindMerge;function initTailwindMerge(B){var et=V[0];return N=(A=createConfigUtils(V.slice(1).reduce(function(A,N){return N(A)},et()))).cache.get,L=A.cache.set,er=tailwindMerge,tailwindMerge(B)}function tailwindMerge(B){var V=N(B);if(V)return V;var et=mergeClassList(B,A);return L(B,et),et}return function(){return er(twJoin.apply(null,arguments))}}function fromTheme(A){var themeGetter=function(N){return N[A]||[]};return themeGetter.isThemeGetter=!0,themeGetter}var er=/^\[(?:([a-z-]+):)?(.+)\]$/i,ei=/^\d+\/\d+$/,eo=new Set(["px","full","screen"]),ea=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,es=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))/,eu=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function isLength(A){return isNumber(A)||eo.has(A)||ei.test(A)||isArbitraryLength(A)}function isArbitraryLength(A){return getIsArbitraryValue(A,"length",isLengthOnly)}function isArbitrarySize(A){return getIsArbitraryValue(A,"size",isNever)}function isArbitraryPosition(A){return getIsArbitraryValue(A,"position",isNever)}function isArbitraryUrl(A){return getIsArbitraryValue(A,"url",isUrl)}function isArbitraryNumber(A){return getIsArbitraryValue(A,"number",isNumber)}function isNumber(A){return!Number.isNaN(Number(A))}function isInteger(A){return isIntegerOnly(A)||getIsArbitraryValue(A,"number",isIntegerOnly)}function isArbitraryValue(A){return er.test(A)}function isAny(){return!0}function isTshirtSize(A){return ea.test(A)}function isArbitraryShadow(A){return getIsArbitraryValue(A,"",isShadow)}function getIsArbitraryValue(A,N,L){var B=er.exec(A);return!!B&&(B[1]?B[1]===N:L(B[2]))}function isLengthOnly(A){return es.test(A)}function isNever(){return!1}function isUrl(A){return A.startsWith("url(")}function isIntegerOnly(A){return Number.isInteger(Number(A))}function isShadow(A){return eu.test(A)}var el=createTailwindMerge(function(){var A=fromTheme("colors"),N=fromTheme("spacing"),L=fromTheme("blur"),B=fromTheme("brightness"),V=fromTheme("borderColor"),et=fromTheme("borderRadius"),er=fromTheme("borderSpacing"),ei=fromTheme("borderWidth"),eo=fromTheme("contrast"),ea=fromTheme("grayscale"),es=fromTheme("hueRotate"),eu=fromTheme("invert"),el=fromTheme("gap"),ec=fromTheme("gradientColorStops"),ed=fromTheme("inset"),ef=fromTheme("margin"),eh=fromTheme("opacity"),ep=fromTheme("padding"),eg=fromTheme("saturate"),em=fromTheme("scale"),ev=fromTheme("sepia"),ey=fromTheme("skew"),e_=fromTheme("space"),eb=fromTheme("translate"),getOverscroll=function(){return["auto","contain","none"]},getOverflow=function(){return["auto","hidden","clip","visible","scroll"]},getSpacingWithAuto=function(){return["auto",N]},getLengthWithEmpty=function(){return["",isLength]},getNumberWithAutoAndArbitrary=function(){return["auto",isNumber,isArbitraryValue]},getPositions=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},getLineStyles=function(){return["solid","dashed","dotted","double","none"]},getBlendModes=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},getAlign=function(){return["start","end","center","between","around","evenly"]},getZeroAndEmpty=function(){return["","0",isArbitraryValue]},getBreaks=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},getNumber=function(){return[isNumber,isArbitraryNumber]},getNumberAndArbitrary=function(){return[isNumber,isArbitraryValue]};return{cacheSize:500,theme:{colors:[isAny],spacing:[isLength],blur:["none","",isTshirtSize,isArbitraryLength],brightness:getNumber(),borderColor:[A],borderRadius:["none","","full",isTshirtSize,isArbitraryLength],borderSpacing:[N],borderWidth:getLengthWithEmpty(),contrast:getNumber(),grayscale:getZeroAndEmpty(),hueRotate:getNumberAndArbitrary(),invert:getZeroAndEmpty(),gap:[N],gradientColorStops:[A],inset:getSpacingWithAuto(),margin:getSpacingWithAuto(),opacity:getNumber(),padding:[N],saturate:getNumber(),scale:getNumber(),sepia:getZeroAndEmpty(),skew:getNumberAndArbitrary(),space:[N],translate:[N]},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":getBreaks()}],"break-before":[{"break-before":getBreaks()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(getPositions(),[isArbitraryValue])}],overflow:[{overflow:getOverflow()}],"overflow-x":[{"overflow-x":getOverflow()}],"overflow-y":[{"overflow-y":getOverflow()}],overscroll:[{overscroll:getOverscroll()}],"overscroll-x":[{"overscroll-x":getOverscroll()}],"overscroll-y":[{"overscroll-y":getOverscroll()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[ed]}],"inset-x":[{"inset-x":[ed]}],"inset-y":[{"inset-y":[ed]}],top:[{top:[ed]}],right:[{right:[ed]}],bottom:[{bottom:[ed]}],left:[{left:[ed]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger]}],basis:[{basis:[N]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:getZeroAndEmpty()}],shrink:[{shrink:getZeroAndEmpty()}],order:[{order:["first","last","none",isInteger]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:[isInteger]},isArbitraryValue]}],"col-start":[{"col-start":getNumberWithAutoAndArbitrary()}],"col-end":[{"col-end":getNumberWithAutoAndArbitrary()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger]},isArbitraryValue]}],"row-start":[{"row-start":getNumberWithAutoAndArbitrary()}],"row-end":[{"row-end":getNumberWithAutoAndArbitrary()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[el]}],"gap-x":[{"gap-x":[el]}],"gap-y":[{"gap-y":[el]}],"justify-content":[{justify:getAlign()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(getAlign(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(getAlign(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ep]}],px:[{px:[ep]}],py:[{py:[ep]}],pt:[{pt:[ep]}],pr:[{pr:[ep]}],pb:[{pb:[ep]}],pl:[{pl:[ep]}],m:[{m:[ef]}],mx:[{mx:[ef]}],my:[{my:[ef]}],mt:[{mt:[ef]}],mr:[{mr:[ef]}],mb:[{mb:[ef]}],ml:[{ml:[ef]}],"space-x":[{"space-x":[e_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[e_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",N]}],"min-w":[{"min-w":["min","max","fit",isLength]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize,isArbitraryLength]}],h:[{h:[N,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",isLength]}],"max-h":[{"max-h":[N,"min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryLength]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[A]}],"placeholder-opacity":[{"placeholder-opacity":[eh]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[A]}],"text-opacity":[{"text-opacity":[eh]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(getLineStyles(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength]}],"underline-offset":[{"underline-offset":["auto",isLength]}],"text-decoration-color":[{decoration:[A]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[N]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryLength]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[eh]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(getPositions(),[isArbitraryPosition])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryUrl]}],"bg-color":[{bg:[A]}],"gradient-from":[{from:[ec]}],"gradient-via":[{via:[ec]}],"gradient-to":[{to:[ec]}],rounded:[{rounded:[et]}],"rounded-t":[{"rounded-t":[et]}],"rounded-r":[{"rounded-r":[et]}],"rounded-b":[{"rounded-b":[et]}],"rounded-l":[{"rounded-l":[et]}],"rounded-tl":[{"rounded-tl":[et]}],"rounded-tr":[{"rounded-tr":[et]}],"rounded-br":[{"rounded-br":[et]}],"rounded-bl":[{"rounded-bl":[et]}],"border-w":[{border:[ei]}],"border-w-x":[{"border-x":[ei]}],"border-w-y":[{"border-y":[ei]}],"border-w-t":[{"border-t":[ei]}],"border-w-r":[{"border-r":[ei]}],"border-w-b":[{"border-b":[ei]}],"border-w-l":[{"border-l":[ei]}],"border-opacity":[{"border-opacity":[eh]}],"border-style":[{border:[].concat(getLineStyles(),["hidden"])}],"divide-x":[{"divide-x":[ei]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[ei]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[eh]}],"divide-style":[{divide:getLineStyles()}],"border-color":[{border:[V]}],"border-color-x":[{"border-x":[V]}],"border-color-y":[{"border-y":[V]}],"border-color-t":[{"border-t":[V]}],"border-color-r":[{"border-r":[V]}],"border-color-b":[{"border-b":[V]}],"border-color-l":[{"border-l":[V]}],"divide-color":[{divide:[V]}],"outline-style":[{outline:[""].concat(getLineStyles())}],"outline-offset":[{"outline-offset":[isLength]}],"outline-w":[{outline:[isLength]}],"outline-color":[{outline:[A]}],"ring-w":[{ring:getLengthWithEmpty()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[A]}],"ring-opacity":[{"ring-opacity":[eh]}],"ring-offset-w":[{"ring-offset":[isLength]}],"ring-offset-color":[{"ring-offset":[A]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[eh]}],"mix-blend":[{"mix-blend":getBlendModes()}],"bg-blend":[{"bg-blend":getBlendModes()}],filter:[{filter:["","none"]}],blur:[{blur:[L]}],brightness:[{brightness:[B]}],contrast:[{contrast:[eo]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[ea]}],"hue-rotate":[{"hue-rotate":[es]}],invert:[{invert:[eu]}],saturate:[{saturate:[eg]}],sepia:[{sepia:[ev]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[L]}],"backdrop-brightness":[{"backdrop-brightness":[B]}],"backdrop-contrast":[{"backdrop-contrast":[eo]}],"backdrop-grayscale":[{"backdrop-grayscale":[ea]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[es]}],"backdrop-invert":[{"backdrop-invert":[eu]}],"backdrop-opacity":[{"backdrop-opacity":[eh]}],"backdrop-saturate":[{"backdrop-saturate":[eg]}],"backdrop-sepia":[{"backdrop-sepia":[ev]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[er]}],"border-spacing-x":[{"border-spacing-x":[er]}],"border-spacing-y":[{"border-spacing-y":[er]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:getNumberAndArbitrary()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:getNumberAndArbitrary()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[em]}],"scale-x":[{"scale-x":[em]}],"scale-y":[{"scale-y":[em]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[eb]}],"translate-y":[{"translate-y":[eb]}],"skew-x":[{"skew-x":[ey]}],"skew-y":[{"skew-y":[ey]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",A]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[A]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[N]}],"scroll-mx":[{"scroll-mx":[N]}],"scroll-my":[{"scroll-my":[N]}],"scroll-mt":[{"scroll-mt":[N]}],"scroll-mr":[{"scroll-mr":[N]}],"scroll-mb":[{"scroll-mb":[N]}],"scroll-ml":[{"scroll-ml":[N]}],"scroll-p":[{"scroll-p":[N]}],"scroll-px":[{"scroll-px":[N]}],"scroll-py":[{"scroll-py":[N]}],"scroll-pt":[{"scroll-pt":[N]}],"scroll-pr":[{"scroll-pr":[N]}],"scroll-pb":[{"scroll-pb":[N]}],"scroll-pl":[{"scroll-pl":[N]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[A,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryNumber]}],stroke:[{stroke:[A,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}});function cn(){for(var A=arguments.length,N=Array(A),L=0;L<A;L++)N[L]=arguments[L];return el((0,B.W)(...N))}},42525:function(A,N,L){"use strict";L.d(N,{W:function(){return googleSearch}});let googleSearch=async A=>{let N=await fetch("/api/google-search?".concat(new URLSearchParams({q:A.query,cx:A.engineId,key:A.apiKey,num:"5",fields:"items(title,link,snippet)"}).toString()),{signal:A.signal});if(!N.ok)throw Error("Google search failed, ".concat(await N.text()));let L=await N.json();return L.items||[]}},27971:function(A,N,L){"use strict";L.d(N,{g:function(){return isIOS}});let isIOS=()=>/(iPhone|iOS|iPad|iPod)/i.test(window.navigator.userAgent)},70433:function(A,N,L){"use strict";L.d(N,{A$:function(){return useSetLicense},jp:function(){return useLicense},lJ:function(){return getLicense}});var B=L(56438),V=L(49838),et=L(66706);let getLicense=()=>{let A=(0,et.KT)();return A.getItem("license")},useLicense=()=>{let A=(0,B.a)(["license"],async()=>{var A;let N=(0,et.KT)(),[L,B]=await Promise.all([getLicense(),et.h.config.get()]);return(null==B?void 0:B.license)&&(await et.h.config.update({license:void 0},{shouldSetUpdatedAt:!1}),await N.setItem("license",B.license)),null!==(A=null!=L?L:null==B?void 0:B.license)&&void 0!==A?A:null});return A},useSetLicense=()=>{let A=(0,V.NL)();return async N=>{let L=(0,et.KT)();!1===N?await L.removeItem("license"):await L.setItem("license",N),await A.invalidateQueries(["license"])}}},4602:function(A,N,L){"use strict";L.d(N,{I:function(){return countTokens}}),L(85273);let countTokens=async A=>{let{encode:N}=await Promise.all([L.e(9472),L.e(8088)]).then(L.bind(L,88088));return N(A).length}},17129:function(A,N,L){"use strict";L.d(N,{d:function(){return useIsMobile},u:function(){return IsMobileProvider}});var B=L(97458),V=L(79905),et=L(74550),er=L(52983);let ei=(0,V.cn)(!1),useIsMobile=()=>{let A=(0,et.Dv)(ei);return A},IsMobileProvider=A=>{let{children:N}=A,L=(0,et.b9)(ei);return(0,er.useEffect)(()=>{L(window.innerWidth<768);let handleResize=()=>{L(window.innerWidth<768)};return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}},[]),(0,B.jsx)(B.Fragment,{children:N})}},1481:function(A,N,L){"use strict";function createParser(A){let N,L,V,et,er,ei,eo;return reset(),{feed,reset};function reset(){N=!0,L="",V=0,et=-1,er=void 0,ei=void 0,eo=""}function feed(A){L=L?L+A:A,N&&hasBom(L)&&(L=L.slice(B.length)),N=!1;let er=L.length,ei=0,eo=!1;for(;ei<er;){let A;eo&&("\n"===L[ei]&&++ei,eo=!1);let N=-1,B=et;for(let et=V;N<0&&et<er;++et)":"===(A=L[et])&&B<0?B=et-ei:"\r"===A?(eo=!0,N=et-ei):"\n"===A&&(N=et-ei);if(N<0){V=er-ei,et=B;break}V=0,et=-1,parseEventStreamLine(L,ei,B,N),ei+=N+1}ei===er?L="":ei>0&&(L=L.slice(ei))}function parseEventStreamLine(N,L,B,V){if(0===V){eo.length>0&&(A({type:"event",id:er,event:ei||void 0,data:eo.slice(0,-1)}),eo="",er=void 0),ei=void 0;return}let et=B<0,ea=N.slice(L,L+(et?V:B)),es=0;es=et?V:" "===N[L+B+1]?B+2:B+1;let eu=L+es,el=V-es,ec=N.slice(eu,eu+el).toString();if("data"===ea)eo+=ec?"".concat(ec,"\n"):"\n";else if("event"===ea)ei=ec;else if("id"!==ea||ec.includes("\x00")){if("retry"===ea){let N=parseInt(ec,10);Number.isNaN(N)||A({type:"reconnect-interval",value:N})}}else er=ec}}L.d(N,{R2:function(){return eA},R3:function(){return checkPluginsEnabled},Z:function(){return formatError},ON:function(){return generateImage},cT:function(){return getChatKitHeaders},Nq:function(){return openaiChatCompletion},$$:function(){return transcribe}});let B=[239,187,191];function hasBom(A){return B.every((N,L)=>A.charCodeAt(L)===N)}var V,et,er,ei,eo,ea,es,eu,el,ec,ed,ef,eh,ep,eg=L(66706),em=L(65172),ev=L(15960),ey=L(47e3),e_=L(70433),eb=L(40156),ew=L(80816),ex=L(4602);let toCohereMessages=A=>{let N=A.slice(0,A.length-1).map(A=>({role:"user"===A.role?"USER":"CHATBOT",message:"string"==typeof A.content?A.content:""})),L=A[A.length-1].content;return{message:"string"==typeof L?L:"",chat_history:N}};(V=eu||(eu={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",V.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",V.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",V.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",V.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",(et=el||(el={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",et.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",et.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",et.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",et.BLOCK_NONE="BLOCK_NONE",(er=ec||(ec={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",er.NEGLIGIBLE="NEGLIGIBLE",er.LOW="LOW",er.MEDIUM="MEDIUM",er.HIGH="HIGH",(ei=ed||(ed={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",ei.SAFETY="SAFETY",ei.OTHER="OTHER",(eo=ef||(ef={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",eo.STOP="STOP",eo.MAX_TOKENS="MAX_TOKENS",eo.SAFETY="SAFETY",eo.RECITATION="RECITATION",eo.OTHER="OTHER",(ea=eh||(eh={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",ea.RETRIEVAL_QUERY="RETRIEVAL_QUERY",ea.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",ea.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",ea.CLASSIFICATION="CLASSIFICATION",ea.CLUSTERING="CLUSTERING";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GoogleGenerativeAIError=class GoogleGenerativeAIError extends Error{constructor(A){super(`[GoogleGenerativeAI Error]: ${A}`)}};let GoogleGenerativeAIResponseError=class GoogleGenerativeAIResponseError extends GoogleGenerativeAIError{constructor(A,N){super(A),this.response=N}};(es=ep||(ep={})).GENERATE_CONTENT="generateContent",es.STREAM_GENERATE_CONTENT="streamGenerateContent",es.COUNT_TOKENS="countTokens",es.EMBED_CONTENT="embedContent",es.BATCH_EMBED_CONTENTS="batchEmbedContents";let RequestUrl=class RequestUrl{constructor(A,N,L,B){this.model=A,this.task=N,this.apiKey=L,this.stream=B}toString(){let A=`https://gooai.chatkit.app/v1/models/${this.model}:${this.task}`;return this.stream&&(A+="?alt=sse"),A}};function getClientHeaders(){return"genai-js/0.1.3"}async function makeRequest(A,N){let L;try{if(!(L=await fetch(A.toString(),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":getClientHeaders(),"x-goog-api-key":A.apiKey},body:N})).ok){let A="";try{let N=await L.json();A=N.error.message,N.error.details&&(A+=` ${JSON.stringify(N.error.details)}`)}catch(A){}throw Error(`[${L.status} ${L.statusText}] ${A}`)}}catch(L){let N=new GoogleGenerativeAIError(`Error fetching from ${A.toString()}: ${L.message}`);throw N.stack=L.stack,N}return L}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function addHelpers(A){return A.text=()=>{if(A.candidates&&A.candidates.length>0){if(A.candidates.length>1&&console.warn(`This response had ${A.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),hadBadFinishReason(A.candidates[0]))throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(A)}`,A);return getText(A)}if(A.promptFeedback)throw new GoogleGenerativeAIResponseError(`Text not available. ${formatBlockErrorMessage(A)}`,A);return""},A}function getText(A){var N,L,B,V;return(null===(V=null===(B=null===(L=null===(N=A.candidates)||void 0===N?void 0:N[0].content)||void 0===L?void 0:L.parts)||void 0===B?void 0:B[0])||void 0===V?void 0:V.text)?A.candidates[0].content.parts[0].text:""}let eE=[ef.RECITATION,ef.SAFETY];function hadBadFinishReason(A){return!!A.finishReason&&eE.includes(A.finishReason)}function formatBlockErrorMessage(A){var N,L,B;let V="";if((!A.candidates||0===A.candidates.length)&&A.promptFeedback)V+="Response was blocked",(null===(N=A.promptFeedback)||void 0===N?void 0:N.blockReason)&&(V+=` due to ${A.promptFeedback.blockReason}`),(null===(L=A.promptFeedback)||void 0===L?void 0:L.blockReasonMessage)&&(V+=`: ${A.promptFeedback.blockReasonMessage}`);else if(null===(B=A.candidates)||void 0===B?void 0:B[0]){let N=A.candidates[0];hadBadFinishReason(N)&&(V+=`Candidate was blocked due to ${N.finishReason}`,N.finishMessage&&(V+=`: ${N.finishMessage}`))}return V}function __await(A){return this instanceof __await?(this.v=A,this):new __await(A)}function __asyncGenerator(A,N,L){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var B,V=L.apply(A,N||[]),et=[];return B={},verb("next"),verb("throw"),verb("return"),B[Symbol.asyncIterator]=function(){return this},B;function verb(A){V[A]&&(B[A]=function(N){return new Promise(function(L,B){et.push([A,N,L,B])>1||resume(A,N)})})}function resume(A,N){try{step(V[A](N))}catch(A){settle(et[0][3],A)}}function step(A){A.value instanceof __await?Promise.resolve(A.value.v).then(fulfill,reject):settle(et[0][2],A)}function fulfill(A){resume("next",A)}function reject(A){resume("throw",A)}function settle(A,N){A(N),et.shift(),et.length&&resume(et[0][0],et[0][1])}}"function"==typeof SuppressedError&&SuppressedError;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function processStream(A){let N=A.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),L=getResponseStream(N),[B,V]=L.tee();return{stream:generateResponseSequence(B),response:getResponsePromise(V)}}async function getResponsePromise(A){let N=[],L=A.getReader();for(;;){let{done:A,value:B}=await L.read();if(A)return addHelpers(aggregateResponses(N));N.push(B)}}function generateResponseSequence(A){return __asyncGenerator(this,arguments,function*(){let N=A.getReader();for(;;){let{value:A,done:L}=yield __await(N.read());if(L)break;yield yield __await(addHelpers(A))}})}function getResponseStream(A){let N=A.getReader(),L=new ReadableStream({start(A){let L="";return pump();function pump(){return N.read().then(({value:N,done:B})=>{let V;if(B){if(L.trim()){A.error(new GoogleGenerativeAIError("Failed to parse stream"));return}A.close();return}let et=(L+=N).match(ek);for(;et;){try{V=JSON.parse(et[1])}catch(N){A.error(new GoogleGenerativeAIError(`Error parsing JSON response: "${et[1]}"`));return}A.enqueue(V),et=(L=L.substring(et[0].length)).match(ek)}return pump()})}}});return L}function aggregateResponses(A){let N=A[A.length-1],L={promptFeedback:null==N?void 0:N.promptFeedback};for(let N of A)if(N.candidates)for(let A of N.candidates){let N=A.index;if(L.candidates||(L.candidates=[]),L.candidates[N]||(L.candidates[N]={index:A.index}),L.candidates[N].citationMetadata=A.citationMetadata,L.candidates[N].finishReason=A.finishReason,L.candidates[N].finishMessage=A.finishMessage,L.candidates[N].safetyRatings=A.safetyRatings,A.content&&A.content.parts)for(let B of(L.candidates[N].content||(L.candidates[N].content={role:A.content.role||"user",parts:[{text:""}]}),A.content.parts))B.text&&(L.candidates[N].content.parts[0].text+=B.text)}return L}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateContentStream(A,N,L){let B=new RequestUrl(N,ep.STREAM_GENERATE_CONTENT,A,!0),V=await makeRequest(B,JSON.stringify(L));return processStream(V)}async function generateContent(A,N,L){let B=new RequestUrl(N,ep.GENERATE_CONTENT,A,!1),V=await makeRequest(B,JSON.stringify(L)),et=await V.json(),er=addHelpers(et);return{response:er}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function formatNewContent(A,N){let L=[];if("string"==typeof A)L=[{text:A}];else for(let N of A)"string"==typeof N?L.push({text:N}):L.push(N);return{role:N,parts:L}}function formatGenerateContentInput(A){if(A.contents)return A;{let N=formatNewContent(A,"user");return{contents:[N]}}}function formatEmbedContentInput(A){if("string"==typeof A||Array.isArray(A)){let N=formatNewContent(A,"user");return{content:N}}return A}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS="SILENT_ERROR";let ChatSession=class ChatSession{constructor(A,N,L){this.model=N,this.params=L,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=A,(null==L?void 0:L.history)&&(this._history=L.history.map(A=>{if(!A.role)throw Error("Missing role for history item: "+JSON.stringify(A));return formatNewContent(A.parts,A.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(A){var N,L;let B;await this._sendPromise;let V=formatNewContent(A,"user"),et={safetySettings:null===(N=this.params)||void 0===N?void 0:N.safetySettings,generationConfig:null===(L=this.params)||void 0===L?void 0:L.generationConfig,contents:[...this._history,V]};return this._sendPromise=this._sendPromise.then(()=>generateContent(this._apiKey,this.model,et)).then(A=>{var N;if(A.response.candidates&&A.response.candidates.length>0){this._history.push(V);let L=Object.assign({parts:[],role:"model"},null===(N=A.response.candidates)||void 0===N?void 0:N[0].content);this._history.push(L)}else{let N=formatBlockErrorMessage(A.response);N&&console.warn(`sendMessage() was unsuccessful. ${N}. Inspect response object for details.`)}B=A}),await this._sendPromise,B}async sendMessageStream(A){var N,L;await this._sendPromise;let B=formatNewContent(A,"user"),V={safetySettings:null===(N=this.params)||void 0===N?void 0:N.safetySettings,generationConfig:null===(L=this.params)||void 0===L?void 0:L.generationConfig,contents:[...this._history,B]},et=generateContentStream(this._apiKey,this.model,V);return this._sendPromise=this._sendPromise.then(()=>et).catch(A=>{throw Error(eS)}).then(A=>A.response).then(A=>{if(A.candidates&&A.candidates.length>0){this._history.push(B);let N=Object.assign({},A.candidates[0].content);N.role||(N.role="model"),this._history.push(N)}else{let N=formatBlockErrorMessage(A);N&&console.warn(`sendMessageStream() was unsuccessful. ${N}. Inspect response object for details.`)}}).catch(A=>{A.message!==eS&&console.error(A)}),et}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function countTokens(A,N,L){let B=new RequestUrl(N,ep.COUNT_TOKENS,A,!1),V=await makeRequest(B,JSON.stringify(Object.assign(Object.assign({},L),{model:N})));return V.json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function embedContent(A,N,L){let B=new RequestUrl(N,ep.EMBED_CONTENT,A,!1),V=await makeRequest(B,JSON.stringify(L));return V.json()}async function batchEmbedContents(A,N,L){let B=new RequestUrl(N,ep.BATCH_EMBED_CONTENTS,A,!1),V=L.requests.map(A=>Object.assign(Object.assign({},A),{model:`models/${N}`})),et=await makeRequest(B,JSON.stringify({requests:V}));return et.json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GenerativeModel=class GenerativeModel{constructor(A,N){var L;this.apiKey=A,N.model.startsWith("models/")?this.model=null===(L=N.model.split("models/"))||void 0===L?void 0:L[1]:this.model=N.model,this.generationConfig=N.generationConfig||{},this.safetySettings=N.safetySettings||[]}async generateContent(A){let N=formatGenerateContentInput(A);return generateContent(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},N))}async generateContentStream(A){let N=formatGenerateContentInput(A);return generateContentStream(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},N))}startChat(A){return new ChatSession(this.apiKey,this.model,A)}async countTokens(A){let N=formatGenerateContentInput(A);return countTokens(this.apiKey,this.model,N)}async embedContent(A){let N=formatEmbedContentInput(A);return embedContent(this.apiKey,this.model,N)}async batchEmbedContents(A){return batchEmbedContents(this.apiKey,this.model,A)}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GoogleGenerativeAI=class GoogleGenerativeAI{constructor(A){this.apiKey=A}getGenerativeModel(A){if(!A.model)throw new GoogleGenerativeAIError("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new GenerativeModel(this.apiKey,A)}};let getImageDataUrl=async A=>{let N=await fetch(A),L=await N.blob(),B=new FileReader;return new Promise((A,N)=>{B.onload=()=>{A(B.result)},B.onerror=N,B.readAsDataURL(L)})},toGeminiMessages=async A=>{let N=await Promise.all(A.map(async(A,N)=>({role:"assistant"===A.role?"model":"user",parts:Array.isArray(A.content)?await Promise.all(A.content.map(async A=>{if("text"===A.type)return A.text;if("image_url"===A.type){let N=/^https?\:\/\//.test(A.image_url.url)?await getImageDataUrl(A.image_url.url):A.image_url.url,[L,B]=N.split(","),V=L.replace("data:","").split(";")[0];return{inlineData:{mimeType:V,data:B}}}throw Error("Unknown item type")})):"string"==typeof A.content?A.content:""})));N=N.flatMap((A,L)=>{if("user"===A.role){let B=N[L+1];if(B&&"model"!==B.role)return[A,{role:"model",parts:"OK"}]}return[A]});let L=N[N.length-1];return{message:L.parts,chat_history:N.slice(0,-1)}},eC="\nInstructions you must follow:\n- Don't use code blocks for non-coding questions. Wrap code blocks in triple backticks, and denote them with the language name.\n- Math formula should be displayed in katex syntax\n".trim(),countMessagesTokens=async A=>{let N=A.map(A=>A.content).join("\n");return(0,ex.I)(N)},getChatKitHeaders=async function(A){let{licenseKey:N,alwaysUseCredits:L}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=await (0,ew.bW)(),V={"x-openai-key":L?"":A.openAIKey||"","x-openai-endpoint":L?"":A.openAIEndpoint_230510||"","x-license-key":N||""};return B&&(V.Authorization="Bearer ".concat(B)),V},getFilesFromMessages=A=>A.flatMap(A=>A.files||[]),formatError=(A,N)=>{let{defaultMessage:L,t:B,alwaysUseCredits:V,config:et}=N;if(console.error(A),"invalid_api_key"===A.error.code)return B(!V&&et.openAIKey?"error.invalid_custom_openai_api_key":"error.invalid_openai_api_key");let er=A.error.code&&B("error.".concat(A.error.code));return(!er||A.error.message&&er==="error.".concat(A.error.code))&&(er=A.error.message),er||(er=L||""),er},checkEnableCustomFunctionCalling=A=>!1,checkPluginsEnabled=A=>!A||A.startsWith("gpt-")&&"gpt-4-vision"!==A||checkEnableCustomFunctionCalling(A),eA="",openaiChatCompletion=async(A,N)=>{var L,B,V,et,er;let{config:ei,context:eo,maxTokens:ea,denoteCodeBlock:es,signal:ec,model:ed="gpt-3.5-turbo",temperature:ef,streaming:eh,onText:ep,plugins:ew,enabledPluginNames:ex,stopWord:eE,includeLastNMessages:ek,initialSystemMessage:eS,alwaysUseCredits:e$,t:eP}=N,eT=new TextDecoder,eI=await (0,e_.lJ)(),eO=getFilesFromMessages(A),eR=checkEnableCustomFunctionCalling(ed),eM=[...(0,eg.Lc)(A,eR).slice(ed.includes("gemini")?0:ek?-(ek+1):0)],eD=await countMessagesTokens(eM),eF=null==ed?void 0:ed.startsWith("custom:"),eN=(null==ed?void 0:ed.startsWith("custom:"))?null===(L=ei.customModels)||void 0===L?void 0:L.find(A=>A.name===ed.replace("custom:","")):void 0;if(eF&&!eN)throw Error(eP("error.using_deleted_custom_model"));let eL=(0,eb.x)(ed),eq=eN?eN.contextLimit||4096:(null==eL?void 0:eL.tokenLimit)||4096,ej=ea||1e3,eB=null==eI?void 0:eI.licenseKey,eQ=await getChatKitHeaders(ei,{alwaysUseCredits:e$,licenseKey:eB});if(eo&&(eo.url||eo.sources&&eo.sources.length>0)||eD>eq-ej){let A=await fetch("".concat(em._O,"/api/search"),{method:"POST",headers:{"content-type":"application/json",...eQ},signal:ec,body:JSON.stringify({messages:eM,context:{...eo,url:(null==eo?void 0:eo.url)||void 0},contextLimit:eq})});if(!A.ok){let N=await A.json(),L=N.error.code?eP("error.".concat(N.error.code)):N.error.message;throw Error(L)}let N=await A.json();eM=N,eD=await countMessagesTokens(eM)}let eH=[eR&&ex&&ex.length>0&&ew&&{role:"system",content:"You can use  functions as you see fit to extend your capability, available functions are provided in JSON format below:\n".concat(JSON.stringify(ew.filter(A=>ex.includes(A.name_for_model)).map(A=>({name:A.name_for_model,description:A.description_for_model,arguments_schema:A.arguments_schema}))),"\n\nUse a function when the query matches the function's description, when you choose to use a function you must reply in the following JSON format strictly without adding any explaination:\n").concat(eA,'{"name":"function_name", "arguments":{}}   \n\nThe output JSON should start with special character: \n\nDO NOT use nonexisten functions.\n\nExample input: summarize https://example.com\nExample output: {"name":"chatkit_request","arguments":{"url":"https://example.com"}}\n        ')},...eS?[{role:"system",content:eS}]:[],...es&&ed.startsWith("gpt-")?[{role:"system",content:eC}]:[]].filter(ev.Dw),eG=await countMessagesTokens(eH),eU=ei.openAIEndpoint_230510;if(eU&&!ei.openAIKey)throw Error("OpenAI key is required when using custom endpoint");let ez=!1===eh||eN&&!eN.stream;if((null==ed?void 0:ed.startsWith("openrouter-"))&&!ei.openRouterKey)throw Error("OpenRouter key is required when using OpenRouter model, please set it in the App Settings");let eK=ew&&checkPluginsEnabled(ed)&&ex&&ex.length>0?ex.map(A=>{let N=ew.find(N=>N.name_for_model===A);if(N)return{name:N.name_for_model,description:N.description_for_model,parameters:N.arguments_schema}}).filter(ev.Dw):void 0;eK&&0===eK.length&&(eK=void 0);let eV=Math.max(Math.min(ej,eq-eD-eG),10),eW="number"==typeof ef?ef:.5;if(ed.includes("gemini")){if(!ei.geminiKey)throw Error("missing google gemini api key");let A={generationConfig:{maxOutputTokens:eV,temperature:eW},safetySettings:[{category:eu.HARM_CATEGORY_HARASSMENT,threshold:el.BLOCK_NONE},{category:eu.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:el.BLOCK_NONE},{category:eu.HARM_CATEGORY_HATE_SPEECH,threshold:el.BLOCK_NONE},{category:eu.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:el.BLOCK_NONE}]},N=new GoogleGenerativeAI(ei.geminiKey),L=N.getGenerativeModel({model:ed,...A}),{message:B,chat_history:V}=await toGeminiMessages([...eH,...eM]);if("gemini-pro-vision"===ed){let A=V.flatMap(A=>A.parts).concat(B);if(ez){let N=await L.generateContent(A),B=N.response.text();return null==ep||ep(B),{output:B}}let N=await L.generateContentStream(A),et="";for await(let A of N.stream){let N=A.text();null==ep||ep(N),et+=N}return{output:et}}let et=L.startChat({history:V,...A});if(ez){let A=await et.sendMessage(B),N=A.response,L=N.text();return null==ep||ep(L),{output:L}}let er=await et.sendMessageStream(B),eo="";for await(let A of er.stream){let N=A.text();null==ep||ep(N),eo+=N}return{output:eo}}let eY=eN?eN.url:(null==ed?void 0:ed.startsWith("openrouter-"))?"https://openrouter.ai/api/v1/chat/completions":"cohere"===ed?"https://api.cohere.ai/v1/chat":(null==ed?void 0:ed.startsWith("pplx-"))?"".concat(em._O,"/api/pplx"):eU?"".concat(eU,"/v1/chat/completions"):ed.startsWith("mistral-")?"".concat(em._O,"/api/mistral"):"".concat(em.T5,"/chat"),eJ=await fetch(eY,{headers:ed.startsWith("mistral-")?{"Content-Type":"application/json",Authorization:"Bearer ".concat(ei.mistralKey||"")}:"cohere"===ed?{"Content-Type":"application/json",Authorization:"Bearer ".concat(ei.cohereKey||"")}:ed.startsWith("openrouter-")?{Authorization:"Bearer ".concat(ei.openRouterKey||""),"HTTP-Referer":"https://chatkit.app","X-Title":"ChatKit","Content-Type":"application/json"}:ed.startsWith("pplx-")?{Authorization:"Bearer ".concat(ei.pplxKey||""),"Content-Type":"application/json"}:eN?eN.headers.reduce((A,N)=>({...A,[N.key]:N.value}),{"Content-Type":"application/json"}):eU?{"Content-Type":"application/json",Authorization:"Bearer ".concat(ei.openAIKey||"")}:{"Content-Type":"application/json",...eQ},method:"POST",signal:ec,body:"cohere"===ed?JSON.stringify({connectors:[{id:"web-search"}],temperature:eW,stream:!ez,...toCohereMessages([...eH,...eM])}):JSON.stringify({model:eN?eN.model:/^(openrouter-|pplx-)/.test(ed)?ed.replace(/^(openrouter-|pplx-)/,""):eU?(0,ey.Q8)(ed,eU===ey.ge):ed,files:eY.startsWith(em.T5)?eO:void 0,messages:[...eH,...eM],max_tokens:eV,temperature:eW,stream:!ez,stop:eE||void 0,functions:eK})});if(!eJ.ok){let A=await eJ.text(),N="".concat(eN?'Custom model "'.concat(eN.name,'"'):(null==ed?void 0:ed.startsWith("pplx-"))?"Perplexity":(null==ed?void 0:ed.startsWith("openrouter-"))?"OpenRouter":"cohere"===ed?"Cohere":"OpenAI"," API returned an error: ").concat(A),L=await new Promise(N=>N(JSON.parse(A))).then(A=>formatError(A,{t:eP,alwaysUseCredits:e$,config:ei,defaultMessage:N})).catch(()=>N);throw Error(L)}let eZ=eJ.body;if(eZ){if(ez){let A=await eJ.json();if(A.error){let N=formatError(A,{t:eP,alwaysUseCredits:e$,config:ei});throw Error(N)}if("cohere"===ed)return null==ep||ep(A.text),{output:A.text};let N=(null===(V=A.choices)||void 0===V?void 0:null===(B=V[0].message)||void 0===B?void 0:B.content)||"";null==ep||ep(N);let L=null===(er=A.choices)||void 0===er?void 0:null===(et=er[0].message)||void 0===et?void 0:et.function_call;return console.log({functionCall:L}),{output:N,functionCall:L}}return new Promise(async(A,N)=>{try{let N,L="",B=!1,V="",et=createParser(et=>{if("event"===et.type){if(B)return;if("[DONE]"===et.data){B=!0,A({output:L});return}let ea=JSON.parse(et.data);if("cohere"===ed)ea.is_finished||"citation-generation"===ea.event_type?(B=!0,A({output:L})):"string"==typeof ea.text&&(L+=ea.text,null==ep||ep(ea.text));else{var er,ei,eo;let et=(null===(er=ea.choices)||void 0===er?void 0:er[0].delta)||{};if(et.function_call)N||(N={name:"",arguments:""}),"string"==typeof et.function_call.name&&(N.name+=et.function_call.name),"string"==typeof et.function_call.arguments&&(N.arguments+=et.function_call.arguments);else if(eR&&(V||(null===(ei=et.content)||void 0===ei?void 0:ei.startsWith(eA))))V+=et.content;else{let A=et.content||"";L+=A,null==ep||ep(A)}if(null===(eo=ea.choices)||void 0===eo?void 0:eo[0].finish_reason){if(B=!0,V)try{console.log(V.slice(1));let A=JSON.parse(V.slice(1));N={name:A.name,arguments:JSON.stringify(A.arguments)}}catch(A){console.error(A)}A({output:L,functionCall:N})}}}}),er=eZ.getReader(),ei="";for(;null==ec||!ec.aborted;){let{done:A,value:N}=await er.read();if(A)break;let L=eT.decode(N,{stream:!0});if("cohere"===ed){if(!(ei+=L).endsWith("\n"))continue;{let A=ei.trim().split("\n");for(let N of(ei="",A))et.feed("data: ".concat(N,"\n\n"))}}else et.feed(L)}}catch(A){N(A)}})}throw Error("Cannot get response from OpenAI")};async function transcribe(A){let{file:N,config:L,duration:B,t:V,alwaysUseCredits:et,signal:er}=A,ei=new FormData;ei.append("file",N),ei.append("duration","".concat(B));let eo=await (0,e_.lJ)(),ea=await fetch("".concat(em._O,"/api/transcribe"),{method:"POST",signal:er,headers:{...await getChatKitHeaders(L,{alwaysUseCredits:et||!!L.voiceInput_dismiss_custom_openai_config,licenseKey:null==eo?void 0:eo.licenseKey})},body:ei}).then(A=>A.json());if(ea.error){let A=formatError(await ea.json(),{t:V,alwaysUseCredits:et,config:L});throw Error(A)}return ea.text}async function generateImage(A){let{prompt:N,config:L,alwaysUseCredits:B,t:V,size:et,signal:er}=A,ei=await (0,e_.lJ)(),eo=await fetch("".concat(em._O,"/api/generate-image"),{method:"POST",signal:er,headers:{"content-type":"application/json",...await getChatKitHeaders(L,{alwaysUseCredits:B||!!L.voiceInput_dismiss_custom_openai_config,licenseKey:null==ei?void 0:ei.licenseKey})},body:JSON.stringify({prompt:N,size:et})}),ea=await eo.json();if(!eo.ok){let A=formatError(ea,{t:V,alwaysUseCredits:B,config:L});throw Error(A)}return{images:ea.data}}},24650:function(A,N,L){"use strict";L.d(N,{a:function(){return eR},p:function(){return runPlugin}});var B="INUMBER",V="IOP1",et="IOP2",er="IOP3",ei="IVAR",eo="IVARNAME",ea="IFUNCALL",es="IFUNDEF",eu="IEXPR",el="IEXPREVAL",ec="IMEMBER",ed="IENDSTATEMENT",ef="IARRAY";function Instruction(A,N){this.type=A,this.value=null!=N?N:0}function unaryInstruction(A){return new Instruction(V,A)}function binaryInstruction(A){return new Instruction(et,A)}function simplify(A,N,L,ea,es){for(var el,ed,eh,ep=[],eg=[],em=0;em<A.length;em++){var ev=A[em],ey=ev.type;if(ey===B||ey===eo)Array.isArray(ev.value)?ep.push.apply(ep,simplify(ev.value.map(function(A){return new Instruction(B,A)}).concat(new Instruction(ef,ev.value.length)),N,L,ea,es)):ep.push(ev);else if(ey===ei&&es.hasOwnProperty(ev.value))ev=new Instruction(B,es[ev.value]),ep.push(ev);else if(ey===et&&ep.length>1)ed=ep.pop(),el=ep.pop(),ev=new Instruction(B,(0,L[ev.value])(el.value,ed.value)),ep.push(ev);else if(ey===er&&ep.length>2)eh=ep.pop(),ed=ep.pop(),el=ep.pop(),"?"===ev.value?ep.push(el.value?ed.value:eh.value):(ev=new Instruction(B,(0,ea[ev.value])(el.value,ed.value,eh.value)),ep.push(ev));else if(ey===V&&ep.length>0)el=ep.pop(),ev=new Instruction(B,(0,N[ev.value])(el.value)),ep.push(ev);else if(ey===eu){for(;ep.length>0;)eg.push(ep.shift());eg.push(new Instruction(eu,simplify(ev.value,N,L,ea,es)))}else if(ey===ec&&ep.length>0)el=ep.pop(),ep.push(new Instruction(B,el.value[ev.value]));else{for(;ep.length>0;)eg.push(ep.shift());eg.push(ev)}}for(;ep.length>0;)eg.push(ep.shift());return eg}function substitute(A,N,L){for(var B=[],eo=0;eo<A.length;eo++){var ea=A[eo],es=ea.type;if(es===ei&&ea.value===N)for(var el=0;el<L.tokens.length;el++){var ec,ed=L.tokens[el];ec=ed.type===V?unaryInstruction(ed.value):ed.type===et?binaryInstruction(ed.value):ed.type===er?new Instruction(er,ed.value):new Instruction(ed.type,ed.value),B.push(ec)}else es===eu?B.push(new Instruction(eu,substitute(ea.value,N,L))):B.push(ea)}return B}function evaluate(A,N,L){var eh,ep,eg,em,ev,ey,e_=[];if(isExpressionEvaluator(A))return resolveExpression(A,L);for(var eb=A.length,ew=0;ew<eb;ew++){var ex=A[ew],eE=ex.type;if(eE===B||eE===eo)e_.push(ex.value);else if(eE===et)ep=e_.pop(),eh=e_.pop(),"and"===ex.value?e_.push(!!eh&&!!evaluate(ep,N,L)):"or"===ex.value?e_.push(!!eh||!!evaluate(ep,N,L)):"="===ex.value?(em=N.binaryOps[ex.value],e_.push(em(eh,evaluate(ep,N,L),L))):(em=N.binaryOps[ex.value],e_.push(em(resolveExpression(eh,L),resolveExpression(ep,L))));else if(eE===er)eg=e_.pop(),ep=e_.pop(),eh=e_.pop(),"?"===ex.value?e_.push(evaluate(eh?ep:eg,N,L)):(em=N.ternaryOps[ex.value],e_.push(em(resolveExpression(eh,L),resolveExpression(ep,L),resolveExpression(eg,L))));else if(eE===ei){if(ex.value in N.functions)e_.push(N.functions[ex.value]);else if(ex.value in N.unaryOps&&N.parser.isOperatorEnabled(ex.value))e_.push(N.unaryOps[ex.value]);else{var ek=L[ex.value];if(void 0!==ek)e_.push(ek);else throw Error("undefined variable: "+ex.value)}}else if(eE===V)eh=e_.pop(),em=N.unaryOps[ex.value],e_.push(em(resolveExpression(eh,L)));else if(eE===ea){for(ey=ex.value,ev=[];ey-- >0;)ev.unshift(resolveExpression(e_.pop(),L));if((em=e_.pop()).apply&&em.call)e_.push(em.apply(void 0,ev));else throw Error(em+" is not a function")}else if(eE===es)e_.push(function(){for(var A=e_.pop(),B=[],V=ex.value;V-- >0;)B.unshift(e_.pop());var et=e_.pop(),f=function(){for(var V=Object.assign({},L),et=0,er=B.length;et<er;et++)V[B[et]]=arguments[et];return evaluate(A,N,V)};return Object.defineProperty(f,"name",{value:et,writable:!1}),L[et]=f,f}());else if(eE===eu)e_.push(createExpressionEvaluator(ex,N));else if(eE===el)e_.push(ex);else if(eE===ec)eh=e_.pop(),e_.push(eh[ex.value]);else if(eE===ed)e_.pop();else if(eE===ef){for(ey=ex.value,ev=[];ey-- >0;)ev.unshift(e_.pop());e_.push(ev)}else throw Error("invalid Expression")}if(e_.length>1)throw Error("invalid Expression (parity)");return 0===e_[0]?0:resolveExpression(e_[0],L)}function createExpressionEvaluator(A,N,L){return isExpressionEvaluator(A)?A:{type:el,value:function(L){return evaluate(A.value,N,L)}}}function isExpressionEvaluator(A){return A&&A.type===el}function resolveExpression(A,N){return isExpressionEvaluator(A)?A.value(N):A}function expressionToString(A,N){for(var L,el,eh,ep,eg,em,ev=[],ey=0;ey<A.length;ey++){var e_=A[ey],eb=e_.type;if(eb===B)"number"==typeof e_.value&&e_.value<0?ev.push("("+e_.value+")"):Array.isArray(e_.value)?ev.push("["+e_.value.map(escapeValue).join(", ")+"]"):ev.push(escapeValue(e_.value));else if(eb===et)el=ev.pop(),L=ev.pop(),ep=e_.value,N?"^"===ep?ev.push("Math.pow("+L+", "+el+")"):"and"===ep?ev.push("(!!"+L+" && !!"+el+")"):"or"===ep?ev.push("(!!"+L+" || !!"+el+")"):"||"===ep?ev.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+L+"),("+el+")))"):"=="===ep?ev.push("("+L+" === "+el+")"):"!="===ep?ev.push("("+L+" !== "+el+")"):"["===ep?ev.push(L+"[("+el+") | 0]"):ev.push("("+L+" "+ep+" "+el+")"):"["===ep?ev.push(L+"["+el+"]"):ev.push("("+L+" "+ep+" "+el+")");else if(eb===er){if(eh=ev.pop(),el=ev.pop(),L=ev.pop(),"?"===(ep=e_.value))ev.push("("+L+" ? "+el+" : "+eh+")");else throw Error("invalid Expression")}else if(eb===ei||eb===eo)ev.push(e_.value);else if(eb===V)L=ev.pop(),"-"===(ep=e_.value)||"+"===ep?ev.push("("+ep+L+")"):N?"not"===ep?ev.push("(!"+L+")"):"!"===ep?ev.push("fac("+L+")"):ev.push(ep+"("+L+")"):"!"===ep?ev.push("("+L+"!)"):ev.push("("+ep+" "+L+")");else if(eb===ea){for(em=e_.value,eg=[];em-- >0;)eg.unshift(ev.pop());ep=ev.pop(),ev.push(ep+"("+eg.join(", ")+")")}else if(eb===es){for(el=ev.pop(),em=e_.value,eg=[];em-- >0;)eg.unshift(ev.pop());L=ev.pop(),N?ev.push("("+L+" = function("+eg.join(", ")+") { return "+el+" })"):ev.push("("+L+"("+eg.join(", ")+") = "+el+")")}else if(eb===ec)L=ev.pop(),ev.push(L+"."+e_.value);else if(eb===ef){for(em=e_.value,eg=[];em-- >0;)eg.unshift(ev.pop());ev.push("["+eg.join(", ")+"]")}else if(eb===eu)ev.push("("+expressionToString(e_.value,N)+")");else if(eb===ed);else throw Error("invalid Expression")}return ev.length>1&&(ev=N?[ev.join(",")]:[ev.join(";")]),String(ev[0])}function escapeValue(A){return"string"==typeof A?JSON.stringify(A).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):A}function contains(A,N){for(var L=0;L<A.length;L++)if(A[L]===N)return!0;return!1}function getSymbols(A,N,L){for(var B=!!(L=L||{}).withMembers,V=null,et=0;et<A.length;et++){var er=A[et];er.type===ei||er.type===eo?B||contains(N,er.value)?(null===V||contains(N,V)||N.push(V),V=er.value):N.push(er.value):er.type===ec&&B&&null!==V?V+="."+er.value:er.type===eu?getSymbols(er.value,N,L):null!==V&&(contains(N,V)||N.push(V),V=null)}null===V||contains(N,V)||N.push(V)}function Expression(A,N){this.tokens=A,this.parser=N,this.unaryOps=N.unaryOps,this.binaryOps=N.binaryOps,this.ternaryOps=N.ternaryOps,this.functions=N.functions}Instruction.prototype.toString=function(){switch(this.type){case B:case V:case et:case er:case ei:case eo:case ed:return this.value;case ea:return"CALL "+this.value;case es:return"DEF "+this.value;case ef:return"ARRAY "+this.value;case ec:return"."+this.value;default:return"Invalid Instruction"}},Expression.prototype.simplify=function(A){return A=A||{},new Expression(simplify(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,A),this.parser)},Expression.prototype.substitute=function(A,N){return N instanceof Expression||(N=this.parser.parse(String(N))),new Expression(substitute(this.tokens,A,N),this.parser)},Expression.prototype.evaluate=function(A){return A=A||{},evaluate(this.tokens,this,A)},Expression.prototype.toString=function(){return expressionToString(this.tokens,!1)},Expression.prototype.symbols=function(A){A=A||{};var N=[];return getSymbols(this.tokens,N,A),N},Expression.prototype.variables=function(A){A=A||{};var N=[];getSymbols(this.tokens,N,A);var L=this.functions;return N.filter(function(A){return!(A in L)})},Expression.prototype.toJSFunction=function(A,N){var L=this,B=Function(A,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+expressionToString(this.simplify(N).tokens,!0)+"; }");return function(){return B.apply(L,arguments)}};var eh="TEOF",ep="TNUMBER",eg="TSTRING",em="TPAREN",ev="TBRACKET",ey="TCOMMA",e_="TNAME",eb="TSEMICOLON";function Token(A,N,L){this.type=A,this.value=N,this.index=L}function TokenStream(A,N){this.pos=0,this.current=null,this.unaryOps=A.unaryOps,this.binaryOps=A.binaryOps,this.ternaryOps=A.ternaryOps,this.consts=A.consts,this.expression=N,this.savedPosition=0,this.savedCurrent=null,this.options=A.options,this.parser=A}Token.prototype.toString=function(){return this.type+": "+this.value},TokenStream.prototype.newToken=function(A,N,L){return new Token(A,N,null!=L?L:this.pos)},TokenStream.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},TokenStream.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},TokenStream.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(eh,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},TokenStream.prototype.isString=function(){var A=!1,N=this.pos,L=this.expression.charAt(N);if("'"===L||'"'===L)for(var B=this.expression.indexOf(L,N+1);B>=0&&this.pos<this.expression.length;){if(this.pos=B+1,"\\"!==this.expression.charAt(B-1)){var V=this.expression.substring(N+1,B);this.current=this.newToken(eg,this.unescape(V),N),A=!0;break}B=this.expression.indexOf(L,B+1)}return A},TokenStream.prototype.isParen=function(){var A=this.expression.charAt(this.pos);return("("===A||")"===A)&&(this.current=this.newToken(em,A),this.pos++,!0)},TokenStream.prototype.isBracket=function(){var A=this.expression.charAt(this.pos);return!!(("["===A||"]"===A)&&this.isOperatorEnabled("["))&&(this.current=this.newToken(ev,A),this.pos++,!0)},TokenStream.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(ey,","),this.pos++,!0)},TokenStream.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(eb,";"),this.pos++,!0)},TokenStream.prototype.isConst=function(){for(var A=this.pos,N=A;N<this.expression.length;N++){var L=this.expression.charAt(N);if(L.toUpperCase()===L.toLowerCase()&&(N===this.pos||"_"!==L&&"."!==L&&(L<"0"||L>"9")))break}if(N>A){var B=this.expression.substring(A,N);if(B in this.consts)return this.current=this.newToken(ep,this.consts[B]),this.pos+=B.length,!0}return!1},TokenStream.prototype.isNamedOp=function(){for(var A=this.pos,N=A;N<this.expression.length;N++){var L=this.expression.charAt(N);if(L.toUpperCase()===L.toLowerCase()&&(N===this.pos||"_"!==L&&(L<"0"||L>"9")))break}if(N>A){var B=this.expression.substring(A,N);if(this.isOperatorEnabled(B)&&(B in this.binaryOps||B in this.unaryOps||B in this.ternaryOps))return this.current=this.newToken("TOP",B),this.pos+=B.length,!0}return!1},TokenStream.prototype.isName=function(){for(var A=this.pos,N=A,L=!1;N<this.expression.length;N++){var B=this.expression.charAt(N);if(B.toUpperCase()===B.toLowerCase()){if(N===this.pos&&("$"===B||"_"===B)){"_"===B&&(L=!0);continue}if(N===this.pos||!L||"_"!==B&&(B<"0"||B>"9"))break}else L=!0}if(L){var V=this.expression.substring(A,N);return this.current=this.newToken(e_,V),this.pos+=V.length,!0}return!1},TokenStream.prototype.isWhitespace=function(){for(var A=!1,N=this.expression.charAt(this.pos);(" "===N||"	"===N||"\n"===N||"\r"===N)&&(A=!0,this.pos++,!(this.pos>=this.expression.length));)N=this.expression.charAt(this.pos);return A};var ew=/^[0-9a-f]{4}$/i;function ParserState(A,N,L){this.parser=A,this.tokens=N,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==L.allowMemberAccess}TokenStream.prototype.unescape=function(A){var N=A.indexOf("\\");if(N<0)return A;for(var L=A.substring(0,N);N>=0;){var B=A.charAt(++N);switch(B){case"'":L+="'";break;case'"':L+='"';break;case"\\":L+="\\";break;case"/":L+="/";break;case"b":L+="\b";break;case"f":L+="\f";break;case"n":L+="\n";break;case"r":L+="\r";break;case"t":L+="	";break;case"u":var V=A.substring(N+1,N+5);ew.test(V)||this.parseError("Illegal escape sequence: \\u"+V),L+=String.fromCharCode(parseInt(V,16)),N+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+B+'"')}++N;var et=A.indexOf("\\",N);L+=A.substring(N,et<0?A.length:et),N=et}return L},TokenStream.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},TokenStream.prototype.isRadixInteger=function(){var A,N,L=this.pos;if(L>=this.expression.length-2||"0"!==this.expression.charAt(L))return!1;if(++L,"x"===this.expression.charAt(L))A=16,N=/^[0-9a-f]$/i,++L;else{if("b"!==this.expression.charAt(L))return!1;A=2,N=/^[01]$/i,++L}for(var B=!1,V=L;L<this.expression.length;){var et=this.expression.charAt(L);if(N.test(et))L++,B=!0;else break}return B&&(this.current=this.newToken(ep,parseInt(this.expression.substring(V,L),A)),this.pos=L),B},TokenStream.prototype.isNumber=function(){for(var A,N=!1,L=this.pos,B=L,V=L,et=!1,er=!1;L<this.expression.length;)if((A=this.expression.charAt(L))>="0"&&A<="9"||!et&&"."===A)"."===A?et=!0:er=!0,L++,N=er;else break;if(N&&(V=L),"e"===A||"E"===A){L++;for(var ei=!0,eo=!1;L<this.expression.length;){if(A=this.expression.charAt(L),ei&&("+"===A||"-"===A))ei=!1;else if(A>="0"&&A<="9")eo=!0,ei=!1;else break;L++}eo||(L=V)}return N?(this.current=this.newToken(ep,parseFloat(this.expression.substring(B,L))),this.pos=L):this.pos=V,N},TokenStream.prototype.isOperator=function(){var A=this.pos,N=this.expression.charAt(this.pos);if("+"===N||"-"===N||"*"===N||"/"===N||"%"===N||"^"===N||"?"===N||":"===N||"."===N)this.current=this.newToken("TOP",N);else if(""===N||""===N)this.current=this.newToken("TOP","*");else if(">"===N)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken("TOP",">="),this.pos++):this.current=this.newToken("TOP",">");else if("<"===N)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken("TOP","<="),this.pos++):this.current=this.newToken("TOP","<");else if("|"===N){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken("TOP","||"),this.pos++}else if("="===N)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken("TOP","=="),this.pos++):this.current=this.newToken("TOP",N);else{if("!"!==N)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken("TOP","!="),this.pos++):this.current=this.newToken("TOP",N)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=A,!1)},TokenStream.prototype.isOperatorEnabled=function(A){return this.parser.isOperatorEnabled(A)},TokenStream.prototype.getCoordinates=function(){var A,N=0,L=-1;do N++,A=this.pos-L,L=this.expression.indexOf("\n",L+1);while(L>=0&&L<this.pos);return{line:N,column:A}},TokenStream.prototype.parseError=function(A){var N=this.getCoordinates();throw Error("parse error ["+N.line+":"+N.column+"]: "+A)},ParserState.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ParserState.prototype.tokenMatches=function(A,N){return void 0===N||(Array.isArray(N)?contains(N,A.value):"function"==typeof N?N(A):A.value===N)},ParserState.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ParserState.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ParserState.prototype.accept=function(A,N){return!!(this.nextToken.type===A&&this.tokenMatches(this.nextToken,N))&&(this.next(),!0)},ParserState.prototype.expect=function(A,N){if(!this.accept(A,N)){var L=this.tokens.getCoordinates();throw Error("parse error ["+L.line+":"+L.column+"]: Expected "+(N||A))}},ParserState.prototype.parseAtom=function(A){var N=this.tokens.unaryOps;function isPrefixOperator(A){return A.value in N}if(this.accept(e_)||this.accept("TOP",isPrefixOperator))A.push(new Instruction(ei,this.current.value));else if(this.accept(ep))A.push(new Instruction(B,this.current.value));else if(this.accept(eg))A.push(new Instruction(B,this.current.value));else if(this.accept(em,"("))this.parseExpression(A),this.expect(em,")");else if(this.accept(ev,"[")){if(this.accept(ev,"]"))A.push(new Instruction(ef,0));else{var L=this.parseArrayList(A);A.push(new Instruction(ef,L))}}else throw Error("unexpected "+this.nextToken)},ParserState.prototype.parseExpression=function(A){var N=[];!this.parseUntilEndStatement(A,N)&&(this.parseVariableAssignmentExpression(N),this.parseUntilEndStatement(A,N)||this.pushExpression(A,N))},ParserState.prototype.pushExpression=function(A,N){for(var L=0,B=N.length;L<B;L++)A.push(N[L])},ParserState.prototype.parseUntilEndStatement=function(A,N){return!!this.accept(eb)&&(this.nextToken&&this.nextToken.type!==eh&&!(this.nextToken.type===em&&")"===this.nextToken.value)&&N.push(new Instruction(ed)),this.nextToken.type!==eh&&this.parseExpression(N),A.push(new Instruction(eu,N)),!0)},ParserState.prototype.parseArrayList=function(A){for(var N=0;!this.accept(ev,"]");)for(this.parseExpression(A),++N;this.accept(ey);)this.parseExpression(A),++N;return N},ParserState.prototype.parseVariableAssignmentExpression=function(A){for(this.parseConditionalExpression(A);this.accept("TOP","=");){var N=A.pop(),L=[],B=A.length-1;if(N.type===ea){if(!this.tokens.isOperatorEnabled("()="))throw Error("function definition is not permitted");for(var V=0,et=N.value+1;V<et;V++){var er=B-V;A[er].type===ei&&(A[er]=new Instruction(eo,A[er].value))}this.parseVariableAssignmentExpression(L),A.push(new Instruction(eu,L)),A.push(new Instruction(es,N.value));continue}if(N.type!==ei&&N.type!==ec)throw Error("expected variable for assignment");this.parseVariableAssignmentExpression(L),A.push(new Instruction(eo,N.value)),A.push(new Instruction(eu,L)),A.push(binaryInstruction("="))}},ParserState.prototype.parseConditionalExpression=function(A){for(this.parseOrExpression(A);this.accept("TOP","?");){var N=[],L=[];this.parseConditionalExpression(N),this.expect("TOP",":"),this.parseConditionalExpression(L),A.push(new Instruction(eu,N)),A.push(new Instruction(eu,L)),A.push(new Instruction(er,"?"))}},ParserState.prototype.parseOrExpression=function(A){for(this.parseAndExpression(A);this.accept("TOP","or");){var N=[];this.parseAndExpression(N),A.push(new Instruction(eu,N)),A.push(binaryInstruction("or"))}},ParserState.prototype.parseAndExpression=function(A){for(this.parseComparison(A);this.accept("TOP","and");){var N=[];this.parseComparison(N),A.push(new Instruction(eu,N)),A.push(binaryInstruction("and"))}};var ex=["==","!=","<","<=",">=",">","in"];ParserState.prototype.parseComparison=function(A){for(this.parseAddSub(A);this.accept("TOP",ex);){var N=this.current;this.parseAddSub(A),A.push(binaryInstruction(N.value))}};var eE=["+","-","||"];ParserState.prototype.parseAddSub=function(A){for(this.parseTerm(A);this.accept("TOP",eE);){var N=this.current;this.parseTerm(A),A.push(binaryInstruction(N.value))}};var ek=["*","/","%"];function add(A,N){return Number(A)+Number(N)}function sub(A,N){return A-N}function mul(A,N){return A*N}function div(A,N){return A/N}function mod(A,N){return A%N}function concat(A,N){return Array.isArray(A)&&Array.isArray(N)?A.concat(N):""+A+N}function equal(A,N){return A===N}function notEqual(A,N){return A!==N}function greaterThan(A,N){return A>N}function lessThan(A,N){return A<N}function greaterThanEqual(A,N){return A>=N}function lessThanEqual(A,N){return A<=N}function andOperator(A,N){return!!(A&&N)}function orOperator(A,N){return!!(A||N)}function inOperator(A,N){return contains(N,A)}function sinh(A){return(Math.exp(A)-Math.exp(-A))/2}function cosh(A){return(Math.exp(A)+Math.exp(-A))/2}function tanh(A){return A===1/0?1:A===-1/0?-1:(Math.exp(A)-Math.exp(-A))/(Math.exp(A)+Math.exp(-A))}function asinh(A){return A===-1/0?A:Math.log(A+Math.sqrt(A*A+1))}function acosh(A){return Math.log(A+Math.sqrt(A*A-1))}function atanh(A){return Math.log((1+A)/(1-A))/2}function log10(A){return Math.log(A)*Math.LOG10E}function neg(A){return-A}function not(A){return!A}function trunc(A){return A<0?Math.ceil(A):Math.floor(A)}function random(A){return Math.random()*(A||1)}function factorial(A){return gamma(A+1)}function isInteger(A){return isFinite(A)&&A===Math.round(A)}ParserState.prototype.parseTerm=function(A){for(this.parseFactor(A);this.accept("TOP",ek);){var N=this.current;this.parseFactor(A),A.push(binaryInstruction(N.value))}},ParserState.prototype.parseFactor=function(A){var N=this.tokens.unaryOps;function isPrefixOperator(A){return A.value in N}if(this.save(),this.accept("TOP",isPrefixOperator)){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===em&&"("===this.nextToken.value){this.restore(),this.parseExponential(A);return}if(this.nextToken.type===eb||this.nextToken.type===ey||this.nextToken.type===eh||this.nextToken.type===em&&")"===this.nextToken.value){this.restore(),this.parseAtom(A);return}}var L=this.current;this.parseFactor(A),A.push(unaryInstruction(L.value))}else this.parseExponential(A)},ParserState.prototype.parseExponential=function(A){for(this.parsePostfixExpression(A);this.accept("TOP","^");)this.parseFactor(A),A.push(binaryInstruction("^"))},ParserState.prototype.parsePostfixExpression=function(A){for(this.parseFunctionCall(A);this.accept("TOP","!");)A.push(unaryInstruction("!"))},ParserState.prototype.parseFunctionCall=function(A){var N=this.tokens.unaryOps;function isPrefixOperator(A){return A.value in N}if(this.accept("TOP",isPrefixOperator)){var L=this.current;this.parseAtom(A),A.push(unaryInstruction(L.value))}else for(this.parseMemberExpression(A);this.accept(em,"(");)if(this.accept(em,")"))A.push(new Instruction(ea,0));else{var B=this.parseArgumentList(A);A.push(new Instruction(ea,B))}},ParserState.prototype.parseArgumentList=function(A){for(var N=0;!this.accept(em,")");)for(this.parseExpression(A),++N;this.accept(ey);)this.parseExpression(A),++N;return N},ParserState.prototype.parseMemberExpression=function(A){for(this.parseAtom(A);this.accept("TOP",".")||this.accept(ev,"[");){var N=this.current;if("."===N.value){if(!this.allowMemberAccess)throw Error('unexpected ".", member access is not permitted');this.expect(e_),A.push(new Instruction(ec,this.current.value))}else if("["===N.value){if(!this.tokens.isOperatorEnabled("["))throw Error('unexpected "[]", arrays are disabled');this.parseExpression(A),this.expect(ev,"]"),A.push(binaryInstruction("["))}else throw Error("unexpected symbol: "+N.value)}};var eS=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-.00009837447530487956,1580887032249125e-19,-.00021026444172410488,21743961811521265e-20,-.0001643181065367639,8441822398385275e-20,-.000026190838401581408,36899182659531625e-22];function gamma(A){var N,L;if(isInteger(A)){if(A<=0)return isFinite(A)?1/0:NaN;if(A>171)return 1/0;for(var B=A-2,V=A-1;B>1;)V*=B,B--;return 0===V&&(V=1),V}if(A<.5)return Math.PI/(Math.sin(Math.PI*A)*gamma(1-A));if(A>=171.35)return 1/0;if(A>85){var et=A*A,er=et*A,ei=er*A,eo=ei*A;return Math.sqrt(2*Math.PI/A)*Math.pow(A/Math.E,A)*(1+1/(12*A)+1/(288*et)-139/(51840*er)-571/(2488320*ei)+163879/(209018880*eo)+5246819/(75246796800*eo*A))}--A,L=eS[0];for(var ea=1;ea<eS.length;++ea)L+=eS[ea]/(A+ea);return Math.sqrt(2*Math.PI)*Math.pow(N=A+4.7421875+.5,A+.5)*Math.exp(-N)*L}function stringOrArrayLength(A){return Array.isArray(A)?A.length:String(A).length}function hypot(){for(var A=0,N=0,L=0;L<arguments.length;L++){var B,V=Math.abs(arguments[L]);N<V?(A=A*(B=N/V)*B+1,N=V):V>0?A+=(B=V/N)*B:A+=V}return N===1/0?1/0:N*Math.sqrt(A)}function condition(A,N,L){return A?N:L}function roundTo(A,N){return void 0===N||0==+N?Math.round(A):(N=-+N,isNaN(A=+A)||!("number"==typeof N&&N%1==0))?NaN:+((A=(A=Math.round(+((A=A.toString().split("e"))[0]+"e"+(A[1]?+A[1]-N:-N)))).toString().split("e"))[0]+"e"+(A[1]?+A[1]+N:N))}function setVar(A,N,L){return L&&(L[A]=N),N}function arrayIndex(A,N){return A[0|N]}function max(A){return 1==arguments.length&&Array.isArray(A)?Math.max.apply(Math,A):Math.max.apply(Math,arguments)}function min(A){return 1==arguments.length&&Array.isArray(A)?Math.min.apply(Math,A):Math.min.apply(Math,arguments)}function arrayMap(A,N){if("function"!=typeof A)throw Error("First argument to map is not a function");if(!Array.isArray(N))throw Error("Second argument to map is not an array");return N.map(function(N,L){return A(N,L)})}function arrayFold(A,N,L){if("function"!=typeof A)throw Error("First argument to fold is not a function");if(!Array.isArray(L))throw Error("Second argument to fold is not an array");return L.reduce(function(N,L,B){return A(N,L,B)},N)}function arrayFilter(A,N){if("function"!=typeof A)throw Error("First argument to filter is not a function");if(!Array.isArray(N))throw Error("Second argument to filter is not an array");return N.filter(function(N,L){return A(N,L)})}function stringOrArrayIndexOf(A,N){if(!(Array.isArray(N)||"string"==typeof N))throw Error("Second argument to indexOf is not a string or array");return N.indexOf(A)}function arrayJoin(A,N){if(!Array.isArray(N))throw Error("Second argument to join is not an array");return N.join(A)}function sign(A){return(A>0)-(A<0)||+A}var eC=1/3;function cbrt(A){return A<0?-Math.pow(-A,eC):Math.pow(A,eC)}function expm1(A){return Math.exp(A)-1}function log1p(A){return Math.log(1+A)}function log2(A){return Math.log(A)/Math.LN2}function Parser(A){this.options=A||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||sinh,cosh:Math.cosh||cosh,tanh:Math.tanh||tanh,asinh:Math.asinh||asinh,acosh:Math.acosh||acosh,atanh:Math.atanh||atanh,sqrt:Math.sqrt,cbrt:Math.cbrt||cbrt,log:Math.log,log2:Math.log2||log2,ln:Math.log,lg:Math.log10||log10,log10:Math.log10||log10,expm1:Math.expm1||expm1,log1p:Math.log1p||log1p,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||trunc,"-":neg,"+":Number,exp:Math.exp,not:not,length:stringOrArrayLength,"!":factorial,sign:Math.sign||sign},this.binaryOps={"+":add,"-":sub,"*":mul,"/":div,"%":mod,"^":Math.pow,"||":concat,"==":equal,"!=":notEqual,">":greaterThan,"<":lessThan,">=":greaterThanEqual,"<=":lessThanEqual,and:andOperator,or:orOperator,in:inOperator,"=":setVar,"[":arrayIndex},this.ternaryOps={"?":condition},this.functions={random:random,fac:factorial,min:min,max:max,hypot:Math.hypot||hypot,pyt:Math.hypot||hypot,pow:Math.pow,atan2:Math.atan2,if:condition,gamma:gamma,roundTo:roundTo,map:arrayMap,fold:arrayFold,filter:arrayFilter,indexOf:stringOrArrayIndexOf,join:arrayJoin},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Parser.prototype.parse=function(A){var N=[],L=new ParserState(this,new TokenStream(this,A),{allowMemberAccess:this.options.allowMemberAccess});return L.parseExpression(N),L.expect(eh,"EOF"),new Expression(N,this)},Parser.prototype.evaluate=function(A,N){return this.parse(A).evaluate(N)};var eA=new Parser;Parser.parse=function(A){return eA.parse(A)},Parser.evaluate=function(A,N){return eA.parse(A).evaluate(N)};var e$={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function getOptionName(A){return e$.hasOwnProperty(A)?e$[A]:A}Parser.prototype.isOperatorEnabled=function(A){var N=getOptionName(A),L=this.options.operators||{};return!(N in L)||!!L[N]};var eP=L(42525),eT=L(1481),eI=L(65172),eO=L(85273);let eR=[{name_for_model:"chatkit_calculator",name_for_human:"Calculator",description_for_model:"Use this function to get the accurate result of a math expression",description_for_human:"Simple calculator",arguments_schema:{type:"object",properties:{exp:{type:"string",description:"a valid mathematical expression"}},required:["exp"]}},{name_for_model:"chatkit_search",name_for_human:"Search",doc_url:"https://docs.chatkit.app/plugins/google-search.html",description_for_model:"Use this function to perform Google search. Useful for when you need to answer questions about current events or things you don't know or if you think user has given you inaccurate input.",description_for_human:"Google search",arguments_schema:{type:"object",properties:{keywords:{type:"string",description:"The search keywords that are optimized for Google search"}},required:["keywords"]},config_schema:{type:"object",properties:{googleSearchEngineId:{type:"string",title:"Google search engine ID"},googleSearchApiKey:{type:"string",isPassword:!0,title:"Google search API key"}},required:["googleSearchApiKey","googleSearchEngineId"]}},{name_for_model:"chatkit_request",name_for_human:"Request",description_for_model:"Use this function to browse the internet. Useful for fetch web page content and post data to a URL.",description_for_human:"Web browsing",arguments_schema:{type:"object",properties:{url:{type:"string",description:"The URL to send request to"},method:{type:"string",enum:["GET","POST","PUT","PATCH","DELETE"],description:"The request method"},data:{type:"string",description:"A JSON string you want to send to the url as a request body"}},required:["url","method"]}},{name_for_model:"chatkit_dalle",name_for_human:"DALL-E 3",description_for_human:"Generate images using the DALL-E 3 API",description_for_model:"Use this function to generate images with the DALL-E 3 API",arguments_schema:{type:"object",properties:{prompt:{type:"string",description:"The prompt to use for generating the image"},size:{type:"string",enum:["1024x1024","1792x1024","1024x1792"],description:"The size of the image to generate, in order they are for Square, Landscape, Portrait sizes"}},required:["prompt"]}},{name_for_model:"chatkit_deno",name_for_human:"Deno",description_for_human:"Run Deno code",description_for_model:"Use this function to run Deno code",arguments_schema:{type:"object",properties:{code:{type:"string",description:"The Deno code to run, the code must be valid Deno code, in typescript. The code can only use Deno's std libraries (https://deno.land/std): archive, assert, async, bytes, collections, console, csv, datetime, dotenv, encoding, flags, fmt, front_matter, fs, html, http, io, json, jsonc, log, media_types, msgpack, path, permissions, regexp, semver, signal, streams, testing, toml, ulid, url, uuid, yaml."}},required:["code"]},is_private:!0}].filter(A=>!A.is_private);async function runPlugin(A,N,L){let{config:B,alwaysUseCredits:V,t:et}=L;if("chatkit_calculator"===A.name_for_model){let A=N.arguments,L=new Parser,B=L.parse(A.exp.trim()),V=B.evaluate();return{result:V,renderFunctionResult:!0}}if("chatkit_search"===A.name_for_model){let A=N.arguments,L=N.config;if(!L.googleSearchApiKey||!L.googleSearchEngineId)throw Error("Please set your Google Search API key and engine ID in the plugin settings first!");let B=await (0,eP.W)({query:A.keywords,apiKey:L.googleSearchApiKey,engineId:L.googleSearchEngineId,signal:N.signal}),V="".concat(B.map((A,N)=>"[".concat(N+1,"]\nTitle:").concat(A.title,"\nDescription:").concat(A.snippet).concat("\nLink:".concat(A.link))).join("\n\n"));return{result:V}}if("chatkit_request"===A.name_for_model){let{url:A,method:L,data:B}=N.arguments,V=await fetch("".concat(eI._O,"/api/request-tool-backend?readable=1&url=").concat(encodeURIComponent(A)),{method:L,body:B||void 0,signal:N.signal}).then(N=>{if(!N.ok)throw Error("Failed to fetch ".concat(A,": ").concat(N.status));return N.text()});return{result:V}}if("chatkit_dalle"===A.name_for_model){let{prompt:A,size:L}=N.arguments,er=await (0,eT.ON)({prompt:A,config:B,alwaysUseCredits:V,t:et,size:L,signal:N.signal});return{result:er,renderFunctionResult:!0}}if("chatkit_deno"===A.name_for_model){let{code:A}=N.arguments,L=(0,eO.EG)(),B=await L.invoke("run_deno_in_docker",{code:A});return console.log({code:A,output:B}),{result:B,renderFunctionResult:!0}}throw Error("unknown plugin")}},61383:function(A,N,L){"use strict";L.d(N,{LC:function(){return useRouteHash},gp:function(){return setHash},qQ:function(){return et}});var B=L(79905),V=L(74550);let et=(0,B.cn)(null),useRouteHash=()=>{let A=(0,V.Dv)(et);return A},setHash=(A,N)=>{N?A.push({query:A.query,pathname:A.pathname,hash:N},void 0,{shallow:!0}):A.replace({query:A.query,pathname:A.pathname,hash:N},void 0,{shallow:!0})}},66706:function(A,N,L){"use strict";let B,V;L.d(N,{OM:function(){return eH},fH:function(){return eU},T6:function(){return createNewEmptyChat},oV:function(){return getMessagesQueryKey},KT:function(){return getStorageInstance},Lc:function(){return messagesToChatGPTMessages},KF:function(){return pickChatSettings},h:function(){return eG},D0:function(){return updateOrCreateChat},NX:function(){return useChatsQuery},kY:function(){return useMessagesQuery}});var et=L(56438);function mitt(A){return{all:A=A||new Map,on:function(N,L){var B=A.get(N);B?B.push(L):A.set(N,[L])},off:function(N,L){var B=A.get(N);B&&(L?B.splice(B.indexOf(L)>>>0,1):A.set(N,[]))},emit:function(N,L){var B=A.get(N);B&&B.slice().map(function(A){A(L)}),(B=A.get("*"))&&B.slice().map(function(A){A(N,L)})}}}var er=L(4124),ei=L(1481),eo=L(26656),ea=L(85273),es=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(A){return}}(),utils_createBlob=function(A,N){A=A||[],N=N||{};try{return new Blob(A,N)}catch(V){if("TypeError"!==V.name)throw V;for(var L=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),B=0;B<A.length;B+=1)L.append(A[B]);return L.getBlob(N.type)}};"undefined"==typeof Promise&&L(92308);var eu=Promise,utils_executeCallback=function(A,N){N&&A.then(function(A){N(null,A)},function(A){N(A)})},utils_executeTwoCallbacks=function(A,N,L){"function"==typeof N&&A.then(N),"function"==typeof L&&A.catch(L)};function normalizeKey(A){return"string"!=typeof A&&(console.warn("".concat(A," used as a key, but it is not a string.")),A=String(A)),A}function getCallback(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}let el="local-forage-detect-blob-support",ec={},ed=Object.prototype.toString,ef="readonly",eh="readwrite";function _binStringToArrayBuffer(A){for(var N=A.length,L=new ArrayBuffer(N),B=new Uint8Array(L),V=0;V<N;V++)B[V]=A.charCodeAt(V);return L}function _checkBlobSupportWithoutCaching(A){return new eu(function(N){var L=A.transaction(el,eh),B=utils_createBlob([""]);L.objectStore(el).put(B,"key"),L.onabort=function(A){A.preventDefault(),A.stopPropagation(),N(!1)},L.oncomplete=function(){var A=navigator.userAgent.match(/Chrome\/(\d+)/);N(navigator.userAgent.match(/Edge\//)||!A||parseInt(A[1],10)>=43)}}).catch(function(){return!1})}function _checkBlobSupport(A){return"boolean"==typeof B?eu.resolve(B):_checkBlobSupportWithoutCaching(A).then(function(A){return B=A})}function _deferReadiness(A){var N=ec[A.name],L={};L.promise=new eu(function(A,N){L.resolve=A,L.reject=N}),N.deferredOperations.push(L),N.dbReady?N.dbReady=N.dbReady.then(function(){return L.promise}):N.dbReady=L.promise}function _advanceReadiness(A){var N=ec[A.name].deferredOperations.pop();if(N)return N.resolve(),N.promise}function _rejectReadiness(A,N){var L=ec[A.name].deferredOperations.pop();if(L)return L.reject(N),L.promise}function _getConnection(A,N){return new eu(function(L,B){if(ec[A.name]=ec[A.name]||createDbContext(),A.db){if(!N)return L(A.db);_deferReadiness(A),A.db.close()}var V=[A.name];N&&V.push(A.version);var et=es.open.apply(es,V);N&&(et.onupgradeneeded=function(N){var L=et.result;try{L.createObjectStore(A.storeName),N.oldVersion<=1&&L.createObjectStore(el)}catch(L){if("ConstraintError"===L.name)console.warn('The database "'+A.name+'" has been upgraded from version '+N.oldVersion+" to version "+N.newVersion+', but the storage "'+A.storeName+'" already exists.');else throw L}}),et.onerror=function(A){A.preventDefault(),B(et.error)},et.onsuccess=function(){var N=et.result;N.onversionchange=function(A){A.target.close()},L(N),_advanceReadiness(A)}})}function _isUpgradeNeeded(A,N){if(!A.db)return!0;var L=!A.db.objectStoreNames.contains(A.storeName),B=A.version<A.db.version,V=A.version>A.db.version;if(B&&(A.version!==N&&console.warn('The database "'+A.name+"\" can't be downgraded from version "+A.db.version+" to version "+A.version+"."),A.version=A.db.version),V||L){if(L){var et=A.db.version+1;et>A.version&&(A.version=et)}return!0}return!1}function _encodeBlob(A){return new eu(function(N,L){var B=new FileReader;B.onerror=L,B.onloadend=function(L){N({__local_forage_encoded_blob:!0,data:btoa(L.target.result||""),type:A.type})},B.readAsBinaryString(A)})}function _decodeBlob(A){return utils_createBlob([_binStringToArrayBuffer(atob(A.data))],{type:A.type})}function _isEncodedBlob(A){return A&&A.__local_forage_encoded_blob}function _fullyReady(A){var N=this,L=N._initReady().then(function(){var A=ec[N._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return utils_executeTwoCallbacks(L,A,A),L}function _tryReconnect(A){_deferReadiness(A);for(var N=ec[A.name],L=N.forages,B=0;B<L.length;B++){let A=L[B];A._dbInfo.db&&(A._dbInfo.db.close(),A._dbInfo.db=null)}return A.db=null,_getConnection(A,!1).then(N=>(A.db=N,_isUpgradeNeeded(A))?_getConnection(A,!0):N).then(B=>{A.db=N.db=B;for(var V=0;V<L.length;V++)L[V]._dbInfo.db=B}).catch(N=>{throw _rejectReadiness(A,N),N})}function createTransaction(A,N,L,B){void 0===B&&(B=1);try{var V=A.db.transaction(A.storeName,N);L(null,V)}catch(V){if(B>0&&(!A.db||"InvalidStateError"===V.name||"NotFoundError"===V.name))return eu.resolve().then(()=>{if(!A.db||"NotFoundError"===V.name&&!A.db.objectStoreNames.contains(A.storeName)&&A.version<=A.db.version)return A.db&&(A.version=A.db.version+1),_getConnection(A,!0)}).then(()=>_tryReconnect(A).then(function(){createTransaction(A,N,L,B-1)})).catch(L);L(V)}}function createDbContext(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function getItem(A,N){var L=this;A=normalizeKey(A);var B=new eu(function(N,B){L.ready().then(function(){createTransaction(L._dbInfo,ef,function(V,et){if(V)return B(V);try{var er=et.objectStore(L._dbInfo.storeName).get(A);er.onsuccess=function(){var A=er.result;void 0===A&&(A=null),_isEncodedBlob(A)&&(A=_decodeBlob(A)),N(A)},er.onerror=function(){B(er.error)}}catch(A){B(A)}})}).catch(B)});return utils_executeCallback(B,N),B}function iterate(A,N){var L=this,B=new eu(function(N,B){L.ready().then(function(){createTransaction(L._dbInfo,ef,function(V,et){if(V)return B(V);try{var er=et.objectStore(L._dbInfo.storeName).openCursor(),ei=1;er.onsuccess=function(){var L=er.result;if(L){var B=L.value;_isEncodedBlob(B)&&(B=_decodeBlob(B));var V=A(B,L.key,ei++);void 0!==V?N(V):L.continue()}else N()},er.onerror=function(){B(er.error)}}catch(A){B(A)}})}).catch(B)});return utils_executeCallback(B,N),B}function setItem(A,N,L){var B=this;A=normalizeKey(A);var V=new eu(function(L,V){var et;B.ready().then(function(){return(et=B._dbInfo,"[object Blob]"===ed.call(N))?_checkBlobSupport(et.db).then(function(A){return A?N:_encodeBlob(N)}):N}).then(function(N){createTransaction(B._dbInfo,eh,function(et,er){if(et)return V(et);try{var ei=er.objectStore(B._dbInfo.storeName);null===N&&(N=void 0);var eo=ei.put(N,A);er.oncomplete=function(){void 0===N&&(N=null),L(N)},er.onabort=er.onerror=function(){var A=eo.error?eo.error:eo.transaction.error;V(A)}}catch(A){V(A)}})}).catch(V)});return utils_executeCallback(V,L),V}function removeItem(A,N){var L=this;A=normalizeKey(A);var B=new eu(function(N,B){L.ready().then(function(){createTransaction(L._dbInfo,eh,function(V,et){if(V)return B(V);try{var er=et.objectStore(L._dbInfo.storeName).delete(A);et.oncomplete=function(){N()},et.onerror=function(){B(er.error)},et.onabort=function(){var A=er.error?er.error:er.transaction.error;B(A)}}catch(A){B(A)}})}).catch(B)});return utils_executeCallback(B,N),B}function clear(A){var N=this,L=new eu(function(A,L){N.ready().then(function(){createTransaction(N._dbInfo,eh,function(B,V){if(B)return L(B);try{var et=V.objectStore(N._dbInfo.storeName).clear();V.oncomplete=function(){A()},V.onabort=V.onerror=function(){var A=et.error?et.error:et.transaction.error;L(A)}}catch(A){L(A)}})}).catch(L)});return utils_executeCallback(L,A),L}function indexeddb_length(A){var N=this,L=new eu(function(A,L){N.ready().then(function(){createTransaction(N._dbInfo,ef,function(B,V){if(B)return L(B);try{var et=V.objectStore(N._dbInfo.storeName).count();et.onsuccess=function(){A(et.result)},et.onerror=function(){L(et.error)}}catch(A){L(A)}})}).catch(L)});return utils_executeCallback(L,A),L}function key(A,N){var L=this,B=new eu(function(N,B){if(A<0){N(null);return}L.ready().then(function(){createTransaction(L._dbInfo,ef,function(V,et){if(V)return B(V);try{var er=et.objectStore(L._dbInfo.storeName),ei=!1,eo=er.openKeyCursor();eo.onsuccess=function(){var L=eo.result;if(!L){N(null);return}0===A?N(L.key):ei?N(L.key):(ei=!0,L.advance(A))},eo.onerror=function(){B(eo.error)}}catch(A){B(A)}})}).catch(B)});return utils_executeCallback(B,N),B}function keys(A){var N=this,L=new eu(function(A,L){N.ready().then(function(){createTransaction(N._dbInfo,ef,function(B,V){if(B)return L(B);try{var et=V.objectStore(N._dbInfo.storeName).openKeyCursor(),er=[];et.onsuccess=function(){var N=et.result;if(!N){A(er);return}er.push(N.key),N.continue()},et.onerror=function(){L(et.error)}}catch(A){L(A)}})}).catch(L)});return utils_executeCallback(L,A),L}function dropInstance(A,N){N=getCallback.apply(this,arguments);var L,B=this.config();if((A="function"!=typeof A&&A||{}).name||(A.name=A.name||B.name,A.storeName=A.storeName||B.storeName),A.name){let N=A.name===B.name&&this._dbInfo.db,V=N?eu.resolve(this._dbInfo.db):_getConnection(A,!1).then(N=>{let L=ec[A.name],B=L.forages;L.db=N;for(var V=0;V<B.length;V++)B[V]._dbInfo.db=N;return N});L=A.storeName?V.then(N=>{if(!N.objectStoreNames.contains(A.storeName))return;let L=N.version+1;_deferReadiness(A);let B=ec[A.name],V=B.forages;N.close();for(let A=0;A<V.length;A++){let N=V[A];N._dbInfo.db=null,N._dbInfo.version=L}let et=new eu((N,B)=>{let V=es.open(A.name,L);V.onerror=A=>{let N=V.result;N.close(),B(A)},V.onupgradeneeded=()=>{V.result.deleteObjectStore(A.storeName)},V.onsuccess=()=>{let A=V.result;A.close(),N(A)}});return et.then(A=>{B.db=A;for(let N=0;N<V.length;N++){let L=V[N];L._dbInfo.db=A,_advanceReadiness(L._dbInfo)}}).catch(N=>{throw(_rejectReadiness(A,N)||eu.resolve()).catch(()=>{}),N})}):V.then(N=>{_deferReadiness(A);let L=ec[A.name],B=L.forages;N.close();for(var V=0;V<B.length;V++){let A=B[V];A._dbInfo.db=null}let et=new eu((N,L)=>{var B=es.deleteDatabase(A.name);B.onerror=()=>{let A=B.result;A&&A.close(),L(B.error)},B.onblocked=()=>{console.warn('dropInstance blocked for database "'+A.name+'" until all open connections are closed')},B.onsuccess=()=>{let A=B.result;A&&A.close(),N(A)}});return et.then(A=>{L.db=A;for(var N=0;N<B.length;N++){let A=B[N];_advanceReadiness(A._dbInfo)}}).catch(N=>{throw(_rejectReadiness(A,N)||eu.resolve()).catch(()=>{}),N})})}else L=eu.reject("Invalid arguments");return utils_executeCallback(L,N),L}var ep={_driver:"asyncStorage",_initStorage:function(A){var N=this,L={db:null};if(A)for(var B in A)L[B]=A[B];var V=ec[L.name];V||(V=createDbContext(),ec[L.name]=V),V.forages.push(N),N._initReady||(N._initReady=N.ready,N.ready=_fullyReady);var et=[];function ignoreErrors(){return eu.resolve()}for(var er=0;er<V.forages.length;er++){var ei=V.forages[er];ei!==N&&et.push(ei._initReady().catch(ignoreErrors))}var eo=V.forages.slice(0);return eu.all(et).then(function(){return L.db=V.db,_getConnection(L,!1)}).then(function(A){return(L.db=A,_isUpgradeNeeded(L,N._defaultConfig.version))?_getConnection(L,!0):A}).then(function(A){L.db=V.db=A,N._dbInfo=L;for(var B=0;B<eo.length;B++){var et=eo[B];et!==N&&(et._dbInfo.db=L.db,et._dbInfo.version=L.version)}})},_support:function(){try{if(!es||!es.open)return!1;var A="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),N="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!A||N)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(A){return!1}}(),iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:indexeddb_length,key:key,keys:keys,dropInstance:dropInstance},eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",em=/^~~local_forage_type~([^~]+)~/,ev="__lfsc__:",ey=ev.length,e_="arbf",eb="blob",ew="si08",ex="ui08",eE="uic8",ek="si16",eS="si32",eC="ur16",eA="ui32",e$="fl32",eP="fl64",eT=ey+e_.length,eI=Object.prototype.toString;function stringToBuffer(A){var N,L,B,V,et,er=.75*A.length,ei=A.length,eo=0;"="===A[A.length-1]&&(er--,"="===A[A.length-2]&&er--);var ea=new ArrayBuffer(er),es=new Uint8Array(ea);for(N=0;N<ei;N+=4)L=eg.indexOf(A[N]),B=eg.indexOf(A[N+1]),V=eg.indexOf(A[N+2]),et=eg.indexOf(A[N+3]),es[eo++]=L<<2|B>>4,es[eo++]=(15&B)<<4|V>>2,es[eo++]=(3&V)<<6|63&et;return ea}function bufferToString(A){var N,L=new Uint8Array(A),B="";for(N=0;N<L.length;N+=3)B+=eg[L[N]>>2]+eg[(3&L[N])<<4|L[N+1]>>4]+eg[(15&L[N+1])<<2|L[N+2]>>6]+eg[63&L[N+2]];return L.length%3==2?B=B.substring(0,B.length-1)+"=":L.length%3==1&&(B=B.substring(0,B.length-2)+"=="),B}var eO={serialize:function(A,N){var L="";if(A&&(L=eI.call(A)),A&&("[object ArrayBuffer]"===L||A.buffer&&"[object ArrayBuffer]"===eI.call(A.buffer))){var B,V=ev;A instanceof ArrayBuffer?(B=A,V+=e_):(B=A.buffer,"[object Int8Array]"===L?V+=ew:"[object Uint8Array]"===L?V+=ex:"[object Uint8ClampedArray]"===L?V+=eE:"[object Int16Array]"===L?V+=ek:"[object Uint16Array]"===L?V+=eC:"[object Int32Array]"===L?V+=eS:"[object Uint32Array]"===L?V+=eA:"[object Float32Array]"===L?V+=e$:"[object Float64Array]"===L?V+=eP:N(Error("Failed to get type for BinaryArray"))),N(V+bufferToString(B))}else if("[object Blob]"===L){var et=new FileReader;et.onload=function(){N(ev+eb+("~~local_forage_type~"+A.type)+"~"+bufferToString(this.result))},et.readAsArrayBuffer(A)}else try{N(JSON.stringify(A))}catch(L){console.error("Couldn't convert value into a JSON string: ",A),N(null,L)}},deserialize:function(A){if(A.substring(0,ey)!==ev)return JSON.parse(A);var N,L=A.substring(eT),B=A.substring(ey,eT);if(B===eb&&em.test(L)){var V=L.match(em);N=V[1],L=L.substring(V[0].length)}var et=stringToBuffer(L);switch(B){case e_:return et;case eb:return utils_createBlob([et],{type:N});case ew:return new Int8Array(et);case ex:return new Uint8Array(et);case eE:return new Uint8ClampedArray(et);case ek:return new Int16Array(et);case eC:return new Uint16Array(et);case eS:return new Int32Array(et);case eA:return new Uint32Array(et);case e$:return new Float32Array(et);case eP:return new Float64Array(et);default:throw Error("Unkown type: "+B)}},stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(A,N,L,B){A.executeSql("CREATE TABLE IF NOT EXISTS ".concat(N.storeName," ")+"(id INTEGER PRIMARY KEY, key unique, value)",[],L,B)}function tryExecuteSql(A,N,L,B,V,et){A.executeSql(L,B,V,function(A,er){er.code===er.SYNTAX_ERR?A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[N.storeName],function(A,ei){ei.rows.length?et(A,er):createDbTable(A,N,function(){A.executeSql(L,B,V,et)},et)},et):et(A,er)},et)}function websql_getItem(A,N){var L=this;A=normalizeKey(A);var B=new eu(function(N,B){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(L){tryExecuteSql(L,V,"SELECT * FROM ".concat(V.storeName," WHERE key = ? LIMIT 1"),[A],function(A,L){var B=L.rows.length?L.rows.item(0).value:null;B&&(B=V.serializer.deserialize(B)),N(B)},function(A,N){B(N)})})}).catch(B)});return utils_executeCallback(B,N),B}function websql_iterate(A,N){var L=this,B=new eu(function(N,B){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(L){tryExecuteSql(L,V,"SELECT * FROM ".concat(V.storeName),[],function(L,B){for(var et=B.rows,er=et.length,ei=0;ei<er;ei++){var eo=et.item(ei),ea=eo.value;if(ea&&(ea=V.serializer.deserialize(ea)),void 0!==(ea=A(ea,eo.key,ei+1))){N(ea);return}}N()},function(A,N){B(N)})})}).catch(B)});return utils_executeCallback(B,N),B}function _setItem(A,N,L,B){var V=this;A=normalizeKey(A);var et=new eu(function(et,er){V.ready().then(function(){void 0===N&&(N=null);var ei=N,eo=V._dbInfo;eo.serializer.serialize(N,function(N,ea){ea?er(ea):eo.db.transaction(function(L){tryExecuteSql(L,eo,"INSERT OR REPLACE INTO ".concat(eo.storeName," ")+"(key, value) VALUES (?, ?)",[A,N],function(){et(ei)},function(A,N){er(N)})},function(N){if(N.code===N.QUOTA_ERR){if(B>0){et(_setItem.apply(V,[A,ei,L,B-1]));return}er(N)}})})}).catch(er)});return utils_executeCallback(et,L),et}function websql_setItem(A,N,L){return _setItem.apply(this,[A,N,L,1])}function websql_removeItem(A,N){var L=this;A=normalizeKey(A);var B=new eu(function(N,B){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(L){tryExecuteSql(L,V,"DELETE FROM ".concat(V.storeName," WHERE key = ?"),[A],function(){N()},function(A,N){B(N)})})}).catch(B)});return utils_executeCallback(B,N),B}function websql_clear(A){var N=this,L=new eu(function(A,L){N.ready().then(function(){var B=N._dbInfo;B.db.transaction(function(N){tryExecuteSql(N,B,"DELETE FROM ".concat(B.storeName),[],function(){A()},function(A,N){L(N)})})}).catch(L)});return utils_executeCallback(L,A),L}function websql_length(A){var N=this,L=new eu(function(A,L){N.ready().then(function(){var B=N._dbInfo;B.db.transaction(function(N){tryExecuteSql(N,B,"SELECT COUNT(key) as c FROM ".concat(B.storeName),[],function(N,L){A(L.rows.item(0).c)},function(A,N){L(N)})})}).catch(L)});return utils_executeCallback(L,A),L}function websql_key(A,N){var L=this,B=new eu(function(N,B){L.ready().then(function(){var V=L._dbInfo;V.db.transaction(function(L){tryExecuteSql(L,V,"SELECT key FROM ".concat(V.storeName," WHERE id = ? LIMIT 1"),[A+1],function(A,L){N(L.rows.length?L.rows.item(0).key:null)},function(A,N){B(N)})})}).catch(B)});return utils_executeCallback(B,N),B}function websql_keys(A){var N=this,L=new eu(function(A,L){N.ready().then(function(){var B=N._dbInfo;B.db.transaction(function(N){tryExecuteSql(N,B,"SELECT key FROM ".concat(B.storeName),[],function(N,L){for(var B=[],V=0;V<L.rows.length;V++)B.push(L.rows.item(V).key);A(B)},function(A,N){L(N)})})}).catch(L)});return utils_executeCallback(L,A),L}function getAllStoreNames(A){return new eu(function(N,L){A.transaction(function(B){B.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(L,B){for(var V=[],et=0;et<B.rows.length;et++)V.push(B.rows.item(et).name);N({db:A,storeNames:V})},function(A,N){L(N)})},function(A){L(A)})})}function websql_dropInstance(A,N){N=getCallback.apply(this,arguments);var L,B=this.config();(A="function"!=typeof A&&A||{}).name||(A.name=A.name||B.name,A.storeName=A.storeName||B.storeName);var V=this;return utils_executeCallback(L=A.name?new eu(function(N){var L;L=A.name===B.name?V._dbInfo.db:openDatabase(A.name,"","",0),N(A.storeName?{db:L,storeNames:[A.storeName]}:getAllStoreNames(L))}).then(function(A){return new eu(function(N,L){A.db.transaction(function(B){function dropTable(A){return new eu(function(N,L){B.executeSql("DROP TABLE IF EXISTS ".concat(A),[],function(){N()},function(A,N){L(N)})})}for(var V=[],et=0,er=A.storeNames.length;et<er;et++)V.push(dropTable(A.storeNames[et]));eu.all(V).then(function(){N()}).catch(function(A){L(A)})},function(A){L(A)})})}):eu.reject("Invalid arguments"),N),L}var eR={_driver:"webSQLStorage",_initStorage:function(A){var N=this,L={db:null};if(A)for(var B in A)L[B]="string"!=typeof A[B]?A[B].toString():A[B];var V=new eu(function(A,B){try{L.db=openDatabase(L.name,String(L.version),L.description,L.size)}catch(A){return B(A)}L.db.transaction(function(V){createDbTable(V,L,function(){N._dbInfo=L,A()},function(A,N){B(N)})},B)});return L.serializer=eO,V},_support:"function"==typeof openDatabase,iterate:websql_iterate,getItem:websql_getItem,setItem:websql_setItem,removeItem:websql_removeItem,clear:websql_clear,length:websql_length,key:websql_key,keys:websql_keys,dropInstance:websql_dropInstance};function _getKeyPrefix(A,N){var L=A.name+"/";return A.storeName!==N.storeName&&(L+=A.storeName+"/"),L}function checkIfLocalStorageThrows(){var A="_localforage_support_test";try{return localStorage.setItem(A,!0),localStorage.removeItem(A),!1}catch(A){return!0}}function _isLocalStorageUsable(){return!checkIfLocalStorageThrows()||localStorage.length>0}function localstorage_clear(A){var N=this,L=N.ready().then(function(){for(var A=N._dbInfo.keyPrefix,L=localStorage.length-1;L>=0;L--){var B=localStorage.key(L);0===B.indexOf(A)&&localStorage.removeItem(B)}});return utils_executeCallback(L,A),L}function localstorage_getItem(A,N){var L=this;A=normalizeKey(A);var B=L.ready().then(function(){var N=L._dbInfo,B=localStorage.getItem(N.keyPrefix+A);return B&&(B=N.serializer.deserialize(B)),B});return utils_executeCallback(B,N),B}function localstorage_iterate(A,N){var L=this,B=L.ready().then(function(){for(var N=L._dbInfo,B=N.keyPrefix,V=B.length,et=localStorage.length,er=1,ei=0;ei<et;ei++){var eo=localStorage.key(ei);if(0===eo.indexOf(B)){var ea=localStorage.getItem(eo);if(ea&&(ea=N.serializer.deserialize(ea)),void 0!==(ea=A(ea,eo.substring(V),er++)))return ea}}});return utils_executeCallback(B,N),B}function localstorage_key(A,N){var L=this,B=L.ready().then(function(){var N,B=L._dbInfo;try{N=localStorage.key(A)}catch(A){N=null}return N&&(N=N.substring(B.keyPrefix.length)),N});return utils_executeCallback(B,N),B}function localstorage_keys(A){var N=this,L=N.ready().then(function(){for(var A=N._dbInfo,L=localStorage.length,B=[],V=0;V<L;V++){var et=localStorage.key(V);0===et.indexOf(A.keyPrefix)&&B.push(et.substring(A.keyPrefix.length))}return B});return utils_executeCallback(L,A),L}function localstorage_length(A){var N=this.keys().then(function(A){return A.length});return utils_executeCallback(N,A),N}function localstorage_removeItem(A,N){var L=this;A=normalizeKey(A);var B=L.ready().then(function(){var N=L._dbInfo;localStorage.removeItem(N.keyPrefix+A)});return utils_executeCallback(B,N),B}function localstorage_setItem(A,N,L){var B=this;A=normalizeKey(A);var V=B.ready().then(function(){void 0===N&&(N=null);var L=N;return new eu(function(V,et){var er=B._dbInfo;er.serializer.serialize(N,function(N,B){if(B)et(B);else try{localStorage.setItem(er.keyPrefix+A,N),V(L)}catch(A){("QuotaExceededError"===A.name||"NS_ERROR_DOM_QUOTA_REACHED"===A.name)&&et(A),et(A)}})})});return utils_executeCallback(V,L),V}function localstorage_dropInstance(A,N){if(N=getCallback.apply(this,arguments),!(A="function"!=typeof A&&A||{}).name){var L,B=this.config();A.name=A.name||B.name,A.storeName=A.storeName||B.storeName}var V=this;return utils_executeCallback(L=A.name?new eu(function(N){N(A.storeName?_getKeyPrefix(A,V._defaultConfig):"".concat(A.name,"/"))}).then(function(A){for(var N=localStorage.length-1;N>=0;N--){var L=localStorage.key(N);0===L.indexOf(A)&&localStorage.removeItem(L)}}):eu.reject("Invalid arguments"),N),L}var eM={_driver:"localStorageWrapper",_initStorage:function(A){var N={};if(A)for(var L in A)N[L]=A[L];return(N.keyPrefix=_getKeyPrefix(A,this._defaultConfig),_isLocalStorageUsable())?(this._dbInfo=N,N.serializer=eO,eu.resolve()):eu.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(A){return!1}}(),iterate:localstorage_iterate,getItem:localstorage_getItem,setItem:localstorage_setItem,removeItem:localstorage_removeItem,clear:localstorage_clear,length:localstorage_length,key:localstorage_key,keys:localstorage_keys,dropInstance:localstorage_dropInstance};let sameValue=(A,N)=>A===N||"number"==typeof A&&"number"==typeof N&&isNaN(A)&&isNaN(N);var utils_includes=(A,N)=>{let L=A.length,B=0;for(;B<L;){if(sameValue(A[B],N))return!0;B++}return!1};let eD=Array.isArray||function(A){return"[object Array]"===Object.prototype.toString.call(A)},eF={},eN={},eL={INDEXEDDB:ep,WEBSQL:eR,LOCALSTORAGE:eM},eq=[eL.INDEXEDDB._driver,eL.WEBSQL._driver,eL.LOCALSTORAGE._driver],ej=["dropInstance"],eB=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ej),eQ={description:"",driver:eq.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(A,N){A[N]=function(){let L=arguments;return A.ready().then(function(){return A[N].apply(A,L)})}}function extend(){for(let A=1;A<arguments.length;A++){let N=arguments[A];if(N)for(let A in N)N.hasOwnProperty(A)&&(eD(N[A])?arguments[0][A]=N[A].slice():arguments[0][A]=N[A])}return arguments[0]}let LocalForage=class LocalForage{config(A){if("object"==typeof A){if(this._ready)return Error("Can't call config() after localforage has been used.");for(let N in A){if("storeName"===N&&(A[N]=A[N].replace(/\W/g,"_")),"version"===N&&"number"!=typeof A[N])return Error("Database version must be a number.");this._config[N]=A[N]}return!("driver"in A)||!A.driver||this.setDriver(this._config.driver)}return"string"==typeof A?this._config[A]:this._config}defineDriver(A,N,L){let B=new eu(function(N,L){try{let B=A._driver,V=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!A._driver){L(V);return}let et=eB.concat("_initStorage");for(let N=0,B=et.length;N<B;N++){let B=et[N],er=!utils_includes(ej,B);if((er||A[B])&&"function"!=typeof A[B]){L(V);return}}!function(){let methodNotImplementedFactory=function(A){return function(){let N=Error("Method ".concat(A," is not implemented by the current driver")),L=eu.reject(N);return utils_executeCallback(L,arguments[arguments.length-1]),L}};for(let N=0,L=ej.length;N<L;N++){let L=ej[N];A[L]||(A[L]=methodNotImplementedFactory(L))}}();let setDriverSupport=function(L){eF[B]&&console.info("Redefining LocalForage driver: ".concat(B)),eF[B]=A,eN[B]=L,N()};"_support"in A?A._support&&"function"==typeof A._support?A._support().then(setDriverSupport,L):setDriverSupport(!!A._support):setDriverSupport(!0)}catch(A){L(A)}});return utils_executeTwoCallbacks(B,N,L),B}driver(){return this._driver||null}getDriver(A,N,L){let B=eF[A]?eu.resolve(eF[A]):eu.reject(Error("Driver not found."));return utils_executeTwoCallbacks(B,N,L),B}getSerializer(A){let N=eu.resolve(eO);return utils_executeTwoCallbacks(N,A),N}ready(A){let N=this,L=N._driverSet.then(()=>(null===N._ready&&(N._ready=N._initDriver()),N._ready));return utils_executeTwoCallbacks(L,A,A),L}setDriver(A,N,L){let B=this;eD(A)||(A=[A]);let V=this._getSupportedDrivers(A);function setDriverToConfig(){B._config.driver=B.driver()}function extendSelfWithDriver(A){return B._extend(A),setDriverToConfig(),B._ready=B._initStorage(B._config),B._ready}function initDriver(A){return function(){let N=0;function driverPromiseLoop(){for(;N<A.length;){let L=A[N];return N++,B._dbInfo=null,B._ready=null,B.getDriver(L).then(extendSelfWithDriver).catch(driverPromiseLoop)}setDriverToConfig();let L=Error("No available storage method found.");return B._driverSet=eu.reject(L),B._driverSet}return driverPromiseLoop()}}let et=null!==this._driverSet?this._driverSet.catch(()=>eu.resolve()):eu.resolve();return this._driverSet=et.then(()=>{let A=V[0];return B._dbInfo=null,B._ready=null,B.getDriver(A).then(A=>{B._driver=A._driver,setDriverToConfig(),B._wrapLibraryMethodsWithReady(),B._initDriver=initDriver(V)})}).catch(()=>{setDriverToConfig();let A=Error("No available storage method found.");return B._driverSet=eu.reject(A),B._driverSet}),utils_executeTwoCallbacks(this._driverSet,N,L),this._driverSet}supports(A){return!!eN[A]}_extend(A){extend(this,A)}_getSupportedDrivers(A){let N=[];for(let L=0,B=A.length;L<B;L++){let B=A[L];this.supports(B)&&N.push(B)}return N}_wrapLibraryMethodsWithReady(){for(let A=0,N=eB.length;A<N;A++)callWhenReady(this,eB[A])}createInstance(A){return new LocalForage(A)}constructor(A){for(let A in eL)if(eL.hasOwnProperty(A)){let N=eL[A],L=N._driver;this[A]=L,eF[L]||this.defineDriver(N)}this._defaultConfig=extend({},eQ),this._config=extend({},this._defaultConfig,A),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(()=>{})}};function createInstance(A){return new LocalForage(A)}let LocalForageStorage=class LocalForageStorage{async keys(A){let N=await this.instance.keys();return A?N.filter(N=>N.startsWith(A)):N}async getItem(A){return this.instance.getItem(A)}async setItem(A,N){await this.instance.setItem(A,N)}async removeItem(A){await this.instance.removeItem(A)}constructor(){this.instance=createInstance({name:"chatkit"})}};let RocksDBStorage=class RocksDBStorage{async keys(A){let N=await (0,ea.EG)().invoke("db_keys");return A?N.filter(N=>N.startsWith(A)):N}async getItem(A){let N=await (0,ea.EG)().invoke("db_get_item",{key:A});return JSON.parse(N)}async setItem(A,N){return(0,ea.EG)().invoke("db_set_item",{key:A,value:JSON.stringify(N)})}async removeItem(A){return(0,ea.EG)().invoke("db_remove_item",{key:A})}};let pickChatSettings=A=>{let{initialSystemMessage:N,model:L,temperature:B,maxResponseTokens:V,context:et,tools:er,includeLastNMessages:ei,alwaysUseCredits:eo}=A;return{initialSystemMessage:N,model:L,temperature:B,maxResponseTokens:V,context:et,tools:er,includeLastNMessages:ei,alwaysUseCredits:eo}},getStorageInstance=()=>(V||(V=ea.lU?new RocksDBStorage:new LocalForageStorage),V);let KV=class KV{get(){return getStorageInstance().getItem(this.name)}async update(A){let{shouldDirty:N=!0,shouldPush:L=!0,shouldSetUpdatedAt:B=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=await getStorageInstance().getItem(this.name)||{},et={...V,...A};if(B){let N=new Date;for(let L of(et.updatedAt=N.toISOString(),Object.keys(A)))et["__".concat(L,"_updatedAt")]=N.toISOString()}if(this.events.emit("update",et),await getStorageInstance().setItem(this.name,et),N){let A=await this.generateDirtyItems(et);await eo.Dw.setDirtyItems(A)}L&&eo.Dw.push()}async generateDirtyItems(A){let N=await eo.Dw.getDirtyItems(),L={itemId:this.name,item:A,collection:this.name,updatedAt:A.updatedAt?new Date(A.updatedAt).toISOString():new Date().toISOString()};for(let B of N)if(B.itemId===L.itemId)return B.item=A,B.updatedAt=L.updatedAt,N;return[...N,L]}async generateDirtyItemsFromStorage(){return this.get().then(A=>A?this.generateDirtyItems(A):[])}subscribe(A){return this.events.on("update",A),()=>{this.events.off("update",A)}}constructor(A){this.name=A,this.events=mitt()}};let Collection=class Collection{async find(){let{filter:A}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=new Map,L=getStorageInstance(),B=await L.keys("".concat(this.name,"_"));return await Promise.all(B.map(async B=>{let V=await L.getItem(B);if(null==V)return;let et=!A||A(V);et&&N.set(V.id,V)})),N}async get(A){let N=await getStorageInstance().getItem("".concat(this.name,"_").concat(A));return(null==N?void 0:N.deletedAt)?null:N}async set(A){let{shouldDirty:N=!0,shouldPush:L=!0,shouldEmit:B=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V={...A};N&&(V.updatedAt=new Date),B&&this.events.emit("set",V);let et=getStorageInstance();if(await et.setItem("".concat(this.name,"_").concat(A.id),V),N){let A=await this.generateDirtyItems([{id:V.id,item:V}]);await eo.Dw.setDirtyItems(A)}L&&eo.Dw.push()}async update(A,N){let{shouldPush:L,shouldEmit:B}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V=await this.get(A);if(!V)return!1;let et=N(V);await this.set({...V,...et},{shouldPush:L,shouldEmit:B})}async generateDirtyItems(A){let N=await eo.Dw.getDirtyItems();for(let L of A){let A=L.item&&L.item.deletedAt?new Date(L.item.deletedAt).toISOString():!1===L.item?new Date().toISOString():void 0,B=A||(L.item?new Date(L.item.updatedAt||L.item.createdAt||new Date).toISOString():new Date().toISOString()),V={itemId:L.id,collection:this.name,item:L.item||null,updatedAt:B,deletedAt:A},et=N.findIndex(A=>A.itemId===L.id);-1===et?N.push(V):N[et]=V}return N}async generateDirtyItemsFromStorage(){let A=await this.find(),N=await this.generateDirtyItems([...A.values()].map(A=>({id:A.id,item:A})));return N}async delete(A){let{shouldPush:N=!0,shouldDirty:L=!0,shouldEmit:B=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(B&&this.events.emit("delete",A),await getStorageInstance().removeItem("".concat(this.name,"_").concat(A)),L){let N=await this.generateDirtyItems([{id:A,item:!1}]);await eo.Dw.setDirtyItems(N)}N&&eo.Dw.push()}async deleteMany(A){let{filter:N,shouldPush:L=!0}=A,B=[];if(Array.isArray(N))B=N;else{let A=await getStorageInstance().keys("".concat(this.name,"_"));await Promise.all(A.map(async A=>{let L=await getStorageInstance().getItem(A);if(null==L)return;let V=N(L);V&&B.push(L.id)}))}let V=await this.generateDirtyItems(B.map(A=>({id:A,item:!1})));await eo.Dw.setDirtyItems(V),await Promise.all(B.map(A=>this.delete(A,{shouldPush:!1,shouldDirty:!1}))),L&&eo.Dw.push()}subscribe(A){let handler=(N,L)=>A({type:N,payload:L});return this.events.on("*",handler),()=>{this.events.off("*",handler)}}constructor(A){this.name=A,this.events=mitt()}};let eH=20,eG={chat:new Collection("chat"),message:new Collection("message"),config:new KV("config"),prompt:new Collection("prompt")},eU=["chats"],useChatsQuery=()=>(0,et.a)(eU,()=>eG.chat.find(),{refetchOnWindowFocus:!1,networkMode:"always"}),getMessagesQueryKey=A=>[A,"messages"],useMessagesQuery=A=>(0,et.a)(getMessagesQueryKey(A),async()=>{let N=await eG.message.find({filter:N=>N.chatId===A});return N},{enabled:!!A,refetchOnWindowFocus:!1,networkMode:"always"});async function updateOrCreateChat(A,N,L){let B=await eG.chat.update(N,A=>({...A,...L,context:{...A.context,...L.context}}));if(!1===B){let A=await eG.config.get();await eG.chat.set({id:N,createdAt:new Date,title:"Untitled",...null==A?void 0:A.defaultChatSettings,...L})}!1!==A&&A.push({pathname:A.pathname,query:{...A.query,chat:N},hash:location.hash},void 0,{shallow:!0})}async function createNewEmptyChat(A){let N=(0,er.x0)(),L=await eG.config.get();await eG.chat.set({id:N,title:"Untitled",createdAt:new Date,...null==L?void 0:L.defaultChatSettings}),await A.push({query:{chat:N}},void 0,{shallow:!0})}function messagesToChatGPTMessages(A,N){let L=[];for(let B of A)if("custom:ignore-messages"===B.role)L=[];else if(L.push({role:B.role,function_call:N?void 0:B.function_call,content:B.function_call?N?"".concat(ei.R2,'{"name":"').concat(B.function_call.name,'","arguments":').concat(B.function_call.arguments,"}"):null:B.files&&B.files.length>0?[...B.content?[{type:"text",text:B.content}]:[],...B.files.filter(A=>"image"===A.type).map(A=>({type:"image_url",image_url:{url:A.url}}))]:B.content}),B.function_call&&B.function_result){let A="string"==typeof B.function_result?B.function_result:JSON.stringify(B.function_result);L.push(N?{role:"user",content:'Result for function "'.concat(B.function_call.name,'":\n').concat(A)}:{role:"function",name:B.function_call.name,content:A})}return L}},26656:function(A,N,L){"use strict";L.d(N,{Dw:function(){return ec}});var B=L(66706),V=L(52840),et=L(80816),er=L(73474),ei=L.n(er),eo=L(65172);let ea="sync_lastPulledAt",es="sync_lastPushedAllAt",eu="sync_dirtyItems",el="sync_enabled",getHeaders=async()=>{let A={"Content-Type":"application/json"},N=await (0,et.bW)();return N&&(A.Authorization="Bearer ".concat(N)),A};let SyncManager=class SyncManager{async getDirtyItems(){let A=(0,B.KT)();return await A.getItem(eu)||[]}async setDirtyItems(A){let N=(0,B.KT)();await N.setItem(eu,A)}async push(A){if(0!==(A=A||await this.getDirtyItems()).length)return this.queue.add(String(Date.now()),{type:"push",dirtyItems:A}),this.queue.run()}async pushAll(){let A=arguments.length>0&&void 0!==arguments[0]&&arguments[0],N=await this.isEnabled();if(!N)return;let L=(0,B.KT)(),V=await L.getItem(es);if(V&&!A)return;let et=await fetch("".concat(eo.T5,"/sync/meta"),{headers:await getHeaders()}).then(A=>A.ok?A.json():{items:[]}),er=new Map(et.items.map(A=>[A.id,A])),ei=new Map,processItems=A=>{for(let N of A){let A=er.get(N.itemId);(!A||new Date(A.updatedAt)<new Date(N.updatedAt))&&ei.set(N.itemId,N)}};processItems(await this.getDirtyItems()),console.log("dirtyItemsMap",ei),processItems(await B.h.chat.generateDirtyItemsFromStorage()),processItems(await B.h.message.generateDirtyItemsFromStorage()),processItems(await B.h.prompt.generateDirtyItemsFromStorage()),processItems(await B.h.config.generateDirtyItemsFromStorage()),console.log("dirtyItemsMap",ei),await this.push([...ei.values()]),await L.setItem(es,new Date)}async setEnabled(A){let N=(0,B.KT)();await N.setItem(el,A)}async isEnabled(){let A=(0,B.KT)(),[N,L]=await Promise.all([(0,et.bW)(),A.getItem(el)]);return!!(N&&!1!==L)}async pull(){return this.queue.add(String(Date.now()),{type:"pull"}),this.queue.run()}pullPeriodically(){if(this.pull(),!this.pullIntervalId)return this.pullIntervalId=window.setInterval(()=>{this.pull()},6e4),()=>{this.pullIntervalId&&(window.clearInterval(this.pullIntervalId),this.pullIntervalId=void 0)}}async cleaySyncStorageMeta(){let A=(0,B.KT)();await A.removeItem(ea),await A.removeItem(es)}async getLastSyncedAt(){let A=(0,B.KT)(),[N,L]=await Promise.all([A.getItem(ea).then(A=>A?new Date(A):null),A.getItem(es).then(A=>A?new Date(A):null)]);return N||L?N?L?N>L?N:L:N:L:null}constructor(){this.queue=new V.b(async(A,N)=>{let L=await this.isEnabled();if(L){if("push"===N.type){let A=[];console.log("push",N.dirtyItems.length,N.dirtyItems),await Promise.all(N.dirtyItems.map(N=>{N.deletedAt?A.push({itemId:N.itemId,updatedAt:N.updatedAt,item:{},collection:N.collection,deletedAt:N.deletedAt}):A.push({itemId:N.itemId,updatedAt:N.updatedAt,item:N.item,collection:N.collection})}));let L=await fetch("".concat(eo.T5,"/sync/push"),{method:"POST",headers:await getHeaders(),body:JSON.stringify({items:A})});if(L.ok){console.log("pushed",N.dirtyItems.length,N.dirtyItems);let A=await this.getDirtyItems(),L=N.dirtyItems.map(A=>A.itemId);await this.setDirtyItems(A.filter(A=>!L.includes(A.itemId)))}}else if("pull"===N.type){console.log("pulling");let A=(0,B.KT)(),N=await A.getItem(ea),L=await fetch("".concat(eo.T5,"/sync/pull?").concat(new URLSearchParams({since:N?ei()(N).subtract(5,"minute").toISOString():""}).toString()),{headers:await getHeaders()});if(L.ok){let{items:N}=await L.json(),V=await this.getDirtyItems();await Promise.all(N.map(async A=>{if("config"===A.itemId){let N=await B.h.config.get();if(!(null==N?void 0:N.updatedAt)||new Date(A.updatedAt)>new Date(N.updatedAt)){console.log("pulled",A.collection,A.itemId);let L=A.item;for(let A of Object.keys(L)){if(A.startsWith("__"))continue;let B=new Date(L["__".concat(A,"_updatedAt")]||new Date),V=N&&N["__".concat(A,"_updatedAt")];V&&B<=new Date(V)&&(delete L[A],delete L["__".concat(A,"_updatedAt")])}await B.h.config.update(L,{shouldDirty:!1,shouldPush:!1,shouldSetUpdatedAt:!1})}return}let N="chat"===A.collection?B.h.chat:"message"===A.collection?B.h.message:B.h.prompt,L=V.find(N=>N.itemId===A.itemId);if(!(L&&new Date(A.updatedAt)<new Date(L.updatedAt))){if(A.deletedAt)await N.delete(A.itemId,{shouldPush:!1,shouldDirty:!1});else{let L=await N.get(A.itemId),B=(null==L?void 0:L.updatedAt)?new Date(L.updatedAt):void 0;(!B||new Date(A.updatedAt)>=B)&&await N.set(A.item,{shouldPush:!1,shouldDirty:!1})}}})),await A.setItem(ea,new Date)}}}},{maxConcurrent:1})}};let ec=new SyncManager},85273:function(A,N,L){"use strict";L.d(N,{EG:function(){return getTauri},O9:function(){return useFullscreen},lU:function(){return et},zX:function(){return setupTauriListeners}});var B=L(79905),V=L(74550);let et=void 0!==window.__TAURI__,getTauri=()=>window.__TAURI__,er=(0,B.cn)(!1),useFullscreen=()=>(0,V.Dv)(er);function setupTauriListeners(){}},48748:function(A,N,L){"use strict";L.d(N,{F:function(){return useTheme},u:function(){return useSetTheme}});var B=L(79905),V=L(74550);let et=(0,B.cn)(null),useSetTheme=()=>(0,V.b9)(et),useTheme=()=>(0,V.Dv)(et)},98846:function(A,N,L){"use strict";L.d(N,{_:function(){return toastError}});var B=L(89691);let toastError=(A,N)=>{if(A instanceof Error){let L=A.message;B.Am.error(L,{id:N})}else"string"==typeof A&&B.Am.error(A,{id:N})}},5200:function(A,N,L){"use strict";function share(A){return A=>{let N=0,L=null,B=[];function startIfNeeded(){L||(L=A.subscribe({next(A){for(let N of B)N.next?.(A)},error(A){for(let N of B)N.error?.(A)},complete(){for(let A of B)A.complete?.()}}))}function resetIfNeeded(){if(0===N&&L){let A=L;L=null,A.unsubscribe()}}return{subscribe:A=>(N++,B.push(A),startIfNeeded(),{unsubscribe(){N--,resetIfNeeded();let L=B.findIndex(N=>N===A);L>-1&&B.splice(L,1)}})}}}L.d(N,{S:function(){return tl}});let ObservableAbortError=class ObservableAbortError extends Error{constructor(A){super(A),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}};function observableToPromise(A){let N;let L=new Promise((L,B)=>{let V=!1;function onDone(){V||(V=!0,B(new ObservableAbortError("This operation was aborted.")),et.unsubscribe())}let et=A.subscribe({next(A){V=!0,L(A),onDone()},error(A){V=!0,B(A),onDone()},complete(){V=!0,onDone()}});N=onDone});return{promise:L,abort:N}}function identity(A){return A}function pipeFromArray(A){return 0===A.length?identity:1===A.length?A[0]:function(N){return A.reduce((A,N)=>N(A),N)}}function observable_ade1bad8_observable(A){let N={subscribe(N){let L=null,B=!1,V=!1,et=!1;function unsubscribe(){if(null===L){et=!0;return}!V&&(V=!0,"function"==typeof L?L():L&&L.unsubscribe())}return L=A({next(A){B||N.next?.(A)},error(A){B||(B=!0,N.error?.(A),unsubscribe())},complete(){B||(B=!0,N.complete?.(),unsubscribe())}}),et&&unsubscribe(),{unsubscribe}},pipe:(...A)=>pipeFromArray(A)(N)};return N}function createChain(A){return observable_ade1bad8_observable(N=>{function execute(N=0,L=A.op){let B=A.links[N];if(!B)throw Error("No more links to execute - did you forget to add an ending link?");let V=B({op:L,next(A){let L=execute(N+1,A);return L}});return V}let L=execute();return L.subscribe(N)})}function asArray(A){return Array.isArray(A)?A:[A]}function splitLink(A){return N=>{let L=asArray(A.true).map(A=>A(N)),B=asArray(A.false).map(A=>A(N));return N=>observable_ade1bad8_observable(V=>{let et=A.condition(N.op)?L:B;return createChain({op:N.op,links:et}).subscribe(V)})}}function isObject(A){return!!A&&!Array.isArray(A)&&"object"==typeof A}function transformResultInner(A,N){if("error"in A){let L=N.transformer.deserialize(A.error);return{ok:!1,error:{...A,error:L}}}let L={...A.result,...(!A.result.type||"data"===A.result.type)&&{type:"data",data:N.transformer.deserialize(A.result.data)}};return{ok:!0,result:L}}let TransformResultError=class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}};function transformResult(A,N){let L;try{L=transformResultInner(A,N)}catch(A){throw new TransformResultError}if(!L.ok&&(!isObject(L.error.error)||"number"!=typeof L.error.error.code)||L.ok&&!isObject(L.result))throw new TransformResultError;return L}function isTRPCClientError(A){return A instanceof TRPCClientError||A instanceof Error&&"TRPCClientError"===A.name}function isTRPCErrorResponse(A){return isObject(A)&&isObject(A.error)&&"number"==typeof A.error.code&&"string"==typeof A.error.message}let TRPCClientError=class TRPCClientError extends Error{static from(A,N={}){return isTRPCClientError(A)?(N.meta&&(A.meta={...A.meta,...N.meta}),A):isTRPCErrorResponse(A)?new TRPCClientError(A.error.message,{...N,result:A}):A instanceof Error?new TRPCClientError(A.message,{...N,cause:A}):new TRPCClientError("Unknown error",{...N,cause:A})}constructor(A,N){let L=N?.cause;super(A,{cause:L}),this.meta=N?.meta,this.cause=L,this.shape=N?.result?.error,this.data=N?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}};function invert(A){let N=Object.create(null);for(let L in A){let B=A[L];N[B]=L}return N}let B={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(B),invert(B);let noop=()=>{};function createInnerProxy(A,N){let L=new Proxy(noop,{get(L,B){if("string"==typeof B&&"then"!==B)return createInnerProxy(A,[...N,B])},apply(L,B,V){let et="apply"===N[N.length-1];return A({args:et?V.length>=2?V[1]:[]:V,path:et?N.slice(0,-1):N})}});return L}let createRecursiveProxy=A=>createInnerProxy(A,[]),createFlatProxy=A=>new Proxy(noop,{get(N,L){if("string"==typeof L&&"then"!==L)return A(L)}}),isFunction=A=>"function"==typeof A;function getFetch(A){if(A)return A;if("undefined"!=typeof window&&isFunction(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&isFunction(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")}function getAbortController(A){return A||("undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(A){return{url:A.url.toString().replace(/\/$/,""),fetch:A.fetch,AbortController:getAbortController(A.AbortController)}}function arrayToDict(A){let N={};for(let L=0;L<A.length;L++){let B=A[L];N[L]=B}return N}let V={query:"GET",mutation:"POST"};function getInput(A){return"input"in A?A.runtime.transformer.serialize(A.input):arrayToDict(A.inputs.map(N=>A.runtime.transformer.serialize(N)))}let getUrl=A=>{let N=A.url+"/"+A.path,L=[];if("inputs"in A&&L.push("batch=1"),"query"===A.type){let N=getInput(A);void 0!==N&&L.push(`input=${encodeURIComponent(JSON.stringify(N))}`)}return L.length&&(N+="?"+L.join("&")),N},getBody=A=>{if("query"===A.type)return;let N=getInput(A);return void 0!==N?JSON.stringify(N):void 0},jsonHttpRequester=A=>httpRequest({...A,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(A,N){let L=A.getUrl(A),B=A.getBody(A),{type:et}=A,er=await A.headers();/* istanbul ignore if -- @preserve */if("subscription"===et)throw Error("Subscriptions should use wsLink");let ei={...A.contentTypeHeader?{"content-type":A.contentTypeHeader}:{},...A.batchModeHeader?{"trpc-batch-mode":A.batchModeHeader}:{},...er};return getFetch(A.fetch)(L,{method:V[et],signal:N?.signal,body:B,headers:ei})}function httpRequest(A){let N=A.AbortController?new A.AbortController:null,L={},B=!1,V=new Promise((V,et)=>{fetchHTTPResponse(A,N).then(A=>(L.response=A,B=!0,A.json())).then(A=>{L.responseJSON=A,V({json:A,meta:L})}).catch(A=>{B=!0,et(TRPCClientError.from(A,{meta:L}))})});return{promise:V,cancel:()=>{B||N?.abort()}}}let throwFatalError=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(A){let N=null,L=null,destroyTimerAndPendingItems=()=>{clearTimeout(L),L=null,N=null};function groupItems(N){let L=[[]],B=0;for(;;){let V=N[B];if(!V)break;let et=L[L.length-1];if(V.aborted){V.reject?.(Error("Aborted")),B++;continue}let er=A.validate(et.concat(V).map(A=>A.key));if(er){et.push(V),B++;continue}if(0===et.length){V.reject?.(Error("Input is too big for a single dispatch")),B++;continue}L.push([])}return L}function dispatch(){let L=groupItems(N);for(let N of(destroyTimerAndPendingItems(),L)){if(!N.length)continue;let L={items:N,cancel:throwFatalError};for(let A of N)A.batch=L;let unitResolver=(A,N)=>{let B=L.items[A];B.resolve?.(N),B.batch=null,B.reject=null,B.resolve=null},{promise:B,cancel:V}=A.fetch(L.items.map(A=>A.key),unitResolver);L.cancel=V,B.then(A=>{for(let N=0;N<A.length;N++){let L=A[N];unitResolver(N,L)}for(let A of L.items)A.reject?.(Error("Missing result")),A.batch=null}).catch(A=>{for(let N of L.items)N.reject?.(A),N.batch=null})}}return{load:function(A){let B={aborted:!1,key:A,batch:null,resolve:throwFatalError,reject:throwFatalError},V=new Promise((A,L)=>{B.reject=L,B.resolve=A,N||(N=[]),N.push(B)});return L||(L=setTimeout(dispatch)),{promise:V,cancel:()=>{B.aborted=!0,B.batch?.items.every(A=>A.aborted)&&(B.batch.cancel(),B.batch=null)}}}}}function createHTTPBatchLink(A){return function(N){let L=resolveHTTPLinkOptions(N),B=N.maxURLLength??1/0;return V=>{let batchLoader=et=>{let er=A({...L,runtime:V,type:et,opts:N});return{validate:A=>{if(B===1/0)return!0;let N=A.map(A=>A.path).join(","),er=A.map(A=>A.input),ei=getUrl({...L,runtime:V,type:et,path:N,inputs:er});return ei.length<=B},fetch:er}},et=dataLoader(batchLoader("query")),er=dataLoader(batchLoader("mutation")),ei=dataLoader(batchLoader("subscription")),eo={query:et,subscription:ei,mutation:er};return({op:A})=>observable_ade1bad8_observable(N=>{let L;let B=eo[A.type],{promise:et,cancel:er}=B.load(A);return et.then(A=>{L=A;let B=transformResult(A.json,V);if(!B.ok){N.error(TRPCClientError.from(B.error,{meta:A.meta}));return}N.next({context:A.meta,result:B.result}),N.complete()}).catch(A=>{N.error(TRPCClientError.from(A,{meta:L?.meta}))}),()=>{er()}})}}}let et=createHTTPBatchLink(A=>N=>{let L=N.map(A=>A.path).join(","),B=N.map(A=>A.input),{promise:V,cancel:et}=jsonHttpRequester({...A,path:L,inputs:B,headers:()=>A.opts.headers?"function"==typeof A.opts.headers?A.opts.headers({opList:N}):A.opts.headers:{}});return{promise:V.then(A=>{let L=Array.isArray(A.json)?A.json:N.map(()=>A.json),B=L.map(N=>({meta:A.meta,json:N}));return B}),cancel:et}});function httpLinkFactory(A){return N=>{let L=resolveHTTPLinkOptions(N);return B=>({op:V})=>observable_ade1bad8_observable(et=>{let er;let{path:ei,input:eo,type:ea}=V,{promise:es,cancel:eu}=A.requester({...L,runtime:B,type:ea,path:ei,input:eo,headers:()=>N.headers?"function"==typeof N.headers?N.headers({op:V}):N.headers:{}});return es.then(A=>{er=A.meta;let N=transformResult(A.json,B);if(!N.ok){et.error(TRPCClientError.from(N.error,{meta:er}));return}et.next({context:A.meta,result:N.result}),et.complete()}).catch(A=>{et.error(TRPCClientError.from(A,{meta:er}))}),()=>{eu()}})}}let er=httpLinkFactory({requester:jsonHttpRequester});let TRPCUntypedClient=class TRPCUntypedClient{$request({type:A,input:N,path:L,context:B={}}){let V=createChain({links:this.links,op:{id:++this.requestId,type:A,path:L,input:N,context:B}});return V.pipe(share())}requestAsPromise(A){let N=this.$request(A),{promise:L,abort:B}=observableToPromise(N),V=new Promise((N,V)=>{A.signal?.addEventListener("abort",B),L.then(A=>{N(A.result.data)}).catch(A=>{V(TRPCClientError.from(A))})});return V}query(A,N,L){return this.requestAsPromise({type:"query",path:A,input:N,context:L?.context,signal:L?.signal})}mutation(A,N,L){return this.requestAsPromise({type:"mutation",path:A,input:N,context:L?.context,signal:L?.signal})}subscription(A,N,L){let B=this.$request({type:"subscription",path:A,input:N,context:L?.context});return B.subscribe({next(A){"started"===A.result.type?L.onStarted?.():"stopped"===A.result.type?L.onStopped?.():L.onData?.(A.result.data)},error(A){L.onError?.(A)},complete(){L.onComplete?.()}})}constructor(A){this.requestId=0;let N=(()=>{let N=A.transformer;return N?"input"in N?A.transformer:{input:N,output:N}:{input:{serialize:A=>A,deserialize:A=>A},output:{serialize:A=>A,deserialize:A=>A}}})();this.runtime={transformer:{serialize:A=>N.input.serialize(A),deserialize:A=>N.output.deserialize(A)},combinedTransformer:N},this.links=A.links.map(A=>A(this.runtime))}};function createTRPCClient(A){let N=new TRPCUntypedClient(A);return N}let ei={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=A=>ei[A];function createTRPCClientProxy(A){return createFlatProxy(N=>A.hasOwnProperty(N)?A[N]:"__untypedClient"===N?A:createRecursiveProxy(({path:L,args:B})=>{let V=[N,...L],et=clientCallTypeToProcedureType(V.pop()),er=V.join(".");return A[et](er,...B)}))}function getTextDecoder(A){if(A)return A;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}async function parseJSONStream(A){let N=A.parse??JSON.parse;await readLines(A.readableStream,L=>{if(A.signal?.aborted||!L||"}"===L)return;let B=L.indexOf(":"),V=L.substring(2,B-1),et=L.substring(B+1);A.onSingle(Number(V),N(et))},A.textDecoder)}async function readLines(A,N,L){let B="",onChunk=A=>{let V=L.decode(A),et=V.split("\n");if(1===et.length)B+=et[0];else if(et.length>1){N(B+et[0]);for(let A=1;A<et.length-1;A++)N(et[A]);B=et[et.length-1]}};"getReader"in A?await readStandardChunks(A,onChunk):await readNodeChunks(A,onChunk),N(B)}function readNodeChunks(A,N){return new Promise(L=>{A.on("data",N),A.on("end",L)})}async function readStandardChunks(A,N){let L=A.getReader(),B=await L.read();for(;!B.done;)N(B.value),B=await L.read()}let streamingJsonHttpRequester=(A,N)=>{let L=A.AbortController?new A.AbortController:null,B=fetchHTTPResponse({...A,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:getUrl,getBody:getBody},L),V=B.then(async B=>{if(!B.body)throw Error("Received response without body");let V={response:B};return parseJSONStream({readableStream:B.body,onSingle:N,parse:A=>({json:JSON.parse(A),meta:V}),signal:L?.signal,textDecoder:A.textDecoder})});return{cancel:()=>L?.abort(),promise:V}};createHTTPBatchLink(A=>{let N=getTextDecoder(A.opts.textDecoder);return(L,B)=>{let V=L.map(A=>A.path).join(","),et=L.map(A=>A.input),{cancel:er,promise:ei}=streamingJsonHttpRequester({...A,textDecoder:N,path:V,inputs:et,headers:()=>A.opts.headers?"function"==typeof A.opts.headers?A.opts.headers({opList:L}):A.opts.headers:{}},(A,N)=>{B(A,N)});return{promise:ei.then(()=>[]),cancel:er}}});let dist_getBody=A=>{if("input"in A){if(!(A.input instanceof FormData))throw Error("Input is not FormData");return A.input}};httpLinkFactory({requester:A=>{if("mutation"!==A.type)throw Error("We only handle mutations with formdata");return httpRequest({...A,getUrl:()=>`${A.url}/${A.path}`,getBody:dist_getBody})}});var eo=L(49838),ea=L(52983);function dehydrateMutation(A){return{mutationKey:A.options.mutationKey,state:A.state}}function dehydrateQuery(A){return{state:A.state,queryKey:A.queryKey,queryHash:A.queryHash}}function defaultShouldDehydrateMutation(A){return A.state.isPaused}function defaultShouldDehydrateQuery(A){return"success"===A.state.status}function dehydrate(A,N={}){let L=[],B=[];if(!1!==N.dehydrateMutations){let B=N.shouldDehydrateMutation||defaultShouldDehydrateMutation;A.getMutationCache().getAll().forEach(A=>{B(A)&&L.push(dehydrateMutation(A))})}if(!1!==N.dehydrateQueries){let L=N.shouldDehydrateQuery||defaultShouldDehydrateQuery;A.getQueryCache().getAll().forEach(A=>{L(A)&&B.push(dehydrateQuery(A))})}return{mutations:L,queries:B}}function hydrate(A,N,L){if("object"!=typeof N||null===N)return;let B=A.getMutationCache(),V=A.getQueryCache(),et=N.mutations||[],er=N.queries||[];et.forEach(N=>{var V;B.build(A,{...null==L?void 0:null==(V=L.defaultOptions)?void 0:V.mutations,mutationKey:N.mutationKey},N.state)}),er.forEach(N=>{var B;let et=V.get(N.queryHash),er={...N.state,fetchStatus:"idle"};if(et){et.state.dataUpdatedAt<er.dataUpdatedAt&&et.setState(er);return}V.build(A,{...null==L?void 0:null==(B=L.defaultOptions)?void 0:B.queries,queryKey:N.queryKey,queryHash:N.queryHash},er)})}function useHydrate(A,N={}){let L=(0,eo.NL)({context:N.context}),B=ea.useRef(N);B.current=N,ea.useMemo(()=>{A&&hydrate(L,A,B.current)},[L,A])}let Hydrate=({children:A,options:N,state:L})=>(useHydrate(L,N),A);function getArrayQueryKey_86134f8b_getArrayQueryKey(A,N){let L=Array.isArray(A)?A:[A],[B,V]=L,et="string"!=typeof B||""===B?[]:B.split(".");return V||N&&"any"!==N?[et,{...void 0!==V&&{input:V},...N&&"any"!==N&&{type:N}}]:et.length?[et]:[]}var es=L(56438),eu=L(3265),el=L(54397),ec=L(96008);function infiniteQueryBehavior(){return{onFetch:A=>{A.fetchFn=()=>{var N,L,B,V,et,er;let ei;let eo=null==(N=A.fetchOptions)?void 0:null==(L=N.meta)?void 0:L.refetchPage,ea=null==(B=A.fetchOptions)?void 0:null==(V=B.meta)?void 0:V.fetchMore,es=null==ea?void 0:ea.pageParam,eu=(null==ea?void 0:ea.direction)==="forward",el=(null==ea?void 0:ea.direction)==="backward",ec=(null==(et=A.state.data)?void 0:et.pages)||[],ed=(null==(er=A.state.data)?void 0:er.pageParams)||[],ef=ed,eh=!1,addSignalProperty=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>{var N,L;return null!=(N=A.signal)&&N.aborted?eh=!0:null==(L=A.signal)||L.addEventListener("abort",()=>{eh=!0}),A.signal}})},ep=A.options.queryFn||(()=>Promise.reject("Missing queryFn")),buildNewPages=(A,N,L,B)=>(ef=B?[N,...ef]:[...ef,N],B?[L,...A]:[...A,L]),fetchPage=(N,L,B,V)=>{if(eh)return Promise.reject("Cancelled");if(void 0===B&&!L&&N.length)return Promise.resolve(N);let et={queryKey:A.queryKey,pageParam:B,meta:A.options.meta};addSignalProperty(et);let er=ep(et),ei=Promise.resolve(er).then(A=>buildNewPages(N,B,A,V));return ei};if(ec.length){if(eu){let N=void 0!==es,L=N?es:getNextPageParam(A.options,ec);ei=fetchPage(ec,N,L)}else if(el){let N=void 0!==es,L=N?es:getPreviousPageParam(A.options,ec);ei=fetchPage(ec,N,L,!0)}else{ef=[];let N=void 0===A.options.getNextPageParam,L=!eo||!ec[0]||eo(ec[0],0,ec);ei=L?fetchPage([],N,ed[0]):Promise.resolve(buildNewPages([],ed[0],ec[0]));for(let L=1;L<ec.length;L++)ei=ei.then(B=>{let V=!eo||!ec[L]||eo(ec[L],L,ec);if(V){let V=N?ed[L]:getNextPageParam(A.options,B);return fetchPage(B,N,V)}return Promise.resolve(buildNewPages(B,ed[L],ec[L]))})}}else ei=fetchPage([]);let eg=ei.then(A=>({pages:A,pageParams:ef}));return eg}}}}function getNextPageParam(A,N){return null==A.getNextPageParam?void 0:A.getNextPageParam(N[N.length-1],N)}function getPreviousPageParam(A,N){return null==A.getPreviousPageParam?void 0:A.getPreviousPageParam(N[0],N)}function hasNextPage(A,N){if(A.getNextPageParam&&Array.isArray(N)){let L=getNextPageParam(A,N);return null!=L&&!1!==L}}function hasPreviousPage(A,N){if(A.getPreviousPageParam&&Array.isArray(N)){let L=getPreviousPageParam(A,N);return null!=L&&!1!==L}}let InfiniteQueryObserver=class InfiniteQueryObserver extends ec.z{constructor(A,N){super(A,N)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(A,N){super.setOptions({...A,behavior:infiniteQueryBehavior()},N)}getOptimisticResult(A){return A.behavior=infiniteQueryBehavior(),super.getOptimisticResult(A)}fetchNextPage({pageParam:A,...N}={}){return this.fetch({...N,meta:{fetchMore:{direction:"forward",pageParam:A}}})}fetchPreviousPage({pageParam:A,...N}={}){return this.fetch({...N,meta:{fetchMore:{direction:"backward",pageParam:A}}})}createResult(A,N){var L,B,V,et,er,ei;let{state:eo}=A,ea=super.createResult(A,N),{isFetching:es,isRefetching:eu}=ea,el=es&&(null==(L=eo.fetchMeta)?void 0:null==(B=L.fetchMore)?void 0:B.direction)==="forward",ec=es&&(null==(V=eo.fetchMeta)?void 0:null==(et=V.fetchMore)?void 0:et.direction)==="backward";return{...ea,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(N,null==(er=eo.data)?void 0:er.pages),hasPreviousPage:hasPreviousPage(N,null==(ei=eo.data)?void 0:ei.pages),isFetchingNextPage:el,isFetchingPreviousPage:ec,isRefetching:eu&&!el&&!ec}}};var ed=L(5054);function useInfiniteQuery(A,N,L){let B=(0,el._v)(A,N,L);return(0,ed.r)(B,InfiniteQueryObserver)}var ef=L(17602),eh=L(86581),ep=L(194);let QueriesObserver=class QueriesObserver extends ep.l{constructor(A,N){super(),this.client=A,this.queries=[],this.result=[],this.observers=[],this.observersMap={},N&&this.setQueries(N)}onSubscribe(){1===this.listeners.length&&this.observers.forEach(A=>{A.subscribe(N=>{this.onUpdate(A,N)})})}onUnsubscribe(){this.listeners.length||this.destroy()}destroy(){this.listeners=[],this.observers.forEach(A=>{A.destroy()})}setQueries(A,N){this.queries=A,eh.V.batch(()=>{let A=this.observers,L=this.findMatchingObservers(this.queries);L.forEach(A=>A.observer.setOptions(A.defaultedQueryOptions,N));let B=L.map(A=>A.observer),V=Object.fromEntries(B.map(A=>[A.options.queryHash,A])),et=B.map(A=>A.getCurrentResult()),er=B.some((N,L)=>N!==A[L]);(A.length!==B.length||er)&&(this.observers=B,this.observersMap=V,this.result=et,this.hasListeners()&&((0,el.e5)(A,B).forEach(A=>{A.destroy()}),(0,el.e5)(B,A).forEach(A=>{A.subscribe(N=>{this.onUpdate(A,N)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(A=>A.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(A){return this.findMatchingObservers(A).map(A=>A.observer.getOptimisticResult(A.defaultedQueryOptions))}findMatchingObservers(A){let N=this.observers,L=A.map(A=>this.client.defaultQueryOptions(A)),B=L.flatMap(A=>{let L=N.find(N=>N.options.queryHash===A.queryHash);return null!=L?[{defaultedQueryOptions:A,observer:L}]:[]}),V=B.map(A=>A.defaultedQueryOptions.queryHash),et=L.filter(A=>!V.includes(A.queryHash)),er=N.filter(A=>!B.some(N=>N.observer===A)),getObserver=A=>{let N=this.client.defaultQueryOptions(A),L=this.observersMap[N.queryHash];return null!=L?L:new ec.z(this.client,N)},ei=et.map((A,N)=>{if(A.keepPreviousData){let L=er[N];if(void 0!==L)return{defaultedQueryOptions:A,observer:L}}return{defaultedQueryOptions:A,observer:getObserver(A)}});return B.concat(ei).sort((A,N)=>L.indexOf(A.defaultedQueryOptions)-L.indexOf(N.defaultedQueryOptions))}onUpdate(A,N){let L=this.observers.indexOf(A);-1!==L&&(this.result=(0,el.Rc)(this.result,L,N),this.notify())}notify(){eh.V.batch(()=>{this.listeners.forEach(A=>{A(this.result)})})}};var eg=L(72799),em=L(56111),ev=L(23119),ey=L(70954);function useQueries({queries:A,context:N}){let L=(0,eo.NL)({context:N}),B=(0,eg.S)(),V=ea.useMemo(()=>A.map(A=>{let N=L.defaultQueryOptions(A);return N._optimisticResults=B?"isRestoring":"optimistic",N}),[A,L,B]),[et]=ea.useState(()=>new QueriesObserver(L,V)),er=et.getOptimisticResult(V);(0,ef.$)(ea.useCallback(A=>B?()=>void 0:et.subscribe(eh.V.batchCalls(A)),[et,B]),()=>et.getCurrentResult(),()=>et.getCurrentResult()),ea.useEffect(()=>{et.setQueries(V,{listeners:!1})},[V,et]);let ei=(0,em._)();V.forEach(A=>{(0,ev.pf)(A,ei),(0,ey.Fb)(A)}),(0,ev.JN)(ei);let es=er.some((A,N)=>(0,ey.SB)(V[N],A,B)),eu=es?er.flatMap((A,N)=>{let L=V[N],er=et.getObservers()[N];if(L&&er){if((0,ey.SB)(L,A,B))return(0,ey.j8)(L,er,ei);(0,ey.Z$)(A,B)&&(0,ey.j8)(L,er,ei)}return[]}):[];if(eu.length>0)throw Promise.all(eu);let el=er.find((A,N)=>{var L,B;return(0,ev.KJ)({result:A,errorResetBoundary:ei,useErrorBoundary:null!=(L=null==(B=V[N])?void 0:B.useErrorBoundary)&&L,query:et.getQueries()[N]})});if(null!=el&&el.error)throw el.error;return er}function getQueryKeyInternal(A,N){return A.length?void 0===N?[A]:[A,N]:[]}function createReactProxyDecoration(A,N){return createRecursiveProxy(L=>{let B=L.args,V=[A,...L.path],et=V.pop(),er=V.join(".");if("useMutation"===et)return N[et](er,...B);let[ei,...eo]=B,ea=getQueryKeyInternal(er,ei);if("getQueryKey"===et)return getArrayQueryKey_86134f8b_getArrayQueryKey(ea,eo[0]??"any");if("_def"===et)return{path:V};if(et.startsWith("useSuspense")){let A=eo[0]||{},L=N["useSuspenseQuery"===et?"useQuery":"useInfiniteQuery"](ea,{...A,suspense:!0,enabled:!0});return[L.data,L]}return N[et](ea,...eo)})}let e_=["client","ssrContext","ssrState","abortOnUnmount"],eb=(0,ea.createContext)(null);function createReactQueryUtilsProxy(A){return createFlatProxy(N=>"client"===N?createTRPCClientProxy(A.client):e_.includes(N)?A[N]:createRecursiveProxy(({path:L,args:B})=>{let V=[N,...L],et=V.pop(),er=V.join("."),{queryKey:ei,rest:eo,updater:ea}=(A=>{if(["setData","setInfiniteData"].includes(A)){let[A,N,...L]=B,V=getQueryKeyInternal(er,A);return{queryKey:V,updater:N,rest:L}}let[N,...L]=B,V=getQueryKeyInternal(er,N);return{queryKey:V,rest:L}})(et);return({fetch:()=>A.fetchQuery(ei,...eo),fetchInfinite:()=>A.fetchInfiniteQuery(ei,...eo),prefetch:()=>A.prefetchQuery(ei,...eo),prefetchInfinite:()=>A.prefetchInfiniteQuery(ei,...eo),ensureData:()=>A.ensureQueryData(ei,...eo),invalidate:()=>A.invalidateQueries(ei,...eo),reset:()=>A.resetQueries(ei,...eo),refetch:()=>A.refetchQueries(ei,...eo),cancel:()=>A.cancelQuery(ei,...eo),setData:()=>{A.setQueryData(ei,ea,...eo)},setInfiniteData:()=>{A.setInfiniteQueryData(ei,ea,...eo)},getData:()=>A.getQueryData(ei),getInfiniteData:()=>A.getInfiniteQueryData(ei)})[et]()}))}function createUseQueriesProxy(A){return createRecursiveProxy(N=>{let L=N.path.join("."),[B,V]=N.args,et=getQueryKeyInternal(L,B),er={queryKey:et,queryFn:()=>A.query(L,B,V?.trpc),...V};return er})}function getClientArgs(A,N){let[L,B]=A;return[L,B,N?.trpc]}function useHookResult(A){let N=(0,ea.useRef)(A);return N.current.path=A.path,N.current}function createRootHooks(A){let N=(A?.overrides??A?.unstable_overrides)?.useMutation?.onSuccess??(A=>A.originalFn()),L=A?.context??eb,B=A?.reactQueryContext;function useContext(){return ea.useContext(L)}function useSSRQueryOptionsIfNeeded(A,N,L){let{queryClient:B,ssrState:V}=useContext();return V&&"mounted"!==V&&B.getQueryCache().find(getArrayQueryKey_86134f8b_getArrayQueryKey(A,N))?.state.status==="error"?{retryOnMount:!1,...L}:L}function useQuery$1(N,L){let V=useContext();if(!V)throw Error("Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?");let{abortOnUnmount:et,client:er,ssrState:ei,queryClient:eo,prefetchQuery:ea}=V,eu=eo.getQueryDefaults(getArrayQueryKey_86134f8b_getArrayQueryKey(N,"query"));"undefined"!=typeof window||"prepass"!==ei||L?.trpc?.ssr===!1||(L?.enabled??eu?.enabled)===!1||eo.getQueryCache().find(getArrayQueryKey_86134f8b_getArrayQueryKey(N,"query"))||ea(N,L);let el=useSSRQueryOptionsIfNeeded(N,"query",{...eu,...L}),ec=L?.trpc?.abortOnUnmount??A?.abortOnUnmount??et,ed=(0,es.a)({...el,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(N,"query"),queryFn:A=>{let L={...el,trpc:{...el?.trpc,...ec?{signal:A.signal}:{}}};return er.query(...getClientArgs(N,L))},context:B});return ed.trpc=useHookResult({path:N[0]}),ed}function useMutation$1(A,L){let{client:V}=useContext(),et=(0,eo.NL)({context:B}),er=Array.isArray(A)?A[0]:A,ei=et.getMutationDefaults([er.split(".")]),ea=(0,eu.D)({...L,mutationKey:[er.split(".")],mutationFn:A=>V.mutation(...getClientArgs([er,A],L)),context:B,onSuccess:(...A)=>N({originalFn:()=>L?.onSuccess?.(...A)??ei?.onSuccess?.(...A),queryClient:et,meta:L?.meta??ei?.meta??{}})});return ea.trpc=useHookResult({path:er}),ea}/* istanbul ignore next -- @preserve */function useSubscription(A,N){let L=N?.enabled??!0,B=(0,el.yF)(A),{client:V}=useContext(),et=(0,ea.useRef)(N);et.current=N,(0,ea.useEffect)(()=>{if(!L)return;let[N,B]=A,er=!1,ei=V.subscription(N,B??void 0,{onStarted:()=>{er||et.current.onStarted?.()},onData:A=>{er||et.current.onData(A)},onError:A=>{er||et.current.onError?.(A)}});return()=>{er=!0,ei.unsubscribe()}},[B,L])}function useInfiniteQuery$1(A,N){let[L,V]=A,{client:et,ssrState:er,prefetchInfiniteQuery:ei,queryClient:eo,abortOnUnmount:ea}=useContext(),es=eo.getQueryDefaults(getArrayQueryKey_86134f8b_getArrayQueryKey(A,"infinite"));"undefined"!=typeof window||"prepass"!==er||N?.trpc?.ssr===!1||(N?.enabled??es?.enabled)===!1||eo.getQueryCache().find(getArrayQueryKey_86134f8b_getArrayQueryKey(A,"infinite"))||ei(A,{...es,...N});let eu=useSSRQueryOptionsIfNeeded(A,"infinite",{...es,...N}),el=N?.trpc?.abortOnUnmount??ea,ec=useInfiniteQuery({...eu,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"infinite"),queryFn:A=>{let B={...eu,trpc:{...eu?.trpc,...el?{signal:A.signal}:{}}},er={...V??{},cursor:A.pageParam??N?.initialCursor};return et.query(...getClientArgs([L,er],B))},context:B});return ec.trpc=useHookResult({path:L}),ec}return{Provider:A=>{let{abortOnUnmount:N=!1,client:B,queryClient:V,ssrContext:et}=A,[er,ei]=(0,ea.useState)(A.ssrState??!1);return(0,ea.useEffect)(()=>{ei(A=>!!A&&"mounted")},[]),ea.createElement(L.Provider,{value:{abortOnUnmount:N,queryClient:V,client:B,ssrContext:et??null,ssrState:er,fetchQuery:(0,ea.useCallback)((A,N)=>V.fetchQuery({...N,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"query"),queryFn:()=>B.query(...getClientArgs(A,N))}),[B,V]),fetchInfiniteQuery:(0,ea.useCallback)((A,N)=>V.fetchInfiniteQuery({...N,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"infinite"),queryFn:({pageParam:L})=>{let[V,et]=A,er={...et,cursor:L};return B.query(...getClientArgs([V,er],N))}}),[B,V]),prefetchQuery:(0,ea.useCallback)((A,N)=>V.prefetchQuery({...N,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"query"),queryFn:()=>B.query(...getClientArgs(A,N))}),[B,V]),prefetchInfiniteQuery:(0,ea.useCallback)((A,N)=>V.prefetchInfiniteQuery({...N,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"infinite"),queryFn:({pageParam:L})=>{let[V,et]=A,er={...et,cursor:L};return B.query(...getClientArgs([V,er],N))}}),[B,V]),ensureQueryData:(0,ea.useCallback)((A,N)=>V.ensureQueryData({...N,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"query"),queryFn:()=>B.query(...getClientArgs(A,N))}),[B,V]),invalidateQueries:(0,ea.useCallback)((A,N,L)=>V.invalidateQueries({...N,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"any")},L),[V]),resetQueries:(0,ea.useCallback)((...A)=>{let[N,L,B]=A;return V.resetQueries({...L,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(N,"any")},B)},[V]),refetchQueries:(0,ea.useCallback)((...A)=>{let[N,L,B]=A;return V.refetchQueries({...L,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(N,"any")},B)},[V]),cancelQuery:(0,ea.useCallback)(A=>V.cancelQueries({queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A,"any")}),[V]),setQueryData:(0,ea.useCallback)((...A)=>{let[N,...L]=A;return V.setQueryData(getArrayQueryKey_86134f8b_getArrayQueryKey(N,"query"),...L)},[V]),getQueryData:(0,ea.useCallback)((...A)=>{let[N,...L]=A;return V.getQueryData(getArrayQueryKey_86134f8b_getArrayQueryKey(N,"query"),...L)},[V]),setInfiniteQueryData:(0,ea.useCallback)((...A)=>{let[N,...L]=A;return V.setQueryData(getArrayQueryKey_86134f8b_getArrayQueryKey(N,"infinite"),...L)},[V]),getInfiniteQueryData:(0,ea.useCallback)((...A)=>{let[N,...L]=A;return V.getQueryData(getArrayQueryKey_86134f8b_getArrayQueryKey(N,"infinite"),...L)},[V])}},A.children)},createClient:A=>createTRPCClient(A),useContext,useUtils:useContext,useQuery:useQuery$1,useQueries:(A,N)=>{let{ssrState:L,queryClient:B,prefetchQuery:V,client:et}=useContext(),er=createUseQueriesProxy(et),ei=A(er);if("undefined"==typeof window&&"prepass"===L)for(let A of ei)A.trpc?.ssr===!1||B.getQueryCache().find(getArrayQueryKey_86134f8b_getArrayQueryKey(A.queryKey,"query"))||V(A.queryKey,A);return useQueries({queries:ei.map(A=>({...A,queryKey:getArrayQueryKey_86134f8b_getArrayQueryKey(A.queryKey,"query")})),context:N})},useMutation:useMutation$1,useSubscription,useDehydratedState:(A,N)=>{let L=(0,ea.useMemo)(()=>N?A.runtime.transformer.deserialize(N):N,[N,A]);return L},useInfiniteQuery:useInfiniteQuery$1}}function createHooksInternalProxy(A){return createFlatProxy(N=>"useContext"===N||"useUtils"===N?()=>{let N=A.useUtils();return(0,ea.useMemo)(()=>createReactQueryUtilsProxy(N),[N])}:A.hasOwnProperty(N)?A[N]:createReactProxyDecoration(N,A))}function createReactQueryHooks(A){let N=createRootHooks(A),L=createHooksInternalProxy(N);return{...N,proxy:L}}var ew=L(2686),ex=L(97481),eE=L(94905);let Query=class Query extends eE.F{constructor(A){super(),this.abortSignalConsumed=!1,this.defaultOptions=A.defaultOptions,this.setOptions(A.options),this.observers=[],this.cache=A.cache,this.logger=A.logger||ew._,this.queryKey=A.queryKey,this.queryHash=A.queryHash,this.initialState=A.state||getDefaultState(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(A){this.options={...this.defaultOptions,...A},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(A,N){let L=(0,el.oE)(this.state.data,A,this.options);return this.dispatch({data:L,type:"success",dataUpdatedAt:null==N?void 0:N.updatedAt,manual:null==N?void 0:N.manual}),L}setState(A,N){this.dispatch({type:"setState",state:A,setStateOptions:N})}cancel(A){var N;let L=this.promise;return null==(N=this.retryer)||N.cancel(A),L?L.then(el.ZT).catch(el.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(A=>!1!==A.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(A=>A.getCurrentResult().isStale)}isStaleByTime(A=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,el.Kp)(this.state.dataUpdatedAt,A)}onFocus(){var A;let N=this.observers.find(A=>A.shouldFetchOnWindowFocus());N&&N.refetch({cancelRefetch:!1}),null==(A=this.retryer)||A.continue()}onOnline(){var A;let N=this.observers.find(A=>A.shouldFetchOnReconnect());N&&N.refetch({cancelRefetch:!1}),null==(A=this.retryer)||A.continue()}addObserver(A){-1===this.observers.indexOf(A)&&(this.observers.push(A),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:A}))}removeObserver(A){-1!==this.observers.indexOf(A)&&(this.observers=this.observers.filter(N=>N!==A),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:A}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(A,N){var L,B,V,et;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=N&&N.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(V=this.retryer)||V.continueRetry(),this.promise}if(A&&this.setOptions(A),!this.options.queryFn){let A=this.observers.find(A=>A.options.queryFn);A&&this.setOptions(A.options)}Array.isArray(this.options.queryKey);let er=(0,el.G9)(),ei={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},addSignalProperty=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>{if(er)return this.abortSignalConsumed=!0,er.signal}})};addSignalProperty(ei);let eo={fetchOptions:N,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(ei)):Promise.reject("Missing queryFn")};addSignalProperty(eo),null==(L=this.options.behavior)||L.onFetch(eo),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(B=eo.fetchOptions)?void 0:B.meta))&&this.dispatch({type:"fetch",meta:null==(et=eo.fetchOptions)?void 0:et.meta});let onError=A=>{if((0,ex.DV)(A)&&A.silent||this.dispatch({type:"error",error:A}),!(0,ex.DV)(A)){var N,L;null==(N=(L=this.cache.config).onError)||N.call(L,A,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,ex.Mz)({fn:eo.fetchFn,abort:null==er?void 0:er.abort.bind(er),onSuccess:A=>{var N,L;if(void 0===A){onError(Error("undefined"));return}this.setData(A),null==(N=(L=this.cache.config).onSuccess)||N.call(L,A,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError,onFail:(A,N)=>{this.dispatch({type:"failed",failureCount:A,error:N})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:eo.options.retry,retryDelay:eo.options.retryDelay,networkMode:eo.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(A){this.state=(N=>{var L,B;switch(A.type){case"failed":return{...N,fetchFailureCount:A.failureCount,fetchFailureReason:A.error};case"pause":return{...N,fetchStatus:"paused"};case"continue":return{...N,fetchStatus:"fetching"};case"fetch":return{...N,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(L=A.meta)?L:null,fetchStatus:(0,ex.Kw)(this.options.networkMode)?"fetching":"paused",...!N.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...N,data:A.data,dataUpdateCount:N.dataUpdateCount+1,dataUpdatedAt:null!=(B=A.dataUpdatedAt)?B:Date.now(),error:null,isInvalidated:!1,status:"success",...!A.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let V=A.error;if((0,ex.DV)(V)&&V.revert&&this.revertState)return{...this.revertState};return{...N,error:V,errorUpdateCount:N.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:N.fetchFailureCount+1,fetchFailureReason:V,fetchStatus:"idle",status:"error"};case"invalidate":return{...N,isInvalidated:!0};case"setState":return{...N,...A.state}}})(this.state),eh.V.batch(()=>{this.observers.forEach(N=>{N.onQueryUpdate(A)}),this.cache.notify({query:this,type:"updated",action:A})})}};function getDefaultState(A){let N="function"==typeof A.initialData?A.initialData():A.initialData,L=void 0!==N,B=L?"function"==typeof A.initialDataUpdatedAt?A.initialDataUpdatedAt():A.initialDataUpdatedAt:0;return{data:N,dataUpdateCount:0,dataUpdatedAt:L?null!=B?B:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:L?"success":"loading",fetchStatus:"idle"}}let QueryCache=class QueryCache extends ep.l{constructor(A){super(),this.config=A||{},this.queries=[],this.queriesMap={}}build(A,N,L){var B;let V=N.queryKey,et=null!=(B=N.queryHash)?B:(0,el.Rm)(V,N),er=this.get(et);return er||(er=new Query({cache:this,logger:A.getLogger(),queryKey:V,queryHash:et,options:A.defaultQueryOptions(N),state:L,defaultOptions:A.getQueryDefaults(V)}),this.add(er)),er}add(A){this.queriesMap[A.queryHash]||(this.queriesMap[A.queryHash]=A,this.queries.push(A),this.notify({type:"added",query:A}))}remove(A){let N=this.queriesMap[A.queryHash];N&&(A.destroy(),this.queries=this.queries.filter(N=>N!==A),N===A&&delete this.queriesMap[A.queryHash],this.notify({type:"removed",query:A}))}clear(){eh.V.batch(()=>{this.queries.forEach(A=>{this.remove(A)})})}get(A){return this.queriesMap[A]}getAll(){return this.queries}find(A,N){let[L]=(0,el.I6)(A,N);return void 0===L.exact&&(L.exact=!0),this.queries.find(A=>(0,el._x)(L,A))}findAll(A,N){let[L]=(0,el.I6)(A,N);return Object.keys(L).length>0?this.queries.filter(A=>(0,el._x)(L,A)):this.queries}notify(A){eh.V.batch(()=>{this.listeners.forEach(N=>{N(A)})})}onFocus(){eh.V.batch(()=>{this.queries.forEach(A=>{A.onFocus()})})}onOnline(){eh.V.batch(()=>{this.queries.forEach(A=>{A.onOnline()})})}};var ek=L(12025);let MutationCache=class MutationCache extends ep.l{constructor(A){super(),this.config=A||{},this.mutations=[],this.mutationId=0}build(A,N,L){let B=new ek.m({mutationCache:this,logger:A.getLogger(),mutationId:++this.mutationId,options:A.defaultMutationOptions(N),state:L,defaultOptions:N.mutationKey?A.getMutationDefaults(N.mutationKey):void 0});return this.add(B),B}add(A){this.mutations.push(A),this.notify({type:"added",mutation:A})}remove(A){this.mutations=this.mutations.filter(N=>N!==A),this.notify({type:"removed",mutation:A})}clear(){eh.V.batch(()=>{this.mutations.forEach(A=>{this.remove(A)})})}getAll(){return this.mutations}find(A){return void 0===A.exact&&(A.exact=!0),this.mutations.find(N=>(0,el.X7)(A,N))}findAll(A){return this.mutations.filter(N=>(0,el.X7)(A,N))}notify(A){eh.V.batch(()=>{this.listeners.forEach(N=>{N(A)})})}resumePausedMutations(){var A;return this.resuming=(null!=(A=this.resuming)?A:Promise.resolve()).then(()=>{let A=this.mutations.filter(A=>A.state.isPaused);return eh.V.batch(()=>A.reduce((A,N)=>A.then(()=>N.continue().catch(el.ZT)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}};var eS=L(12388),eC=L(32867);let QueryClient=class QueryClient{constructor(A={}){this.queryCache=A.queryCache||new QueryCache,this.mutationCache=A.mutationCache||new MutationCache,this.logger=A.logger||ew._,this.defaultOptions=A.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=eS.j.subscribe(()=>{eS.j.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=eC.N.subscribe(()=>{eC.N.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var A,N;this.mountCount--,0===this.mountCount&&(null==(A=this.unsubscribeFocus)||A.call(this),this.unsubscribeFocus=void 0,null==(N=this.unsubscribeOnline)||N.call(this),this.unsubscribeOnline=void 0)}isFetching(A,N){let[L]=(0,el.I6)(A,N);return L.fetchStatus="fetching",this.queryCache.findAll(L).length}isMutating(A){return this.mutationCache.findAll({...A,fetching:!0}).length}getQueryData(A,N){var L;return null==(L=this.queryCache.find(A,N))?void 0:L.state.data}ensureQueryData(A,N,L){let B=(0,el._v)(A,N,L),V=this.getQueryData(B.queryKey);return V?Promise.resolve(V):this.fetchQuery(B)}getQueriesData(A){return this.getQueryCache().findAll(A).map(({queryKey:A,state:N})=>{let L=N.data;return[A,L]})}setQueryData(A,N,L){let B=this.queryCache.find(A),V=null==B?void 0:B.state.data,et=(0,el.SE)(N,V);if(void 0===et)return;let er=(0,el._v)(A),ei=this.defaultQueryOptions(er);return this.queryCache.build(this,ei).setData(et,{...L,manual:!0})}setQueriesData(A,N,L){return eh.V.batch(()=>this.getQueryCache().findAll(A).map(({queryKey:A})=>[A,this.setQueryData(A,N,L)]))}getQueryState(A,N){var L;return null==(L=this.queryCache.find(A,N))?void 0:L.state}removeQueries(A,N){let[L]=(0,el.I6)(A,N),B=this.queryCache;eh.V.batch(()=>{B.findAll(L).forEach(A=>{B.remove(A)})})}resetQueries(A,N,L){let[B,V]=(0,el.I6)(A,N,L),et=this.queryCache,er={type:"active",...B};return eh.V.batch(()=>(et.findAll(B).forEach(A=>{A.reset()}),this.refetchQueries(er,V)))}cancelQueries(A,N,L){let[B,V={}]=(0,el.I6)(A,N,L);void 0===V.revert&&(V.revert=!0);let et=eh.V.batch(()=>this.queryCache.findAll(B).map(A=>A.cancel(V)));return Promise.all(et).then(el.ZT).catch(el.ZT)}invalidateQueries(A,N,L){let[B,V]=(0,el.I6)(A,N,L);return eh.V.batch(()=>{var A,N;if(this.queryCache.findAll(B).forEach(A=>{A.invalidate()}),"none"===B.refetchType)return Promise.resolve();let L={...B,type:null!=(A=null!=(N=B.refetchType)?N:B.type)?A:"active"};return this.refetchQueries(L,V)})}refetchQueries(A,N,L){let[B,V]=(0,el.I6)(A,N,L),et=eh.V.batch(()=>this.queryCache.findAll(B).filter(A=>!A.isDisabled()).map(A=>{var N;return A.fetch(void 0,{...V,cancelRefetch:null==(N=null==V?void 0:V.cancelRefetch)||N,meta:{refetchPage:B.refetchPage}})})),er=Promise.all(et).then(el.ZT);return null!=V&&V.throwOnError||(er=er.catch(el.ZT)),er}fetchQuery(A,N,L){let B=(0,el._v)(A,N,L),V=this.defaultQueryOptions(B);void 0===V.retry&&(V.retry=!1);let et=this.queryCache.build(this,V);return et.isStaleByTime(V.staleTime)?et.fetch(V):Promise.resolve(et.state.data)}prefetchQuery(A,N,L){return this.fetchQuery(A,N,L).then(el.ZT).catch(el.ZT)}fetchInfiniteQuery(A,N,L){let B=(0,el._v)(A,N,L);return B.behavior=infiniteQueryBehavior(),this.fetchQuery(B)}prefetchInfiniteQuery(A,N,L){return this.fetchInfiniteQuery(A,N,L).then(el.ZT).catch(el.ZT)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(A){this.defaultOptions=A}setQueryDefaults(A,N){let L=this.queryDefaults.find(N=>(0,el.yF)(A)===(0,el.yF)(N.queryKey));L?L.defaultOptions=N:this.queryDefaults.push({queryKey:A,defaultOptions:N})}getQueryDefaults(A){if(!A)return;let N=this.queryDefaults.find(N=>(0,el.to)(A,N.queryKey));return null==N?void 0:N.defaultOptions}setMutationDefaults(A,N){let L=this.mutationDefaults.find(N=>(0,el.yF)(A)===(0,el.yF)(N.mutationKey));L?L.defaultOptions=N:this.mutationDefaults.push({mutationKey:A,defaultOptions:N})}getMutationDefaults(A){if(!A)return;let N=this.mutationDefaults.find(N=>(0,el.to)(A,N.mutationKey));return null==N?void 0:N.defaultOptions}defaultQueryOptions(A){if(null!=A&&A._defaulted)return A;let N={...this.defaultOptions.queries,...this.getQueryDefaults(null==A?void 0:A.queryKey),...A,_defaulted:!0};return!N.queryHash&&N.queryKey&&(N.queryHash=(0,el.Rm)(N.queryKey,N)),void 0===N.refetchOnReconnect&&(N.refetchOnReconnect="always"!==N.networkMode),void 0===N.useErrorBoundary&&(N.useErrorBoundary=!!N.suspense),N}defaultMutationOptions(A){return null!=A&&A._defaulted?A:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==A?void 0:A.mutationKey),...A,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}};let getQueryClient=A=>A.queryClient??new QueryClient(A.queryClientConfig);function _extends(){return(_extends=Object.assign||function(A){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&(A[B]=L[B])}return A}).apply(this,arguments)}var eA=60103,e$=60106,eP=60107,eT=60108,eI=60114,eO=60109,eR=60110,eM=60111,eD=60112,eF=60113,eN=60115,eL=60116;if("function"==typeof Symbol&&Symbol.for){var eq=Symbol.for;eA=eq("react.element"),e$=eq("react.portal"),eP=eq("react.fragment"),eT=eq("react.strict_mode"),eI=eq("react.profiler"),eO=eq("react.provider"),eR=eq("react.context"),eM=Symbol.for("react.concurrent_mode"),eD=eq("react.forward_ref"),eF=eq("react.suspense"),eN=eq("react.memo"),eL=eq("react.lazy")}var ej=eA,eB=e$,eQ=eP,eH=eT,eG=eI,eU=eO,ez=eR,eK=eM,eV=eD,eW=eF,eY=eN,eJ=eL,eZ=ea.Children.toArray,isAbstractElement=function(A){return null!==A&&"object"==typeof A},getChildrenArray=function(A){return eZ(A).filter(isAbstractElement)},computeProps=function(A,N){return"object"==typeof N?_extends({},N,A):A},eX=new Map,e0={},e1=void 0,e2=void 0,getCurrentContextMap=function(){return _extends({},e0)},getCurrentContextStore=function(){return new Map(eX)},flushPrevContextMap=function(){var A=e1;return e1=void 0,A},flushPrevContextStore=function(){var A=e2;return e2=void 0,A},restoreContextMap=function(A){void 0!==A&&_extends(e0,A)},restoreContextStore=function(A){void 0!==A&&eX.set(A[0],A[1])},setCurrentContextMap=function(A){e1=void 0,e0=A},setCurrentContextStore=function(A){e2=void 0,eX=A},readContextValue=function(A){var N=eX.get(A);return void 0!==N?N:A._currentValue},e5={},maskContext=function(A){var N=A.contextType,L=A.contextTypes;if(N)return readContextValue(N);if(!L)return e5;var B={};for(var V in L)B[V]=e0[V];return B},e3=null,getCurrentErrorFrame=function(){return e3},setCurrentErrorFrame=function(A){e3=A||null},e6={current:{uniqueID:0}},e8="function"==typeof Object.is?Object.is:function(A,N){return A===N&&(0!==A||1/A==1/N)||A!=A&&N!=N},e4=null,setCurrentIdentity=function(A){e4=A},getCurrentIdentity=function(){if(null===e4)throw Error("[react-ssr-prepass] Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)");return e4},e7=null,e9=null,tt=!1,tr=null,ti=0,setFirstHook=function(A){e7=A};function createWorkInProgressHook(){return null===e9?null===e7?e7=e9={memoizedState:null,queue:null,next:null}:e9=e7:e9=null===e9.next?e9.next={memoizedState:null,queue:null,next:null}:e9.next}function basicStateReducer(A,N){return"function"==typeof N?N(A):N}function useReducer(A,N,L){var B,V=getCurrentIdentity();null===(e9=createWorkInProgressHook()).queue&&(B=A===basicStateReducer?"function"==typeof N?N():N:void 0!==L?L(N):N,e9.memoizedState=B);var et=e9.queue||(e9.queue={last:null,dispatch:null}),er=et.dispatch||(et.dispatch=dispatchAction.bind(null,V,et));if(null!==tr){var ei=tr.get(et);if(void 0!==ei){tr.delete(et);var eo=e9.memoizedState,ea=ei;do eo=A(eo,ea.action),ea=ea.next;while(null!==ea);e9.memoizedState=eo}}return[e9.memoizedState,er]}function useMemo(A,N){getCurrentIdentity();var L=void 0===N?null:N,B=(e9=createWorkInProgressHook()).memoizedState;if(null!==B&&null!==L&&function(A,N){if(null===N)return!1;for(var L=0;L<N.length&&L<A.length;L++)if(!e8(A[L],N[L]))return!1;return!0}(L,B[1]))return B[0];var V=A();return e9.memoizedState=[V,L],V}function useOpaqueIdentifier(){return getCurrentIdentity(),(e9=createWorkInProgressHook()).memoizedState||(e9.memoizedState="R:"+(e6.current.uniqueID++).toString(36)),e9.memoizedState}function dispatchAction(A,N,L){if(A===e4){tt=!0;var B={action:L,next:null};null===tr&&(tr=new Map);var V=tr.get(N);if(void 0===V)tr.set(N,B);else{for(var et=V;null!==et.next;)et=et.next;et.next=B}}}function react_ssr_prepass_es_noop(){}function _ref$2(A){A()}var to={readContext:function(A,N){return readContextValue(A)},useSyncExternalStore:function(A,N,L){return N()},useContext:function(A,N){return getCurrentIdentity(),readContextValue(A)},useMemo:useMemo,useReducer:useReducer,useRef:function(A){getCurrentIdentity();var N=(e9=createWorkInProgressHook()).memoizedState;if(null!==N)return N;var L={current:A};return e9.memoizedState=L,L},useState:function(A){return useReducer(basicStateReducer,A)},useCallback:function(A,N){return useMemo(function(){return A},N)},useMutableSource:function(A,N,L){return getCurrentIdentity(),N(A._source)},useTransition:function(){return[_ref$2,!1]},useDeferredValue:function(A){return A},useOpaqueIdentifier:useOpaqueIdentifier,useId:useOpaqueIdentifier,unstable_useId:useOpaqueIdentifier,unstable_useOpaqueIdentifier:useOpaqueIdentifier,useLayoutEffect:react_ssr_prepass_es_noop,useImperativeHandle:react_ssr_prepass_es_noop,useEffect:react_ssr_prepass_es_noop,useDebugValue:react_ssr_prepass_es_noop},resolve=function(A){var N=A._payload||A;return 0===N._status?N._result:1===N._status?Promise.resolve(N._result):2===N._status?Promise.reject(N._result):(N._status=0,N._result=(N._ctor||N._result)().then(function(A){N._result=A,"function"==typeof A?N._status=1:null!==A&&"object"==typeof A&&"function"==typeof A.default?(N._result=A.default,N._status=1):N._status=2}).catch(function(A){return N._status=2,N._result=A,Promise.reject(A)}))},render$3=function(A,N,L){var B=A._payload||A;return 1===B._status?(0,ea.createElement)(B._result,N):null},makeFrame$1=function(A,N,L){return{contextMap:getCurrentContextMap(),contextStore:getCurrentContextStore(),id:getCurrentIdentity(),hook:e7,kind:"frame.hooks",errorFrame:getCurrentErrorFrame(),thenable:L,props:N,type:A}},render$2=function(A,N,L){try{return function(A,N,L){e9=null;for(var B=A(N,L);ti<25&&tt;)tt=!1,ti+=1,e9=null,B=A(N,L);return ti=0,tr=null,e9=null,B}(A,computeProps(N,A.defaultProps),maskContext(A))}catch(B){if("function"!=typeof B.then)throw B;return L.push(makeFrame$1(A,N,B)),null}};function _ref$1(){return!1}function _ref2(){return null}var createInstance=function(A,N){var L,B={_thrown:0,queue:L=[],isMounted:_ref$1,enqueueForceUpdate:_ref2,enqueueReplaceState:function(A,N){A._isMounted&&(L.length=0,L.push(N))},enqueueSetState:function(A,N){A._isMounted&&L.push(N)}},V=computeProps(N,A.defaultProps),et=maskContext(A),er=new A(V,et,B);if(er.props=V,er.context=et,er.updater=B,er._isMounted=!0,void 0===er.state&&(er.state=null),"function"==typeof er.componentDidCatch||"function"==typeof A.getDerivedStateFromError){var ei=makeFrame(A,er,null);ei.errorFrame=ei,setCurrentErrorFrame(ei)}if("function"==typeof A.getDerivedStateFromProps){var eo=(0,A.getDerivedStateFromProps)(er.props,er.state);null!=eo&&(er.state=_extends({},er.state,eo))}else"function"==typeof er.componentWillMount?er.componentWillMount():"function"==typeof er.UNSAFE_componentWillMount&&er.UNSAFE_componentWillMount();return er},makeFrame=function(A,N,L){return{contextMap:getCurrentContextMap(),contextStore:getCurrentContextStore(),errorFrame:getCurrentErrorFrame(),thenable:L,kind:"frame.class",error:null,instance:N,type:A}},render$1=function(A,N,L){!function(A){var N=A.updater.queue;if(N.length>0){for(var L=_extends({},A.state),B=0,V=N.length;B<V;B++){var et=N[B],er="function"==typeof et?et.call(A,L,A.props,A.context):et;null!==er&&_extends(L,er)}A.state=L,N.length=0}}(N);var B=null;try{B=N.render()}catch(B){if("function"!=typeof B.then)throw B;return L.push(makeFrame(A,N,B)),null}if(void 0!==A.childContextTypes&&"function"==typeof N.getChildContext){var V=N.getChildContext();null!==V&&"object"==typeof V&&function(A){for(var N in e1={},A)e1[N]=e0[N],e0[N]=A[N]}(V)}if("function"!=typeof N.getDerivedStateFromProps&&("function"==typeof N.componentWillMount||"function"==typeof N.UNSAFE_componentWillMount)&&"function"==typeof N.componentWillUnmount)try{N.componentWillUnmount()}catch(A){}return N._isMounted=!1,B},ta=ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,ts="function"==typeof setImmediate,render=function(A,N,L,B,V){var et,er,ei;return A.prototype&&A.prototype.isReactComponent?(setCurrentIdentity(null),(er=B(V,et=createInstance(A,N)))?(L.push(makeFrame(A,et,er)),null):render$1(A,et,L)):(setFirstHook(null),setCurrentIdentity({}),(ei=B(V))?(L.push(makeFrame$1(A,N,ei)),null):render$2(A,N,L))},visitElement=function(A,N,L){switch(function(A){switch(A.$$typeof){case eB:return eB;case ej:switch(A.type){case eK:return eK;case eQ:return eQ;case eG:return eG;case eH:return eH;case eW:return eW;default:switch(A.type&&A.type.$$typeof){case eJ:return eJ;case eY:return eY;case ez:return ez;case eU:return eU;case eV:return eV;default:return ej}}default:return}}(A)){case eW:case eH:case eK:case eG:case eQ:return getChildrenArray(A.props.children);case eU:var B,V,et,er,ei=A.props,eo=ei.children;return et=A.type._context,er=ei.value,e2=[et,eX.get(et)],eX.set(et,er),getChildrenArray(eo);case ez:var es=A.props.children;if("function"!=typeof es)return[];var eu=A.type;return getChildrenArray(es(readContextValue("object"==typeof eu._context?eu._context:eu)));case eJ:return getChildrenArray((B=A.type,V=A.props,(B._payload||B)._status<=0?(N.push({kind:"frame.lazy",contextMap:getCurrentContextMap(),contextStore:getCurrentContextStore(),errorFrame:getCurrentErrorFrame(),thenable:resolve(B),props:V,type:B}),null):render$3(B,V)));case eY:return getChildrenArray((0,ea.createElement)(A.type.type,A.props));case eV:var el=A.type,ec=el.render,ed=computeProps(A.props,el.defaultProps);return getChildrenArray((0,ea.createElement)(ec,ed));case ej:if("string"==typeof A.type)return getChildrenArray(A.props.children);return getChildrenArray(render(A.type,A.props,N,L,A));default:return[]}},visitLoop=function(A,N,L,B,V,et){var er=ta.current,ei=Date.now();try{for(ta.current=to;A.length>0;){var eo=A[A.length-1].shift();if(void 0!==eo){var ea=visitElement(eo,V,et);A.push(ea),N.push(flushPrevContextMap()),L.push(flushPrevContextStore()),B.push(getCurrentErrorFrame())}else A.pop(),restoreContextMap(N.pop()),restoreContextStore(L.pop()),setCurrentErrorFrame(B.pop());if(ts&&Date.now()-ei>5)return!0}return!1}catch(A){var es=getCurrentErrorFrame();if(!es)throw A;return es.error=A,V.unshift(es),!1}finally{ta.current=er}},makeYieldFrame=function(A,N,L,B){return{contextMap:getCurrentContextMap(),contextStore:getCurrentContextStore(),errorFrame:getCurrentErrorFrame(),thenable:null,kind:"frame.yield",traversalChildren:A,traversalMap:N,traversalStore:L,traversalErrorFrame:B}},visit=function(A,N,L){var B=[A],V=[flushPrevContextMap()],et=[flushPrevContextStore()],er=[getCurrentErrorFrame()];visitLoop(B,V,et,er,N,L)&&N.unshift(makeYieldFrame(B,V,et,er))},update=function(A,N,L){if("frame.yield"===A.kind)setCurrentIdentity(null),setCurrentContextMap(A.contextMap),setCurrentContextStore(A.contextStore),setCurrentErrorFrame(A.errorFrame),visitLoop(A.traversalChildren,A.traversalMap,A.traversalStore,A.traversalErrorFrame,N,L)&&N.unshift(makeYieldFrame(A.traversalChildren,A.traversalMap,A.traversalStore,A.traversalErrorFrame));else{var B=ta.current,V=null;ta.current=to;try{"frame.class"===A.kind?V=function(A,N){if(setCurrentIdentity(null),setCurrentContextMap(N.contextMap),setCurrentContextStore(N.contextStore),setCurrentErrorFrame(N.errorFrame),N.error){if(++N.instance.updater._thrown>=25)return null;N.instance._isMounted=!0,"function"==typeof N.instance.componentDidCatch&&N.instance.componentDidCatch(N.error),"function"==typeof N.type.getDerivedStateFromError&&N.instance.updater.enqueueSetState(N.instance,N.type.getDerivedStateFromError(N.error))}return render$1(N.type,N.instance,A)}(N,A):"frame.hooks"===A.kind?(setFirstHook(A.hook),setCurrentIdentity(A.id),setCurrentContextMap(A.contextMap),setCurrentContextStore(A.contextStore),setCurrentErrorFrame(A.errorFrame),V=render$2(A.type,A.props,N)):"frame.lazy"===A.kind&&(setCurrentIdentity(null),setCurrentContextMap(A.contextMap),setCurrentContextStore(A.contextStore),setCurrentErrorFrame(A.errorFrame),V=render$3(A.type,A.props))}catch(A){var et=getCurrentErrorFrame();if(!et)throw A;et.error=A,N.unshift(et),V=null}finally{ta.current=B}visit(getChildrenArray(V),N,L)}};function _ref(A,N){setImmediate(A)}var flushFrames=function(A,N,L){var B=A.shift();return B?(ts&&"frame.yield"===B.kind&&(B.thenable=new Promise(_ref)),Promise.resolve(B.thenable).then(function(){return e6.current=L,update(B,A,N),flushFrames(A,N,L)},function(L){if(!B.errorFrame)throw L;B.errorFrame.error=L,update(B.errorFrame,A,N)})):Promise.resolve()},defaultVisitor=function(){},renderPrepass=function(A,N){N||(N=defaultVisitor);var L=[],B=e6.current={uniqueID:0};setCurrentContextMap({}),setCurrentContextStore(new Map),setCurrentErrorFrame(null);try{visit(getChildrenArray(A),L,N)}catch(A){return Promise.reject(A)}return flushFrames(L,N,B)};function transformQueryOrMutationCacheErrors(A){let N=A.state.error;if(N instanceof Error&&"TRPCClientError"===N.name){let L={message:N.message,data:N.data,shape:N.shape};return{...A,state:{...A.state,error:L}}}return A}function withTRPC(A){let{config:N}=A;return L=>{let B=createReactQueryHooks(A),WithTRPC=V=>{let[et]=(0,ea.useState)(()=>{if(V.trpc)return V.trpc;let L=N({}),et=getQueryClient(L),er=B.createClient(L);return{abortOnUnmount:L.abortOnUnmount,queryClient:et,trpcClient:er,ssrState:!!A.ssr&&"mounting",ssrContext:null}}),{queryClient:er,trpcClient:ei,ssrState:es,ssrContext:eu}=et,el=B.useDehydratedState(ei,V.pageProps?.trpcState);return ea.createElement(B.Provider,{abortOnUnmount:et.abortOnUnmount??!1,client:ei,queryClient:er,ssrState:es,ssrContext:eu},ea.createElement(eo.aH,{client:er},ea.createElement(Hydrate,{state:el},ea.createElement(L,Object.assign({},V)))))};(L.getInitialProps??A.ssr)&&(WithTRPC.getInitialProps=async B=>{let V=B.AppTree,et=!!B.Component,er=et?B.ctx:B,ei={};if(L.getInitialProps){let A=await L.getInitialProps(B),N=et?A.pageProps??{}:A;ei={...N,...ei}}let getAppTreeProps=A=>et?{pageProps:A}:A;if("undefined"!=typeof window||!A.ssr)return getAppTreeProps(ei);let eo=N({ctx:er}),es=createTRPCClient(eo),eu=getQueryClient(eo),el={pageProps:ei,trpc:{config:eo,trpcClient:es,queryClient:eu,ssrState:"prepass",ssrContext:er}};for(;await renderPrepass((0,ea.createElement)(V,el)),eu.isFetching();)await new Promise(A=>{let N=eu.getQueryCache().subscribe(L=>{L?.query.getObserversCount()===0&&(A(),N())})});let ec=dehydrate(eu,{shouldDehydrateQuery:()=>!0}),ed={...ec,queries:ec.queries.map(transformQueryOrMutationCacheErrors),mutations:ec.mutations.map(transformQueryOrMutationCacheErrors)};ei.trpcState=es.runtime.combinedTransformer.output.serialize(ed);let ef=getAppTreeProps(ei),eh=A.responseMeta?.({ctx:er,clientErrors:[...ec.queries,...ec.mutations].map(A=>A.state.error).flatMap(A=>A instanceof Error&&"TRPCClientError"===A.name?[A]:[])})??{};for(let[A,N]of Object.entries(eh.headers??{}))"string"==typeof N&&er.res?.setHeader(A,N);return eh.status&&er.res&&(er.res.statusCode=eh.status),ef});let V=L.displayName??L.name??"Component";return WithTRPC.displayName=`withTRPC(${V})`,WithTRPC}}/* istanbul ignore file -- @preserve */function createTRPCNext(A){let N=createRootHooks(A),L=withTRPC(A);return createFlatProxy(A=>"useContext"===A||"useUtils"===A?()=>{let A=N.useUtils();return(0,ea.useMemo)(()=>createReactQueryUtilsProxy(A),[A])}:"useQueries"===A?N.useQueries:"withTRPC"===A?L:createReactProxyDecoration(A,N))}var tu=L(80816);function getBaseUrl(){return""}async function getHeaders(){let A={},N=await (0,tu.bW)();return N&&(A.Authorization="Bearer ".concat(N)),A}L(87695);let tl=createTRPCNext({config(A){let{ctx:N}=A,L="".concat(getBaseUrl(),"/api/trpc");return{links:[splitLink({condition:A=>!0===A.context.skipBatch,true:er({url:L,headers:getHeaders}),false:et({url:L,headers:getHeaders})})]}},ssr:!1})},33168:function(A,N,L){"use strict";L.d(N,{EK:function(){return useAllPlugins},ZR:function(){return useConfig},v_:function(){return useInitConfig}});var B=L(52983),V=L(66706),et=L(79905),er=L(74550),ei=L(24650);let eo=(0,et.cn)({config:{}}),useInitConfig=()=>{let[,A]=(0,er.KO)(eo);(0,B.useEffect)(()=>{V.h.config.get().then(N=>{A({loaded:!0,config:N||{}})});let N=V.h.config.subscribe(N=>{A(A=>({...A,config:N}))});return()=>{N()}},[])},useConfig=()=>{let[A]=(0,er.KO)(eo);return A},useAllPlugins=()=>{let{config:A}=useConfig();return[...ei.a,...A.customPlugins||[]]}},15960:function(A,N,L){"use strict";L.d(N,{BH:function(){return insertAtCursor},Bm:function(){return isExternalLink},D2:function(){return getDefaultSystemMessage},DX:function(){return getOnClickEvents},Dw:function(){return notEmpty},S7:function(){return removeEmoji},df:function(){return sortByDate},k_:function(){return throwIfAborted}});var B=L(73474),V=L.n(B),et=L(27971);function notEmpty(A){return null!=A&&!1!==A&&""!==A}let sortByDate=(A,N)=>A.sort((A,L)=>{let B=V()(A.lastReplyAt||A.createdAt).toDate()>V()(L.lastReplyAt||L.createdAt).toDate();return"asc"===N?B?1:-1:B?-1:1});function removeEmoji(A){return A.replace(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g,"")}function insertAtCursor(A,N){let[L,B]=[A.selectionStart,A.selectionEnd];A.setRangeText(N,L,B,"end");let V=new Event("input",{bubbles:!0});A.dispatchEvent(V)}function getDefaultSystemMessage(){return""}function isExternalLink(A){return/^https?:\/\//.test(A)}function getOnClickEvents(A){return A?{onMouseUp:N=>{0===N.button&&(0,et.g)()&&(N.preventDefault(),N.stopPropagation(),console.log("trigger"),A(N))},onClick:N=>{(0,et.g)()||(N.preventDefault(),N.stopPropagation(),A(N))}}:{}}function throwIfAborted(A){if(A.aborted)throw Error("Aborted")}},69640:function(A,N,L){"use strict";L.r(N),L.d(N,{default:function(){return rT}});var B,V,et=L(97458);L(77272),L(65161);var er=L(5200),ei=L(89691),eo=L(76336),ea=L(52983),initQueue=()=>{window.va||(window.va=function(...A){(window.vaq=window.vaq||[]).push(A)})};function isBrowser(){return"undefined"!=typeof window}function isDevelopment(){try{return!1}catch(A){return!1}}function getMode(A="auto"){return"auto"===A?isDevelopment()?"development":"production":A}var inject=(A={debug:!0})=>{var N;if(!isBrowser())return;let L=getMode(A.mode);initQueue(),A.beforeSend&&(null==(N=window.va)||N.call(window,"beforeSend",A.beforeSend));let B="development"===L?"https://cdn.vercel-insights.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${B}"]`))return;let V=document.createElement("script");V.src=B,V.defer=!0,V.setAttribute("data-sdkn","@vercel/analytics"),V.setAttribute("data-sdkv","0.1.11"),"development"===L&&!1===A.debug&&V.setAttribute("data-debug","false"),document.head.appendChild(V)};function Analytics({beforeSend:A,debug:N=!0,mode:L="auto"}){return(0,ea.useEffect)(()=>{inject({beforeSend:A,debug:N,mode:L})},[A,N,L]),null}var es=L(33168),eu=L(2284),el=L.n(eu),ec=L(98846),ed=L(38660),ef=L(48748),eh=L(70433),ep=L(26656),eg=L(17129),em=L(18854),ev=L(74550),ey=L(61383),e_=L(62571),eb=L(85273);function e(A,N){var L=Object.keys(A);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(A);N&&(B=B.filter(function(N){return Object.getOwnPropertyDescriptor(A,N).enumerable})),L.push.apply(L,B)}return L}function t(A){for(var N=1;N<arguments.length;N++){var L=null!=arguments[N]?arguments[N]:{};N%2?e(Object(L),!0).forEach(function(N){s(A,N,L[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(L)):e(Object(L)).forEach(function(N){Object.defineProperty(A,N,Object.getOwnPropertyDescriptor(L,N))})}return A}function n(A){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(A)}function r(A,N){if(!(A instanceof N))throw TypeError("Cannot call a class as a function")}function i(A,N){for(var L=0;L<N.length;L++){var B=N[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function o(A,N,L){return N&&i(A.prototype,N),L&&i(A,L),Object.defineProperty(A,"prototype",{writable:!1}),A}function s(A,N,L){return N in A?Object.defineProperty(A,N,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[N]=L,A}function a(A,N){if("function"!=typeof N&&null!==N)throw TypeError("Super expression must either be null or a function");A.prototype=Object.create(N&&N.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),N&&l(A,N)}function u(A){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)})(A)}function l(A,N){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,N){return A.__proto__=N,A})(A,N)}function c(A,N){if(null==A)return{};var L,B,V=function(A,N){if(null==A)return{};var L,B,V={},et=Object.keys(A);for(B=0;B<et.length;B++)L=et[B],N.indexOf(L)>=0||(V[L]=A[L]);return V}(A,N);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(A);for(B=0;B<et.length;B++)L=et[B],N.indexOf(L)>=0||Object.prototype.propertyIsEnumerable.call(A,L)&&(V[L]=A[L])}return V}function d(A,N){if(N&&("object"==typeof N||"function"==typeof N))return N;if(void 0!==N)throw TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(A)}function h(A){var N=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(A){return!1}}();return function(){var L,B=u(A);if(N){var V=u(this).constructor;L=Reflect.construct(B,arguments,V)}else L=B.apply(this,arguments);return d(this,L)}}function f(A,N){return function(A){if(Array.isArray(A))return A}(A)||function(A,N){var L=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null!=L){var B,V,et=[],er=!0,ei=!1;try{for(L=L.call(A);!(er=(B=L.next()).done)&&(et.push(B.value),!N||et.length!==N);er=!0);}catch(A){ei=!0,V=A}finally{try{er||null==L.return||L.return()}finally{if(ei)throw V}}return et}}(A,N)||_(A,N)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(A){return function(A){if(Array.isArray(A))return g(A)}(A)||function(A){if("undefined"!=typeof Symbol&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||_(A)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(A,N){if(A){if("string"==typeof A)return g(A,N);var L=Object.prototype.toString.call(A).slice(8,-1);return"Object"===L&&A.constructor&&(L=A.constructor.name),"Map"===L||"Set"===L?Array.from(A):"Arguments"===L||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?g(A,N):void 0}}function g(A,N){(null==N||N>A.length)&&(N=A.length);for(var L=0,B=Array(N);L<N;L++)B[L]=A[L];return B}function v(A,N){var L="undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(!L){if(Array.isArray(A)||(L=_(A))||N&&A&&"number"==typeof A.length){L&&(A=L);var B=0,i=function(){};return{s:i,n:function(){return B>=A.length?{done:!0}:{done:!1,value:A[B++]}},e:function(A){throw A},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var V,et=!0,er=!1;return{s:function(){L=L.call(A)},n:function(){var A=L.next();return et=A.done,A},e:function(A){er=!0,V=A},f:function(){try{et||null==L.return||L.return()}finally{if(er)throw V}}}}var ew={DEBUG:!1,LIB_VERSION:"1.94.1"},ex=Array.isArray,eE=Object.prototype,ek=eE.hasOwnProperty,eS=eE.toString,eC=ex||function(A){return"[object Array]"===eS.call(A)},F=function(A){return"[object Uint8Array]"===eS.call(A)},P=function(A){return"function"==typeof A},I=function(A){return A===Object(A)&&!eC(A)},x=function(A){if(I(A)){for(var N in A)if(ek.call(A,N))return!1;return!0}return!1},R=function(A){return void 0===A},E=function(A){return"[object String]"==eS.call(A)},C=function(A){return null===A},O=function(A){return"[object Number]"==eS.call(A)},$=function(A){return"[object Boolean]"===eS.call(A)},eA=Array.prototype,e$=eA.forEach,eP=eA.indexOf,eT="undefined"!=typeof window?window:void 0,eI=null==eT?void 0:eT.navigator,eO=null==eT?void 0:eT.document,eR=null==eI?void 0:eI.userAgent,eM=null!=eT?eT:{},eD="[PostHog.js]",eF={_log:function(A){if(eT&&(ew.DEBUG||eM.POSTHOG_DEBUG)&&!R(eT.console)&&eT.console){for(var N=("__rrweb_original__"in eT.console[A])?eT.console[A].__rrweb_original__:eT.console[A],L=arguments.length,B=Array(L>1?L-1:0),V=1;V<L;V++)B[V-1]=arguments[V];N.apply(void 0,[eD].concat(B))}},info:function(){for(var A=arguments.length,N=Array(A),L=0;L<A;L++)N[L]=arguments[L];eF._log.apply(eF,["log"].concat(N))},warn:function(){for(var A=arguments.length,N=Array(A),L=0;L<A;L++)N[L]=arguments[L];eF._log.apply(eF,["warn"].concat(N))},error:function(){for(var A=arguments.length,N=Array(A),L=0;L<A;L++)N[L]=arguments[L];eF._log.apply(eF,["error"].concat(N))},critical:function(){for(var A,N=arguments.length,L=Array(N),B=0;B<N;B++)L[B]=arguments[B];(A=console).error.apply(A,[eD].concat(L))},uninitializedWarning:function(A){eF.error("You must initialize PostHog before calling ".concat(A))}},eN={},U=function(A){return A.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function W(A,N,L){if(eC(A)){if(e$&&A.forEach===e$)A.forEach(N,L);else if("length"in A&&A.length===+A.length){for(var B=0,V=A.length;B<V;B++)if(B in A&&N.call(L,A[B],B)===eN)return}}}function G(A,N,L){if(!C(A)&&!R(A)){if(eC(A))return W(A,N,L);for(var B in A)if(ek.call(A,B)&&N.call(L,A[B],B)===eN)return}}var z=function(A){for(var N=arguments.length,L=Array(N>1?N-1:0),B=1;B<N;B++)L[B-1]=arguments[B];return W(L,function(N){for(var L in N)void 0!==N[L]&&(A[L]=N[L])}),A};function Y(A,N){return -1!==A.indexOf(N)}function Q(A){for(var N=Object.keys(A),L=N.length,B=Array(L);L--;)B[L]=[N[L],A[N[L]]];return B}var J=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},X=function(A){try{return A()}catch(A){return}},K=function(A){return function(){try{for(var N=arguments.length,L=Array(N),B=0;B<N;B++)L[B]=arguments[B];return A.apply(this,L)}catch(A){eF.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),eF.critical(A)}}},Z=function(A){var N={};return G(A,function(A,L){E(A)&&A.length>0&&(N[L]=A)}),N},eL=["$performance_raw"];function te(A,N){var L,B;return L=function(A,L){return L&&eL.indexOf(L)>-1?A:E(A)&&!C(N)?A.slice(0,N):A},B=new Set,function e(A,N){var V;return A!==Object(A)?L?L(A,N):A:B.has(A)?void 0:(B.add(A),eC(A)?(V=[],W(A,function(A){V.push(e(A))})):(V={},G(A,function(A,N){B.has(A)||(V[N]=e(A,N))})),V)}(A)}function ne(A){var N,L,B,V,et,er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ei=0,eo=0,ea="",es=[];if(!A)return A;A=re(A);do N=(et=A.charCodeAt(ei++)<<16|A.charCodeAt(ei++)<<8|A.charCodeAt(ei++))>>18&63,L=et>>12&63,B=et>>6&63,V=63&et,es[eo++]=er.charAt(N)+er.charAt(L)+er.charAt(B)+er.charAt(V);while(ei<A.length);switch(ea=es.join(""),A.length%3){case 1:ea=ea.slice(0,-2)+"==";break;case 2:ea=ea.slice(0,-1)+"="}return ea}var re=function(A){var N,L,B,V,et="";for(N=L=0,B=(A=(A+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,V=0;V<B;V++){var er=A.charCodeAt(V),ei=null;er<128?L++:ei=er>127&&er<2048?String.fromCharCode(er>>6|192,63&er|128):String.fromCharCode(er>>12|224,er>>6&63|128,63&er|128),C(ei)||(L>N&&(et+=A.substring(N,L)),et+=ei,N=L=V+1)}return L>N&&(et+=A.substring(N,A.length)),et},eq=function(){function e(A){return A&&(A.preventDefault=e.preventDefault,A.stopPropagation=e.stopPropagation),A}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(A,N,L,B,V){if(A){if(A.addEventListener&&!B)A.addEventListener(N,L,!!V);else{var et="on"+N,er=A[et];A[et]=function(N){if(N=N||e(null==eT?void 0:eT.event)){var B,V=!0;P(er)&&(B=er(N));var et=L.call(A,N);return!1!==B&&!1!==et||(V=!1),V}}}}else eF.error("No valid element provided to register_event")}}();function oe(A,N){var n=function(){if(!eO)return N("document not found");var L=eO.createElement("script");L.type="text/javascript",L.src=A,L.onload=function(A){return N(void 0,A)},L.onerror=function(A){return N(A)};var B,V=eO.querySelectorAll("body > script");V.length>0?null===(B=V[0].parentNode)||void 0===B||B.insertBefore(L,V[0]):eO.body.appendChild(L)};null!=eO&&eO.body?n():null==eO||eO.addEventListener("DOMContentLoaded",n)}function se(A){return A?U(A).split(/\s+/):[]}function ae(A){var N="";switch(n(A.className)){case"string":N=A.className;break;case"object":N=("baseVal"in A.className?A.className.baseVal:null)||A.getAttribute("class")||"";break;default:N=""}return se(N)}function ue(A){var N="";return pe(A)&&!_e(A)&&A.childNodes&&A.childNodes.length&&G(A.childNodes,function(A){de(A)&&A.textContent&&(N+=U(A.textContent).split(/(\s+)/).filter(ge).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),U(N)}function le(A){return!!A&&1===A.nodeType}function ce(A,N){return!!A&&!!A.tagName&&A.tagName.toLowerCase()===N.toLowerCase()}function de(A){return!!A&&3===A.nodeType}function he(A){return!!A&&11===A.nodeType}var ej=["a","button","form","input","select","textarea","label"];function pe(A){for(var N=A;N.parentNode&&!ce(N,"body");N=N.parentNode){var L=ae(N);if(Y(L,"ph-sensitive")||Y(L,"ph-no-capture"))return!1}if(Y(ae(A),"ph-include"))return!0;var B=A.type||"";if(E(B))switch(B.toLowerCase()){case"hidden":case"password":return!1}var V=A.name||A.id||"";return!(E(V)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(V.replace(/[^a-zA-Z0-9]/g,"")))}function _e(A){return!!(ce(A,"input")&&!["button","checkbox","submit","reset"].includes(A.type)||ce(A,"select")||ce(A,"textarea")||"true"===A.getAttribute("contenteditable"))}function ge(A){return!(C(A)||R(A)||E(A)&&(A=U(A),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((A||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(A)))}function ve(A){var N=ue(A);return ge(N="".concat(N," ").concat(me(A)).trim())?N:""}function me(A){var N="";return A&&A.childNodes&&A.childNodes.length&&G(A.childNodes,function(A){var L;if(A&&"span"===(null===(L=A.tagName)||void 0===L?void 0:L.toLowerCase()))try{var B=ue(A);N="".concat(N," ").concat(B).trim(),A.childNodes&&A.childNodes.length&&(N="".concat(N," ").concat(me(A)).trim())}catch(A){eF.error(A)}}),N}function ye(A){return A.map(function(A){var N,L,B={text:null===(N=A.$el_text)||void 0===N?void 0:N.slice(0,400),tag_name:A.tag_name,href:null===(L=A.attr__href)||void 0===L?void 0:L.slice(0,2048),attr_class:ke(A),attr_id:A.attr__id,nth_child:A.nth_child,nth_of_type:A.nth_of_type,attributes:{}};return Q(A).filter(function(A){return 0===f(A,1)[0].indexOf("attr__")}).forEach(function(A){var N=f(A,2),L=N[0],V=N[1];return B.attributes[L]=V}),B}).map(function(A){var N,L,B="";if(A.tag_name&&(B+=A.tag_name),A.attr_class){A.attr_class.sort();var V,et=v(A.attr_class);try{for(et.s();!(V=et.n()).done;){var er=V.value;B+=".".concat(er.replace(/"/g,""))}}catch(A){et.e(A)}finally{et.f()}}var ei=t(t(t(t({},A.text?{text:A.text}:{}),{},{"nth-child":null!==(N=A.nth_child)&&void 0!==N?N:0,"nth-of-type":null!==(L=A.nth_of_type)&&void 0!==L?L:0},A.href?{href:A.href}:{}),A.attr_id?{attr_id:A.attr_id}:{}),A.attributes),eo={};return Q(ei).sort(function(A,N){var L=f(A,1)[0],B=f(N,1)[0];return L.localeCompare(B)}).forEach(function(A){var N=f(A,2),L=N[0],B=N[1];return eo[be(L.toString())]=be(B.toString())}),B+=":"+Q(ei).map(function(A){var N=f(A,2),L=N[0],B=N[1];return"".concat(L,'="').concat(B,'"')}).join("")}).join(";")}function be(A){return A.replace(/"|\\"/g,'\\"')}function ke(A){var N=A.attr__class;return N?eC(N)?N:se(N):void 0}var eB=function(){function e(A){r(this,e),this.clicks=[],this.enabled=A}return o(e,[{key:"isRageClick",value:function(A,N,L){if(!this.enabled)return!1;var B=this.clicks[this.clicks.length-1];if(B&&Math.abs(A-B.x)+Math.abs(N-B.y)<30&&L-B.timestamp<1e3){if(this.clicks.push({x:A,y:N,timestamp:L}),3===this.clicks.length)return!0}else this.clicks=[{x:A,y:N,timestamp:L}];return!1}}]),e}(),eQ="$people_distinct_id",eH="__alias",eG="__timers",eU="$autocapture_disabled_server_side",ez="$session_recording_enabled_server_side",eK="$console_log_recording_enabled_server_side",eV="$session_recording_recorder_version_server_side",eW="$session_recording_network_payload_capture",eY="$sesid",eJ="$session_is_sampled",eZ="$enabled_feature_flags",eX="$early_access_features",e0="$stored_person_properties",e1="$stored_group_properties",e2="$surveys",e5="$flag_call_reported",e3="$user_state",e6="$posthog_quota_limited",e8="$client_session_props",e4=[eQ,eH,"__cmpns",eG,ez,eY,eZ,e3,e6,eX,e1,e0,e2,e5,e8];function Ve(A,N){return N.length>A?N.slice(0,A)+"...":N}var e7={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(A){var N,L=C(this._isDisabledServerSide)?!(null===(N=A.persistence)||void 0===N||!N.props[eU]):this._isDisabledServerSide,B=!!A.config.autocapture;this._isAutocaptureEnabled=B&&!L},_previousElementSibling:function(A){if(A.previousElementSibling)return A.previousElementSibling;var N=A;do N=N.previousSibling;while(N&&!le(N));return N},_getAugmentPropertiesFromElement:function(A){if(!pe(A))return{};var N={};return G(A.attributes,function(A){if(0===A.name.indexOf("data-ph-capture-attribute")){var L=A.name.replace("data-ph-capture-attribute-",""),B=A.value;L&&B&&ge(B)&&(N[L]=B)}}),N},_getPropertiesFromElement:function(A,N,L){var B,V=A.tagName.toLowerCase(),et={tag_name:V};ej.indexOf(V)>-1&&!L&&("a"===V.toLowerCase()||"button"===V.toLowerCase()?et.$el_text=Ve(1024,ve(A)):et.$el_text=Ve(1024,ue(A)));var er=ae(A);er.length>0&&(et.classes=er.filter(function(A){return""!==A}));var ei=null===(B=this.config)||void 0===B?void 0:B.element_attribute_ignorelist;G(A.attributes,function(L){var B;if((!_e(A)||-1!==["name","id","class"].indexOf(L.name))&&(null==ei||!ei.includes(L.name))&&!N&&ge(L.value)&&(!E(B=L.name)||"_ngcontent"!==B.substring(0,10)&&"_nghost"!==B.substring(0,7))){var V=L.value;"class"===L.name&&(V=se(V).join()),et["attr__"+L.name]=Ve(1024,V)}});for(var eo=1,ea=1,es=A;es=this._previousElementSibling(es);)eo++,es.tagName===A.tagName&&ea++;return et.nth_child=eo,et.nth_of_type=ea,et},_getDefaultProperties:function(A){return{$event_type:A,$ce_version:1}},_extractCustomPropertyValue:function(A){var N=[];return G(null==eO?void 0:eO.querySelectorAll(A.css_selector),function(A){var L;["input","select"].indexOf(A.tagName.toLowerCase())>-1?L=A.value:A.textContent&&(L=A.textContent),ge(L)&&N.push(L)}),N.join(", ")},_getCustomProperties:function(A){var N=this,L={};return G(this._customProperties,function(B){G(B.event_selectors,function(V){G(null==eO?void 0:eO.querySelectorAll(V),function(V){Y(A,V)&&pe(V)&&(L[B.name]=N._extractCustomPropertyValue(B))})})}),L},_getEventTarget:function(A){var N;return R(A.target)?A.srcElement||null:null!==(N=A.target)&&void 0!==N&&N.shadowRoot?A.composedPath()[0]||null:A.target||null},_captureEvent:function(A,N){var L,B=this,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$autocapture",et=this._getEventTarget(A);if(de(et)&&(et=et.parentNode||null),"$autocapture"===V&&"click"===A.type&&A instanceof MouseEvent&&null!==(L=this.rageclicks)&&void 0!==L&&L.isRageClick(A.clientX,A.clientY,(new Date).getTime())&&this._captureEvent(A,N,"$rageclick"),et&&function(A,N){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!eT||!A||ce(A,"html")||!le(A))return!1;if(null!=L&&L.url_allowlist){var B=eT.location.href,V=L.url_allowlist;if(V&&!V.some(function(A){return B.match(A)}))return!1}if(null!=L&&L.dom_event_allowlist){var et=L.dom_event_allowlist;if(et&&!et.some(function(A){return N.type===A}))return!1}if(null!=L&&L.element_allowlist){var er=L.element_allowlist;if(er&&!er.some(function(N){return A.tagName.toLowerCase()===N}))return!1}if(null!=L&&L.css_selector_allowlist){var ei=L.css_selector_allowlist;if(ei&&!ei.some(function(N){return A.matches(N)}))return!1}for(var eo=!1,ea=[A],es=!0,eu=A;eu.parentNode&&!ce(eu,"body");)if(he(eu.parentNode))ea.push(eu.parentNode.host),eu=eu.parentNode.host;else{if(!(es=eu.parentNode||!1))break;if(ej.indexOf(es.tagName.toLowerCase())>-1)eo=!0;else{var el=eT.getComputedStyle(es);el&&"pointer"===el.getPropertyValue("cursor")&&(eo=!0)}ea.push(es),eu=es}var ec=eT.getComputedStyle(A);if(ec&&"pointer"===ec.getPropertyValue("cursor")&&"click"===N.type)return!0;var ed=A.tagName.toLowerCase();switch(ed){case"html":return!1;case"form":return"submit"===N.type;case"input":case"select":case"textarea":return"change"===N.type||"click"===N.type;default:return eo?"click"===N.type:"click"===N.type&&(ej.indexOf(ed)>-1||"true"===A.getAttribute("contenteditable"))}}(et,A,this.config)){for(var er,ei,eo=[et],ea=et;ea.parentNode&&!ce(ea,"body");)he(ea.parentNode)?(eo.push(ea.parentNode.host),ea=ea.parentNode.host):(eo.push(ea.parentNode),ea=ea.parentNode);var es,eu=[],el={},ec=!1;if(G(eo,function(A){var L=pe(A);"a"===A.tagName.toLowerCase()&&(es=A.getAttribute("href"),es=L&&ge(es)&&es),Y(ae(A),"ph-no-capture")&&(ec=!0),eu.push(B._getPropertiesFromElement(A,N.config.mask_all_element_attributes,N.config.mask_all_text)),z(el,B._getAugmentPropertiesFromElement(A))}),N.config.mask_all_text||("a"===et.tagName.toLowerCase()||"button"===et.tagName.toLowerCase()?eu[0].$el_text=ve(et):eu[0].$el_text=ue(et)),es&&(eu[0].attr__href=es),ec)return!1;var ed=z(this._getDefaultProperties(A.type),N.elementsChainAsString?{$elements_chain:ye(eu)}:{$elements:eu},null!==(er=eu[0])&&void 0!==er&&er.$el_text?{$el_text:null===(ei=eu[0])||void 0===ei?void 0:ei.$el_text}:{},this._getCustomProperties(eo),el);return N.capture(V,ed),!0}},_navigate:function(A){eT&&(eT.location.href=A)},_addDomEventHandlers:function(A){var N=this;if(eT&&eO){var n=function(L){L=L||(null==eT?void 0:eT.event),N._captureEvent(L,A)};eq(eO,"submit",n,!1,!0),eq(eO,"change",n,!1,!0),eq(eO,"click",n,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(A){var N;$(A.__autocapture)||(this.config=A.__autocapture),null!==(N=this.config)&&void 0!==N&&N.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(A){return new RegExp(A)})),this.rageclicks=new eB(A.config.rageclick)},afterDecideResponse:function(A,N){var L=N.config.token;this._initializedTokens.indexOf(L)>-1?eF.info('autocapture already initialized for token "'+L+'"'):(N.persistence&&N.persistence.register(s({},eU,!!A.autocapture_opt_out)),this._isDisabledServerSide=!!A.autocapture_opt_out,this._setIsAutocaptureEnabled(N),this._initializedTokens.push(L),A&&A.config&&A.config.enable_collect_everything&&this._isAutocaptureEnabled?(A.custom_properties&&(this._customProperties=A.custom_properties),this._addDomEventHandlers(N)):N.__autocapture=!1)},enabledForProject:function(A,N,L){if(!A)return!0;N=R(N)?10:N,L=R(L)?10:L;for(var B=0,V=0;V<A.length;V++)B+=A.charCodeAt(V);return B%N<L},isBrowserSupported:function(){return P(null==eO?void 0:eO.querySelectorAll)}};!function(A){for(var N in A)P(A[N])&&(A[N]=A[N].bind(A))}(e7),function(A){for(var N in A)P(A[N])&&(A[N]=K(A[N]))}(e7);var e9="$active_feature_flags",tt="$override_feature_flags",tr="$feature_flag_payloads",Ye=function(A){var N,L={},B=v(Q(A||{}));try{for(B.s();!(N=B.n()).done;){var V=f(N.value,2),et=V[0],er=V[1];er&&(L[et]=er)}}catch(A){B.e(A)}finally{B.f()}return L},ti=function(){function e(A){r(this,e),this.instance=A,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return o(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var A=this.instance.get_property(eZ),N=this.instance.get_property(tt);if(!N)return A||{};for(var L=z({},A),B=Object.keys(N),V=0;V<B.length;V++)!1===N[B[V]]?delete L[B[V]]:L[B[V]]=N[B[V]];return this._override_warning||(eF.warn(" Overriding feature flags!",{enabledFlags:A,overriddenFlags:N,finalFlags:L}),this._override_warning=!0),L}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(tr)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(A){this.$anon_distinct_id=A}},{key:"setReloadingPaused",value:function(A){this.reloadFeatureFlagsInAction=A}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var A=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!A.reloadFeatureFlagsInAction&&A.reloadFeatureFlagsQueued&&(A.reloadFeatureFlagsQueued=!1,A._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var A=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var N=this.instance.config.token,L=this.instance.get_property(e0),B=this.instance.get_property(e1),V=ne(JSON.stringify({token:N,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:L,group_properties:B,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:V},{method:"POST"},this.instance._prepare_callback(function(N){A.$anon_distinct_id=void 0,A.receivedFeatureFlags(N),A.setReloadingPaused(!1),A._startReloadTimer()}))}}},{key:"getFeatureFlag",value:function(A){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var L,B=this.getFlagVariants()[A],V="".concat(B),et=this.instance.get_property(e5)||{};return!N.send_event&&"send_event"in N||A in et&&et[A].includes(V)||(eC(et[A])?et[A].push(V):et[A]=[V],null===(L=this.instance.persistence)||void 0===L||L.register(s({},e5,et)),this.instance.capture("$feature_flag_called",{$feature_flag:A,$feature_flag_response:B})),B}eF.warn('getFeatureFlag for key "'+A+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(A){return this.getFlagPayloads()[A]}},{key:"isFeatureEnabled",value:function(A){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(A,N);eF.warn('isFeatureEnabled for key "'+A+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(A){this.featureFlagEventHandlers.push(A)}},{key:"removeFeatureFlagsHandler",value:function(A){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(N){return N!==A})}},{key:"receivedFeatureFlags",value:function(A){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var N=this.getFlagVariants(),L=this.getFlagPayloads();(function(A,N){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},V=A.featureFlags,et=A.featureFlagPayloads;if(V){if(eC(V)){var er,ei={};if(V)for(var eo=0;eo<V.length;eo++)ei[V[eo]]=!0;N&&N.register((s(er={},e9,V),s(er,eZ,ei),er))}else{var ea,es=V,eu=et;A.errorsWhileComputingFlags&&(es=t(t({},L),es),eu=t(t({},B),eu)),N&&N.register((s(ea={},e9,Object.keys(Ye(es))),s(ea,eZ,es||{}),s(ea,tr,eu||{}),ea))}}})(A,this.instance.persistence,N,L),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(A){if(!this.instance.__loaded||!this.instance.persistence)return eF.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,!1===A)this.instance.persistence.unregister(tt);else if(eC(A)){for(var N={},L=0;L<A.length;L++)N[A[L]]=!0;this.instance.persistence.register(s({},tt,N))}else this.instance.persistence.register(s({},tt,A))}},{key:"onFeatureFlags",value:function(A){var N=this;if(this.addFeatureFlagsHandler(A),this.instance.decideEndpointWasHit){var L=this._prepareFeatureFlagsForCallbacks();A(L.flags,L.flagVariants)}return function(){return N.removeFeatureFlagsHandler(A)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(A,N){var L,B,V=s({},"$feature_enrollment/".concat(A),N);this.instance.capture("$feature_enrollment_update",{$feature_flag:A,$feature_enrollment:N,$set:V}),this.setPersonPropertiesForFlags(V,!1);var et=t(t({},this.getFlagVariants()),{},s({},A,N));null===(L=this.instance.persistence)||void 0===L||L.register((s(B={},e9,Object.keys(Ye(et))),s(B,eZ,et),B)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(A){var N=this,L=arguments.length>1&&void 0!==arguments[1]&&arguments[1],B=this.instance.get_property(eX);if(B&&!L)return A(B);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(L){var B,V=L.earlyAccessFeatures;return null===(B=N.instance.persistence)||void 0===B||B.register(s({},eX,V)),A(V)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var A=this.getFlags(),N=this.getFlagVariants();return{flags:A.filter(function(A){return N[A]}),flagVariants:Object.keys(N).filter(function(A){return N[A]}).reduce(function(A,L){return A[L]=N[L],A},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var A=this._prepareFeatureFlagsForCallbacks(),N=A.flags,L=A.flagVariants;this.featureFlagEventHandlers.forEach(function(A){return A(N,L)})}},{key:"setPersonPropertiesForFlags",value:function(A){var N=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],L=this.instance.get_property(e0)||{};this.instance.register(s({},e0,t(t({},L),A))),N&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(e0)}},{key:"setGroupPropertiesForFlags",value:function(A){var N=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],L=this.instance.get_property(e1)||{};0!==Object.keys(L).length&&Object.keys(L).forEach(function(N){L[N]=t(t({},L[N]),A[N]),delete A[N]}),this.instance.register(s({},e1,t(t({},L),A))),N&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(A){if(A){var N=this.instance.get_property(e1)||{};this.instance.register(s({},e1,t(t({},N),{},s({},A,{}))))}else this.instance.unregister(e1)}}]),e}();Math.trunc||(Math.trunc=function(A){return A<0?Math.ceil(A):Math.floor(A)}),Number.isInteger||(Number.isInteger=function(A){return O(A)&&isFinite(A)&&Math.floor(A)===A});var to="0123456789abcdef",ta=function(){function e(A){if(r(this,e),this.bytes=A,16!==A.length)throw TypeError("not 128-bit length")}return o(e,[{key:"toString",value:function(){for(var A="",N=0;N<this.bytes.length;N++)A=A+to.charAt(this.bytes[N]>>>4)+to.charAt(15&this.bytes[N]),3!==N&&5!==N&&7!==N&&9!==N||(A+="-");if(36!==A.length)throw Error("Invalid UUIDv7 was generated");return A}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(A){return 0===this.compareTo(A)}},{key:"compareTo",value:function(A){for(var N=0;N<16;N++){var L=this.bytes[N]-A.bytes[N];if(0!==L)return Math.sign(L)}return 0}}],[{key:"fromFieldsV7",value:function(A,N,L,B){if(!Number.isInteger(A)||!Number.isInteger(N)||!Number.isInteger(L)||!Number.isInteger(B)||A<0||N<0||L<0||B<0||A>0xffffffffffff||N>4095||L>1073741823||B>4294967295)throw RangeError("invalid field value");var V=new Uint8Array(16);return V[0]=A/1099511627776,V[1]=A/4294967296,V[2]=A/16777216,V[3]=A/65536,V[4]=A/256,V[5]=A,V[6]=112|N>>>8,V[7]=N,V[8]=128|L>>>24,V[9]=L>>>16,V[10]=L>>>8,V[11]=L,V[12]=B>>>24,V[13]=B>>>16,V[14]=B>>>8,V[15]=B,new e(V)}}]),e}(),ts=function(){function e(){r(this,e),s(this,"timestamp",0),s(this,"counter",0),s(this,"random",new tl)}return o(e,[{key:"generate",value:function(){var A=this.generateOrAbort();if(R(A)){this.timestamp=0;var N=this.generateOrAbort();if(R(N))throw Error("Could not generate UUID after timestamp reset");return N}return A}},{key:"generateOrAbort",value:function(){var A=Date.now();if(A>this.timestamp)this.timestamp=A,this.resetCounter();else{if(!(A+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return ta.fromFieldsV7(this.timestamp,Math.trunc(this.counter/1073741824),1073741823&this.counter,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),Ze=function(A){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var N=0;N<A.length;N++)A[N]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return A};eT&&!R(eT.crypto)&&crypto.getRandomValues&&(Ze=function(A){return crypto.getRandomValues(A)});var tu,tl=function(){function e(){r(this,e),s(this,"buffer",new Uint32Array(8)),s(this,"cursor",1/0)}return o(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(Ze(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),nt=function(){return rt().toString()},rt=function(){return(tu||(tu=new ts)).generate()},tc=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,st=function(A){var N=A.match(tc);return N?N[0]:""};function at(A,N){if(N){var L=function(A){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eO;if(!N||["localhost","127.0.0.1"].includes(A))return"";for(var L=A.split("."),B=L.length,V="dmn_chk_"+nt(),et=RegExp("(^|;)\\s*"+V+"=1");B--;){var er=L.slice(B).join("."),ei=V+"=1;domain=."+er;if(N.cookie=ei,et.test(N.cookie))return N.cookie=ei+";expires=Thu, 01 Jan 1970 00:00:00 GMT",er}return""}(A);if(!L){var B=st(A);B!==L&&eF.info("Warning: cookie subdomain discovery mismatch",B,L),L=B}return L?"; domain=."+L:""}return""}var td={is_supported:function(){return!!eO},error:function(A){eF.error("cookieStore error: "+A)},get:function(A){if(eO){try{for(var N=A+"=",L=eO.cookie.split(";").filter(function(A){return A.length}),B=0;B<L.length;B++){for(var V=L[B];" "==V.charAt(0);)V=V.substring(1,V.length);if(0===V.indexOf(N))return decodeURIComponent(V.substring(N.length,V.length))}}catch(A){}return null}},parse:function(A){var N;try{N=JSON.parse(td.get(A))||{}}catch(A){}return N},set:function(A,N,L,B,V){if(eO)try{var et="",er="",ei=at(eO.location.hostname,B);if(L){var eo=new Date;eo.setTime(eo.getTime()+24*L*36e5),et="; expires="+eo.toUTCString()}V&&(er="; secure");var ea=A+"="+encodeURIComponent(JSON.stringify(N))+et+"; SameSite=Lax; path=/"+ei+er;return ea.length>3686.4&&eF.warn("cookieStore warning: large cookie, len="+ea.length),eO.cookie=ea,ea}catch(A){return}},remove:function(A,N){try{td.set(A,"",-1,N)}catch(A){return}}},tf=null,th={is_supported:function(){if(!C(tf))return tf;var A=!0;if(R(eT))A=!1;else try{var N="__mplssupport__";th.set(N,"xyz"),'"xyz"'!==th.get(N)&&(A=!1),th.remove(N)}catch(N){A=!1}return A||eF.error("localStorage unsupported; falling back to cookie store"),tf=A,A},error:function(A){eF.error("localStorage error: "+A)},get:function(A){try{return null==eT?void 0:eT.localStorage.getItem(A)}catch(A){th.error(A)}return null},parse:function(A){try{return JSON.parse(th.get(A))||{}}catch(A){}return null},set:function(A,N){try{null==eT||eT.localStorage.setItem(A,JSON.stringify(N))}catch(A){th.error(A)}},remove:function(A){try{null==eT||eT.localStorage.removeItem(A)}catch(A){th.error(A)}}},tp=["distinct_id",eY,eJ],tg=t(t({},th),{},{parse:function(A){try{var N={};try{N=td.parse(A)||{}}catch(A){}var L=z(N,JSON.parse(th.get(A)||"{}"));return th.set(A,L),L}catch(A){}return null},set:function(A,N,L,B,V){try{th.set(A,N);var et={};tp.forEach(function(A){N[A]&&(et[A]=N[A])}),Object.keys(et).length&&td.set(A,et,L,B,V)}catch(A){th.error(A)}},remove:function(A,N){try{null==eT||eT.localStorage.removeItem(A),td.remove(A,N)}catch(A){th.error(A)}}}),tm={},tv={is_supported:function(){return!0},error:function(A){eF.error("memoryStorage error: "+A)},get:function(A){return tm[A]||null},parse:function(A){return tm[A]||null},set:function(A,N){tm[A]=N},remove:function(A){delete tm[A]}},ty=null,t_={is_supported:function(){if(!C(ty))return ty;if(ty=!0,R(eT))ty=!1;else try{var A="__support__";t_.set(A,"xyz"),'"xyz"'!==t_.get(A)&&(ty=!1),t_.remove(A)}catch(A){ty=!1}return ty},error:function(A){eF.error("sessionStorage error: ",A)},get:function(A){try{return null==eT?void 0:eT.sessionStorage.getItem(A)}catch(A){t_.error(A)}return null},parse:function(A){try{return JSON.parse(t_.get(A))||null}catch(A){}return null},set:function(A,N){try{null==eT||eT.sessionStorage.setItem(A,JSON.stringify(N))}catch(A){t_.error(A)}},remove:function(A){try{null==eT||eT.sessionStorage.removeItem(A)}catch(A){t_.error(A)}}},tb=["localhost","127.0.0.1"],mt=function(A){var N=null==eO?void 0:eO.createElement("a");return R(N)?null:(N.href=A,N)},bt=function(A,N){for(var L,B=((A.split("#")[0]||"").split("?")[1]||"").split("&"),V=0;V<B.length;V++){var et=B[V].split("=");if(et[0]===N){L=et;break}}if(!eC(L)||L.length<2)return"";var er=L[1];try{er=decodeURIComponent(er)}catch(A){eF.error("Skipping decoding for malformed query param: "+er)}return er.replace(/\+/g," ")},kt=function(A,N){var L=A.match(RegExp(N+"=([^&]*)"));return L?L[1]:null},tw={campaignParams:function(A){var N=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gbraid","wbraid","fbclid","msclkid"].concat(A||[]),L={};return G(N,function(A){var N=eO?bt(eO.URL,A):"";N.length&&(L[A]=N)}),L},searchEngine:function(){var A=null==eO?void 0:eO.referrer;return A?0===A.search("https?://(.*)google.([^/?]*)")?"google":0===A.search("https?://(.*)bing.com")?"bing":0===A.search("https?://(.*)yahoo.com")?"yahoo":0===A.search("https?://(.*)duckduckgo.com")?"duckduckgo":null:null},searchInfo:function(){var A=tw.searchEngine(),N="yahoo"!=A?"q":"p",L={};if(!C(A)){L.$search_engine=A;var B=eO?bt(eO.referrer,N):"";B.length&&(L.ph_keyword=B)}return L},browser:function(A,N,L){return N=N||"",L||Y(A," OPR/")?Y(A,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(A)?"BlackBerry":Y(A,"IEMobile")||Y(A,"WPDesktop")?"Internet Explorer Mobile":Y(A,"SamsungBrowser/")?"Samsung Internet":Y(A,"Edge")||Y(A,"Edg/")?"Microsoft Edge":Y(A,"FBIOS")?"Facebook Mobile":Y(A,"Chrome")?"Chrome":Y(A,"CriOS")?"Chrome iOS":Y(A,"UCWEB")||Y(A,"UCBrowser")?"UC Browser":Y(A,"FxiOS")?"Firefox iOS":Y(N,"Apple")||Y(A,"Safari")&&!Y(A,"Chrome")&&!Y(A,"Android")?Y(A,"Mobile")?"Mobile Safari":"Safari":Y(A,"Android")?"Android Mobile":Y(A,"Konqueror")||Y(A,"konqueror")?"Konqueror":Y(A,"Firefox")?"Firefox":Y(A,"MSIE")||Y(A,"Trident/")?"Internet Explorer":Y(A,"Gecko")?"Mozilla":""},browserVersion:function(A,N,L){var B={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[tw.browser(A,N,L)];if(R(B))return null;for(var V=0;V<B.length;V++){var et=B[V],er=A.match(et);if(er)return parseFloat(er[er.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(A){if(/Windows/i.test(A)){if(/Phone/.test(A)||/WPDesktop/.test(A))return{os_name:"Windows Phone",os_version:""};var N=/Windows NT ([0-9.]+)/i.exec(A);return N&&N[1]?{os_name:"Windows",os_version:N[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(A)){var L=/OS (\d+)_(\d+)_?(\d+)?/i.exec(A);return L&&L[1]?{os_name:"iOS",os_version:[L[1],L[2],L[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(A)){var B=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(A);return B&&B[1]?{os_name:"Android",os_version:[B[1],B[2],B[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(A))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(A)){var V=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(A);return V&&V[1]?{os_name:"Mac OS X",os_version:[V[1],V[2],V[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(A)?{os_name:"Linux",os_version:""}:/CrOS/.test(A)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(A){return/Windows Phone/i.test(A)||/WPDesktop/.test(A)?"Windows Phone":/iPad/.test(A)?"iPad":/iPod/.test(A)?"iPod Touch":/iPhone/.test(A)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(A)?"BlackBerry":/Android/.test(A)&&!/Mobile/.test(A)?"Android Tablet":/Android/.test(A)?"Android":""},deviceType:function(A){var N=this.device(A);return"iPad"===N||"Android Tablet"===N?"Tablet":N?"Mobile":"Desktop"},referrer:function(){return(null==eO?void 0:eO.referrer)||"$direct"},referringDomain:function(){var A;return null!=eO&&eO.referrer&&(null===(A=mt(eO.referrer))||void 0===A?void 0:A.host)||"$direct"},properties:function(){if(!eR)return{};var A=tw.os(eR);return z(Z({$os:A.os_name,$os_version:A.os_version,$browser:tw.browser(eR,navigator.vendor,eM.opera),$device:tw.device(eR),$device_type:tw.deviceType(eR)}),{$current_url:null==eT?void 0:eT.location.href,$host:null==eT?void 0:eT.location.host,$pathname:null==eT?void 0:eT.location.pathname,$raw_user_agent:eR.length>1e3?eR.substring(0,997)+"...":eR,$browser_version:tw.browserVersion(eR,navigator.vendor,eM.opera),$browser_language:tw.browserLanguage(),$screen_height:null==eT?void 0:eT.screen.height,$screen_width:null==eT?void 0:eT.screen.width,$viewport_height:null==eT?void 0:eT.innerHeight,$viewport_width:null==eT?void 0:eT.innerWidth,$lib:"web",$lib_version:ew.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:J()/1e3})},people_properties:function(){if(!eR)return{};var A=tw.os(eR);return z(Z({$os:A.os_name,$os_version:A.os_version,$browser:tw.browser(eR,navigator.vendor,eM.opera)}),{$browser_version:tw.browserVersion(eR,navigator.vendor,eM.opera)})}},tx=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],tE=function(){function e(A){r(this,e);var N="";A.token&&(N=A.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=A.custom_campaign_params||[],A.persistence_name?this.name="ph_"+A.persistence_name:this.name="ph_"+N+"_posthog",-1===tx.indexOf(A.persistence.toLowerCase())&&(eF.critical("Unknown persistence type "+A.persistence+"; falling back to localStorage+cookie"),A.persistence="localStorage+cookie");var L=A.persistence.toLowerCase();"localstorage"===L&&th.is_supported()?this.storage=th:"localstorage+cookie"===L&&tg.is_supported()?this.storage=tg:"sessionstorage"===L&&t_.is_supported()?this.storage=t_:"memory"===L?this.storage=tv:"cookie"===L?this.storage=td:tg.is_supported()?this.storage=tg:this.storage=td,this.user_state="anonymous",this.load(),this.update_config(A),this.save()}return o(e,[{key:"properties",value:function(){var A={};return G(this.props,function(N,L){if(L===eZ&&I(N))for(var B,V=Object.keys(N),et=0;et<V.length;et++)A["$feature/".concat(V[et])]=N[V[et]];else B=!1,(C(e4)?B:eP&&e4.indexOf===eP?-1!=e4.indexOf(L):(G(e4,function(A){if(B||(B=A===L))return eN}),B))||(A[L]=N)}),A}},{key:"load",value:function(){if(!this.disabled){var A=this.storage.parse(this.name);A&&(this.props=z({},A))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(A,N,L){var B=this;if(I(A)){R(N)&&(N="None"),this.expire_days=R(L)?this.default_expiry:L;var V=!1;if(G(A,function(A,L){B.props.hasOwnProperty(L)&&B.props[L]!==N||(B.props[L]=A,V=!0)}),V)return this.save(),!0}return!1}},{key:"register",value:function(A,N){var L=this;if(I(A)){this.expire_days=R(N)?this.default_expiry:N;var B=!1;if(G(A,function(N,V){A.hasOwnProperty(V)&&L.props[V]!==N&&(L.props[V]=N,B=!0)}),B)return this.save(),!0}return!1}},{key:"unregister",value:function(A){A in this.props&&(delete this.props[A],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(tw.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(tw.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||tw.referrer(),$referring_domain:this.props.$referring_domain||tw.referringDomain()})}},{key:"get_referrer_info",value:function(){return Z({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(A){return G(this.props,function(N,L){L in A||(A[L]=N)}),A}},{key:"update_config",value:function(A){this.default_expiry=this.expire_days=A.cookie_expiration,this.set_disabled(A.disable_persistence),this.set_cross_subdomain(A.cross_subdomain_cookie),this.set_secure(A.secure_cookie)}},{key:"set_disabled",value:function(A){this.disabled=A,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(A){A!==this.cross_subdomain&&(this.cross_subdomain=A,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(A){A!==this.secure&&(this.secure=A,this.remove(),this.save())}},{key:"set_event_timer",value:function(A,N){var L=this.props[eG]||{};L[A]=N,this.props[eG]=L,this.save()}},{key:"remove_event_timer",value:function(A){var N=(this.props[eG]||{})[A];return R(N)||(delete this.props[eG][A],this.save()),N}},{key:"get_user_state",value:function(){return this.props[e3]||"anonymous"}},{key:"set_user_state",value:function(A){this.props[e3]=A,this.save()}},{key:"get_quota_limits",value:function(){return this.props[e6]||{}}},{key:"set_quota_limits",value:function(A){this.props[e6]=A,this.save()}}]),e}(),tk=o(function e(A){var N,L,B=this,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),s(this,"bucketSize",100),s(this,"refillRate",10),s(this,"mutationBuckets",{}),s(this,"loggedTracker",{}),s(this,"refillBuckets",function(){Object.keys(B.mutationBuckets).forEach(function(A){B.mutationBuckets[A]=B.mutationBuckets[A]+B.refillRate,B.mutationBuckets[A]>=B.bucketSize&&delete B.mutationBuckets[A]})}),s(this,"getNodeOrRelevantParent",function(A){var N=B.rrweb.mirror.getNode(A);if("svg"!==(null==N?void 0:N.nodeName)&&N instanceof Element){var L=N.closest("svg");if(L)return[B.rrweb.mirror.getId(L),L]}return[A,N]}),s(this,"numberOfChanges",function(A){var N,L,B,V,et,er,ei,eo;return(null!==(N=null===(L=A.removes)||void 0===L?void 0:L.length)&&void 0!==N?N:0)+(null!==(B=null===(V=A.attributes)||void 0===V?void 0:V.length)&&void 0!==B?B:0)+(null!==(et=null===(er=A.texts)||void 0===er?void 0:er.length)&&void 0!==et?et:0)+(null!==(ei=null===(eo=A.adds)||void 0===eo?void 0:eo.length)&&void 0!==ei?ei:0)}),s(this,"throttleMutations",function(A){if(3!==A.type||0!==A.data.source)return A;var N=A.data,L=B.numberOfChanges(N);N.attributes&&(N.attributes=N.attributes.filter(function(A){var N,L,V,et=f(B.getNodeOrRelevantParent(A.id),2),er=et[0],ei=et[1];return 0!==B.mutationBuckets[er]&&(B.mutationBuckets[er]=null!==(N=B.mutationBuckets[er])&&void 0!==N?N:B.bucketSize,B.mutationBuckets[er]=Math.max(B.mutationBuckets[er]-1,0),0===B.mutationBuckets[er]&&(B.loggedTracker[er]||(B.loggedTracker[er]=!0,null===(L=(V=B.options).onBlockedNode)||void 0===L||L.call(V,er,ei))),A)}));var V=B.numberOfChanges(N);return 0!==V||L===V?A:void 0}),this.rrweb=A,this.options=V,this.refillRate=null!==(N=this.options.refillRate)&&void 0!==N?N:this.refillRate,this.bucketSize=null!==(L=this.options.bucketSize)&&void 0!==L?L:this.bucketSize,setInterval(function(){B.refillBuckets()},1e3)}),tS=((tP=tS||{})[tP.DomContentLoaded=0]="DomContentLoaded",tP[tP.Load=1]="Load",tP[tP.FullSnapshot=2]="FullSnapshot",tP[tP.IncrementalSnapshot=3]="IncrementalSnapshot",tP[tP.Meta=4]="Meta",tP[tP.Custom=5]="Custom",tP[tP.Plugin=6]="Plugin",tP),tC={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(A){return A},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},tA=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],t$=["/s/","/e/","/i/vo/e/"];function Dt(A,N,L,B){var V=null==N?void 0:N["content-length"];return V&&parseInt(V)>L?"".concat(B," body too large to record"):A}var tP,tT,Bt=function(A,N){var L,B,V=A.session_recording,et=!1!==V.recordHeaders&&N.recordHeaders,er=!1!==V.recordBody&&N.recordBody,ei=!1!==V.recordPerformance&&N.recordPerformance,eo=(B=Math.min(1e6,null!==(L=V.payloadSizeLimitBytes)&&void 0!==L?L:1e6),function(A){return null!=A&&A.requestBody&&(A.requestBody=Dt(A.requestBody,A.requestHeaders,B,"Request")),null!=A&&A.responseBody&&(A.responseBody=Dt(A.responseBody,A.responseHeaders,B,"Response")),A}),d=function(A){var N;return eo(function(A){var N=mt(A.name);if(!(N&&N.pathname&&t$.includes(N.pathname)))return A}((Object.keys(null!==(N=A.requestHeaders)&&void 0!==N?N:{}).forEach(function(N){var L;tA.includes(N.toLowerCase())&&(null===(L=A.requestHeaders)||void 0===L||delete L[N])}),A)))},ea=P(A.session_recording.maskNetworkRequestFn);return ea&&P(A.session_recording.maskCapturedNetworkRequestFn)&&eF.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),ea&&(A.session_recording.maskCapturedNetworkRequestFn=function(N){var L=A.session_recording.maskNetworkRequestFn({url:N.name});return t(t({},N),{},{name:null==L?void 0:L.url})}),V.maskRequestFn=P(A.session_recording.maskCapturedNetworkRequestFn)?function(N){var L,B,V,et=d(N);return et&&null!==(L=null===(B=(V=A.session_recording).maskCapturedNetworkRequestFn)||void 0===B?void 0:B.call(V,et))&&void 0!==L?L:void 0}:void 0,V.maskRequestFn||(V.maskRequestFn=d),t(t(t({},tC),V),{},{recordHeaders:et,recordBody:er,recordPerformance:ei,recordInitialRequests:ei})};(t1=tT||(tT={}))[t1.Mutation=0]="Mutation",t1[t1.MouseMove=1]="MouseMove",t1[t1.MouseInteraction=2]="MouseInteraction",t1[t1.Scroll=3]="Scroll",t1[t1.ViewportResize=4]="ViewportResize",t1[t1.Input=5]="Input",t1[t1.TouchMove=6]="TouchMove",t1[t1.MediaInteraction=7]="MediaInteraction",t1[t1.StyleSheetRule=8]="StyleSheetRule",t1[t1.CanvasMutation=9]="CanvasMutation",t1[t1.Font=10]="Font",t1[t1.Log=11]="Log",t1[t1.Drag=12]="Drag",t1[t1.StyleDeclaration=13]="StyleDeclaration",t1[t1.Selection=14]="Selection",t1[t1.AdoptedStyleSheet=15]="AdoptedStyleSheet";var tI=[tT.MouseMove,tT.MouseInteraction,tT.Scroll,tT.ViewportResize,tT.Input,tT.TouchMove,tT.MediaInteraction,tT.Drag],tO=function(){function e(A){var N=this;if(r(this,e),s(this,"isIdle",!1),s(this,"_linkedFlagSeen",!1),s(this,"_lastActivityTimestamp",Date.now()),s(this,"windowId",null),s(this,"sessionId",null),s(this,"_linkedFlag",null),s(this,"_sampleRate",null),s(this,"_minimumDuration",null),s(this,"_forceAllowLocalhostNetworkCapture",!1),this.instance=A,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,null==eT||eT.addEventListener("beforeunload",function(){N._flushBuffer()}),!this.instance.sessionManager)throw eF.error("Session recording started without valid sessionManager"),Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return o(e,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw eF.error("Session recording started without valid sessionManager"),Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return O(this._sampleRate)?this.instance.get_property(eJ):null}},{key:"sessionDuration",get:function(){var A,N,L=null===(A=this.buffer)||void 0===A?void 0:A.data[(null===(N=this.buffer)||void 0===N?void 0:N.data.length)-1],B=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return L?L.timestamp-B:null}},{key:"isRecordingEnabled",get:function(){var A=!!this.instance.get_property(ez),N=!this.instance.config.disable_session_recording;return eT&&A&&N}},{key:"isConsoleLogCaptureEnabled",get:function(){var A=!!this.instance.get_property(eK),N=this.instance.config.enable_recording_console_log;return null!=N?N:A}},{key:"recordingVersion",get:function(){var A,N=this.instance.get_property(eV);return(null===(A=this.instance.config.session_recording)||void 0===A?void 0:A.recorderVersion)||N||"v1"}},{key:"networkPayloadCapture",get:function(){var A,N,L=this.instance.get_property(eW),B={recordHeaders:null===(A=this.instance.config.session_recording)||void 0===A?void 0:A.recordHeaders,recordBody:null===(N=this.instance.config.session_recording)||void 0===N?void 0:N.recordBody},V=(null==B?void 0:B.recordHeaders)||(null==L?void 0:L.recordHeaders),et=(null==B?void 0:B.recordBody)||(null==L?void 0:L.recordBody),er=this.instance.config.capture_performance||(null==L?void 0:L.capturePerformance);return V||et||er?{recordHeaders:V,recordBody:et,recordPerformance:er}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?E(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":$(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(A){var N,L,B=this.sessionId!==A;if(O(this._sampleRate)){var V,et=this.isSampled;(V=B||!$(et)?Math.random()<this._sampleRate:et)||eF.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(A,") will not be sent to the server.")),null===(L=this.instance.persistence)||void 0===L||L.register(s({},eJ,V))}else null===(N=this.instance.persistence)||void 0===N||N.register(s({},eJ,null))}},{key:"afterDecideResponse",value:function(A){var N,L,B,V,et,er,ei,eo,ea=this;this.instance.persistence&&this.instance.persistence.register((s(eo={},ez,!!A.sessionRecording),s(eo,eK,null===(et=A.sessionRecording)||void 0===et?void 0:et.consoleLogRecordingEnabled),s(eo,eV,null===(er=A.sessionRecording)||void 0===er?void 0:er.recorderVersion),s(eo,eW,t({capturePerformance:A.capturePerformance},null===(ei=A.sessionRecording)||void 0===ei?void 0:ei.networkPayloadCapture)),eo));var es=null===(N=A.sessionRecording)||void 0===N?void 0:N.sampleRate;this._sampleRate=R(es)||C(es)?null:parseFloat(es);var eu,el=null===(L=A.sessionRecording)||void 0===L?void 0:L.minimumDurationMilliseconds;if(this._minimumDuration=R(el)?null:el,this._linkedFlag=(null===(B=A.sessionRecording)||void 0===B?void 0:B.linkedFlag)||null,null!==(V=A.sessionRecording)&&void 0!==V&&V.endpoint&&(this._endpoint=null===(eu=A.sessionRecording)||void 0===eu?void 0:eu.endpoint),O(this._sampleRate)&&this.sessionManager.onSessionId(function(A){ea.makeSamplingDecision(A)}),E(this._linkedFlag)){var ec=this._linkedFlag;this.instance.onFeatureFlags(function(A){ea._linkedFlagSeen=A.includes(ec)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(A){var N,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(N=this.instance.sessionRecording)||void 0===N||N.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:L,trace:[],payload:[JSON.stringify(A)]}},timestamp:J()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var A=this;if(!R(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var N="v2"===this.recordingVersion?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?oe(this.instance.config.api_host+"/static/".concat(N,"?v=").concat(ew.LIB_VERSION),function(L){if(L)return eF.error("Could not load ".concat(N),L);A._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(A){var N;return 3===A.type&&-1!==tI.indexOf(null===(N=A.data)||void 0===N?void 0:N.source)}},{key:"_updateWindowAndSessionIds",value:function(A){var N=this._isInteractiveEvent(A);if(N||this.isIdle||A.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:A.timestamp-this._lastActivityTimestamp,threshold:3e5})),N&&(this._lastActivityTimestamp=A.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:A.type}),this._tryTakeFullSnapshot())),!this.isIdle){var L=this.sessionManager.checkAndGetSessionAndWindowId(!N,A.timestamp),B=L.windowId,V=L.sessionId,et=this.sessionId!==V,er=this.windowId!==B;-1===[2,4].indexOf(A.type)&&(er||et)&&this._tryTakeFullSnapshot(),this.windowId=B,this.sessionId=V}}},{key:"_tryRRwebMethod",value:function(A){if(!this._captureStarted)return!1;try{return A(),!0}catch(A){return eF.error("[Session-Recording] using rrweb when not started.",A),!1}}},{key:"_tryAddCustomEvent",value:function(A,N){var L=this;return this._tryRRwebMethod(function(){var B;return null===(B=L.rrwebRecord)||void 0===B?void 0:B.addCustomEvent(A,N)})}},{key:"_tryTakeFullSnapshot",value:function(){var A=this;return this._tryRRwebMethod(function(){var N;return null===(N=A.rrwebRecord)||void 0===N?void 0:N.takeFullSnapshot()})}},{key:"_onScriptLoaded",value:function(){var A,N=this,L={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=eT.rrweb?eT.rrweb.record:eT.rrwebRecord;for(var B=this.instance.config.session_recording,V=0,et=Object.entries(B||{});V<et.length;V++){var er=f(et[V],2),ei=er[0],eo=er[1];ei in L&&(L[ei]=eo)}this.rrwebRecord?(this.mutationRateLimiter=null!==(A=this.mutationRateLimiter)&&void 0!==A?A:new tk(this.rrwebRecord,{onBlockedNode:function(A,L){var B="Too many mutations on node '".concat(A,"'. Rate limiting. This could be due to SVG animations or something similar");eF.info(B,{node:L}),N.log("[PostHog Recorder] "+B,"warn")}}),this.stopRrweb=this.rrwebRecord(t({emit:function(A){N.onRRwebEmit(A)},plugins:this._gatherRRWebPlugins()},L)),this.instance._addCaptureHook(function(A){try{if("$pageview"===A){var L=eT?N._maskUrl(eT.location.href):"";if(!L)return;N._tryAddCustomEvent("$pageview",{href:L})}}catch(A){eF.error("Could not add $pageview to rrweb session",A)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1):eF.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_gatherRRWebPlugins",value:function(){var A=[];return eM.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&A.push(eM.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&P(eM.getRecordNetworkPlugin)&&(!tb.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?A.push(eM.getRecordNetworkPlugin(Bt(this.instance.config,this.networkPayloadCapture))):eF.info("[SessionReplay-NetworkCapture] not started because we are on localhost.")),A}},{key:"onRRwebEmit",value:function(A){if(A&&I(A)){if(A.type===tS.Meta){var N=this._maskUrl(A.data.href);if(!N)return;A.data.href=N}var L=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(A):A;if(L){var B=function(A){if(A&&I(A)&&6===A.type&&I(A.data)&&"rrweb/console@1"===A.data.plugin){A.data.payload.payload.length>10&&(A.data.payload.payload=A.data.payload.payload.slice(0,10),A.data.payload.payload.push("...[truncated]"));for(var N=[],L=0;L<A.data.payload.payload.length;L++)A.data.payload.payload[L]&&A.data.payload.payload[L].length>2e3?N.push(A.data.payload.payload[L].slice(0,2e3)+"...[truncated]"):N.push(A.data.payload.payload[L]);return A.data.payload.payload=N,A}return A}(L),V=JSON.stringify(B).length;if(this._updateWindowAndSessionIds(B),!this.isIdle){var et={$snapshot_bytes:V,$snapshot_data:B,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(et):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(A){var N=this.instance.config.session_recording;if(N.maskNetworkRequestFn){var L,B={url:A};return null===(L=B=N.maskNetworkRequestFn(B))||void 0===L?void 0:L.url}return A}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var A=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var N=this._minimumDuration,L=this.sessionDuration,B=O(L)&&L>=0,V=O(N)&&B&&L<N;return"buffering"===this.status||V?(this.flushBufferTimer=setTimeout(function(){A._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&0!==this.buffer.data.length?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(A){var N,L=this,B=2+((null===(N=this.buffer)||void 0===N?void 0:N.data.length)||0);(!this.buffer||this.buffer.size+A.$snapshot_bytes+B>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),C(this.buffer.sessionId)&&!C(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=A.$snapshot_bytes,this.buffer.data.push(A.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){L._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(A){this.instance.capture("$snapshot",A,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:2===A.$snapshot_data.type}})}}]),e}(),tR=function(){function e(A){r(this,e),this.instance=A,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return o(e,[{key:"call",value:function(){var A=this,N=ne(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(e0),group_properties:this.instance.get_property(e1),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:N,verbose:!0},{method:"POST"},function(N){return A.parseDecideResponse(N)})}},{key:"parseDecideResponse",value:function(A){var N,L=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),0!==(null==A?void 0:A.status)){if(!eO||!eO.body)return eF.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){L.parseDecideResponse(A)},500);this.instance.toolbar.afterDecideResponse(A),null===(N=this.instance.sessionRecording)||void 0===N||N.afterDecideResponse(A),e7.afterDecideResponse(A,this.instance),this.instance._afterDecideResponse(A),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(A);var B=null==eT?void 0:eT.extendPostHogWithSurveys;A.surveys&&!B&&oe(this.instance.config.api_host+"/static/surveys.js",function(A){if(A)return eF.error("Could not load surveys script",A);eT.extendPostHogWithSurveys(L.instance)});var V=null==eT?void 0:eT.extendPostHogWithExceptionAutoCapture;if(A.autocaptureExceptions&&A.autocaptureExceptions&&R(V)&&oe(this.instance.config.api_host+"/static/exception-autocapture.js",function(N){if(N)return eF.error("Could not load exception autocapture script",N);eT.extendPostHogWithExceptionAutocapture(L.instance,A)}),A.siteApps){if(this.instance.config.opt_in_site_apps){var et,er=this.instance.config.api_host,ei=v(A.siteApps);try{for(ei.s();!(et=ei.n()).done;)(function(){var A=et.value,N=A.id,B=A.url,V=[er,"/"===er[er.length-1]&&"/"===B[0]?B.substring(1):B].join("");eM["__$$ph_site_app_".concat(N)]=L.instance,oe(V,function(A){A&&eF.error("Error while initializing PostHog app with config id ".concat(N),A)})})()}catch(A){ei.e(A)}finally{ei.f()}}else A.siteApps.length>0&&eF.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}else eF.error("Failed to fetch feature flags from PostHog.")}}]),e}(),tM=["https://app.posthog.com","https://eu.posthog.com"],tD=["source"],tF=null!=eT&&eT.location?kt(eT.location.hash,"__posthog")||kt(location.hash,"state"):null,tN=function(){function e(A){r(this,e),this.instance=A}return o(e,[{key:"afterDecideResponse",value:function(A){var N=A.toolbarParams||A.editorParams||(A.toolbarVersion?{toolbarVersion:A.toolbarVersion}:{});A.isAuthenticated&&N.toolbarVersion&&0===N.toolbarVersion.indexOf("toolbar")&&this.loadToolbar(t({},N))}},{key:"maybeLoadToolbar",value:function(){var A,N,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!eT||!eO)return!1;L=null!==(A=L)&&void 0!==A?A:eT.location,V=null!==(N=V)&&void 0!==N?N:eT.history;try{if(!B){try{eT.localStorage.setItem("test","test"),eT.localStorage.removeItem("test")}catch(A){return!1}B=null==eT?void 0:eT.localStorage}var et,er=tF||kt(L.hash,"__posthog")||kt(L.hash,"state"),ei=er?X(function(){return JSON.parse(atob(decodeURIComponent(er)))})||X(function(){return JSON.parse(decodeURIComponent(er))}):null;return ei&&"ph_authorize"===ei.action?((et=ei).source="url",et&&Object.keys(et).length>0&&(ei.desiredHash?L.hash=ei.desiredHash:V?V.replaceState("",eO.title,L.pathname+L.search):L.hash="")):((et=JSON.parse(B.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete et.userIntent),!(!et.token||this.instance.config.token!==et.token)&&(this.loadToolbar(et),!0)}catch(A){return!1}}},{key:"loadToolbar",value:function(A){var N=this;if(!eT||eM._postHogToolbarLoaded)return!1;eM._postHogToolbarLoaded=!0;var L=this.instance.config.api_host,B=3e5*Math.floor(Date.now()/3e5),V="".concat(L).concat(L.endsWith("/")?"":"/","static/toolbar.js?t=").concat(B),et=!tM.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,er=t(t({token:this.instance.config.token},A),{},{apiURL:L},et?{instrument:!1}:{});er.source;var ei=c(er,tD);return eT.localStorage.setItem("_postHogToolbarParams",JSON.stringify(ei)),oe(V,function(A){A?eF.error("Failed to load toolbar",A):(eM.ph_load_toolbar||eM.ph_load_editor)(er,N.instance)}),eq(eT,"turbolinks:load",function(){eM._postHogToolbarLoaded=!1,N.loadToolbar(er)}),!0}},{key:"_loadEditor",value:function(A){return this.loadToolbar(A)}},{key:"maybeLoadEditor",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(A,N,L)}}]),e}();function Qt(A,N){rn(!0,A,N)}function Jt(A,N){rn(!1,A,N)}function Xt(A,N){return"1"===nn(A,N)}function Kt(A,N){return!!function(A){if(A&&A.respectDnt){var N=A&&A.window||eT,L=null==N?void 0:N.navigator,B=!1;return G([null==L?void 0:L.doNotTrack,L.msDoNotTrack,N.doNotTrack],function(A){Y([!0,1,"1","yes"],A)&&(B=!0)}),B}return!1}(N)||"0"===nn(A,N)}function Zt(A,N){en(N=N||{}).remove(tn(A,N),!!N.crossSubdomainCookie)}function en(A){return"localStorage"===(A=A||{}).persistenceType?th:"localStorage+cookie"===A.persistenceType?tg:td}function tn(A,N){return((N=N||{}).persistencePrefix||"__ph_opt_in_out_")+A}function nn(A,N){return en(N).get(tn(A,N))}function rn(A,N,L){E(N)&&N.length?(en(L=L||{}).set(tn(N,L),A?1:0,O(L.cookieExpiration)?L.cookieExpiration:null,L.crossSubdomainCookie,L.secureCookie),L.capture&&A&&L.capture(L.captureEventName||"$opt_in",L.captureProperties||{},{send_instantly:!0})):eF.error("gdpr."+(A?"optIn":"optOut")+" called with an invalid token")}var tL=function(){function e(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;r(this,e),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=A}return o(e,[{key:"setPollInterval",value:function(A){this._pollInterval=A,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return(new Date).getTime()}}]),e}(),tq=function(A){a(i,tL);var N=h(i);function i(A){var L,B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;return r(this,i),(L=N.call(this,B)).handlePollRequest=A,L}return o(i,[{key:"enqueue",value:function(A,N,L){this._event_queue.push({url:A,data:N,options:L}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var A=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(A._event_queue.length>0){var N=A.formatQueue();for(var L in N)(function(L){var B=N[L],V=B.url,et=B.data,er=B.options;G(et,function(N,L){et[L].offset=Math.abs(et[L].timestamp-A.getTime()),delete et[L].timestamp}),A.handlePollRequest(V,et,er)})(L);A._event_queue.length=0,A._empty_queue_count=0}else A._empty_queue_count++;A._empty_queue_count>4&&(A.isPolling=!1,A._empty_queue_count=0),A.isPolling&&A.poll()},this._pollInterval)}},{key:"unload",value:function(){var A=this;clearTimeout(this._poller);var N=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var L=Object.values(N);[].concat(p(L.filter(function(A){return 0===A.url.indexOf("/e")})),p(L.filter(function(A){return 0!==A.url.indexOf("/e")}))).map(function(N){var L=N.url,B=N.data,V=N.options;A.handlePollRequest(L,B,t(t({},V),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var A={};return G(this._event_queue,function(N){var L=N.url,B=N.data,V=N.options,et=(V?V._batchKey:null)||L;R(A[et])&&(A[et]={data:[],url:L,options:V}),V&&A[et].options&&A[et].options._metrics&&!A[et].options._metrics.rrweb_full_snapshot&&(A[et].options._metrics.rrweb_full_snapshot=V._metrics.rrweb_full_snapshot),A[et].data.push(B)}),A}}]),i}(),tj=Uint8Array,tB=Uint16Array,tQ=Uint32Array,tH=new tj([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tG=new tj([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tU=new tj([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fn=function(A,N){for(var L=new tB(31),B=0;B<31;++B)L[B]=N+=1<<A[B-1];var V=new tQ(L[30]);for(B=1;B<30;++B)for(var et=L[B];et<L[B+1];++et)V[et]=et-L[B]<<5|B;return[L,V]},tz=fn(tH,2),tK=tz[0],tV=tz[1];tK[28]=258,tV[258]=28;for(var tW=fn(tG,0)[1],tY=new tB(32768),tJ=0;tJ<32768;++tJ){var tZ=(43690&tJ)>>>1|(21845&tJ)<<1;tZ=(61680&(tZ=(52428&tZ)>>>2|(13107&tZ)<<2))>>>4|(3855&tZ)<<4,tY[tJ]=((65280&tZ)>>>8|(255&tZ)<<8)>>>1}var kn=function(A,N,L){for(var B=A.length,V=0,et=new tB(N);V<B;++V)++et[A[V]-1];var er,ei=new tB(N);for(V=0;V<N;++V)ei[V]=ei[V-1]+et[V-1]<<1;if(L){er=new tB(1<<N);var eo=15-N;for(V=0;V<B;++V)if(A[V])for(var ea=V<<4|A[V],es=N-A[V],eu=ei[A[V]-1]++<<es,el=eu|(1<<es)-1;eu<=el;++eu)er[tY[eu]>>>eo]=ea}else for(er=new tB(B),V=0;V<B;++V)er[V]=tY[ei[A[V]-1]++]>>>15-A[V];return er},tX=new tj(288);for(tJ=0;tJ<144;++tJ)tX[tJ]=8;for(tJ=144;tJ<256;++tJ)tX[tJ]=9;for(tJ=256;tJ<280;++tJ)tX[tJ]=7;for(tJ=280;tJ<288;++tJ)tX[tJ]=8;var t0=new tj(32);for(tJ=0;tJ<32;++tJ)t0[tJ]=5;var t1,t2,t5=kn(tX,9,0),t3=kn(t0,5,0),xn=function(A){return(A/8>>0)+(7&A&&1)},Rn=function(A,N,L){(null==N||N<0)&&(N=0),(null==L||L>A.length)&&(L=A.length);var B=new(A instanceof tB?tB:A instanceof tQ?tQ:tj)(L-N);return B.set(A.subarray(N,L)),B},En=function(A,N,L){L<<=7&N;var B=N/8>>0;A[B]|=L,A[B+1]|=L>>>8},Cn=function(A,N,L){L<<=7&N;var B=N/8>>0;A[B]|=L,A[B+1]|=L>>>8,A[B+2]|=L>>>16},On=function(A,N){for(var L=[],B=0;B<A.length;++B)A[B]&&L.push({s:B,f:A[B]});var V=L.length,et=L.slice();if(!V)return[new tj(0),0];if(1==V){var er=new tj(L[0].s+1);return er[L[0].s]=1,[er,1]}L.sort(function(A,N){return A.f-N.f}),L.push({s:-1,f:25001});var ei=L[0],eo=L[1],ea=0,es=1,eu=2;for(L[0]={s:-1,f:ei.f+eo.f,l:ei,r:eo};es!=V-1;)ei=L[L[ea].f<L[eu].f?ea++:eu++],eo=L[ea!=es&&L[ea].f<L[eu].f?ea++:eu++],L[es++]={s:-1,f:ei.f+eo.f,l:ei,r:eo};var el=et[0].s;for(B=1;B<V;++B)et[B].s>el&&(el=et[B].s);var ec=new tB(el+1),ed=$n(L[es-1],ec,0);if(ed>N){B=0;var ef=0,eh=ed-N,ep=1<<eh;for(et.sort(function(A,N){return ec[N.s]-ec[A.s]||A.f-N.f});B<V;++B){var eg=et[B].s;if(!(ec[eg]>N))break;ef+=ep-(1<<ed-ec[eg]),ec[eg]=N}for(ef>>>=eh;ef>0;){var em=et[B].s;ec[em]<N?ef-=1<<N-ec[em]++-1:++B}for(;B>=0&&ef;--B){var ev=et[B].s;ec[ev]==N&&(--ec[ev],++ef)}ed=N}return[new tj(ec),ed]},$n=function e(A,N,L){return -1==A.s?Math.max(e(A.l,N,L+1),e(A.r,N,L+1)):N[A.s]=L},Mn=function(A){for(var N=A.length;N&&!A[--N];);for(var L=new tB(++N),B=0,V=A[0],et=1,s=function(A){L[B++]=A},er=1;er<=N;++er)if(A[er]==V&&er!=N)++et;else{if(!V&&et>2){for(;et>138;et-=138)s(32754);et>2&&(s(et>10?et-11<<5|28690:et-3<<5|12305),et=0)}else if(et>3){for(s(V),--et;et>6;et-=6)s(8304);et>2&&(s(et-3<<5|8208),et=0)}for(;et--;)s(V);et=1,V=A[er]}return[L.subarray(0,B),N]},Tn=function(A,N){for(var L=0,B=0;B<N.length;++B)L+=A[B]*N[B];return L},An=function(A,N,L){var B=L.length,V=xn(N+2);A[V]=255&B,A[V+1]=B>>>8,A[V+2]=255^A[V],A[V+3]=255^A[V+1];for(var et=0;et<B;++et)A[V+et+4]=L[et];return 8*(V+4+B)},Dn=function(A,N,L,B,V,et,er,ei,eo,ea,es){En(N,es++,L),++V[256];for(var eu=On(V,15),el=eu[0],ec=eu[1],ed=On(et,15),ef=ed[0],eh=ed[1],ep=Mn(el),eg=ep[0],em=ep[1],ev=Mn(ef),ey=ev[0],e_=ev[1],eb=new tB(19),ew=0;ew<eg.length;++ew)eb[31&eg[ew]]++;for(ew=0;ew<ey.length;++ew)eb[31&ey[ew]]++;for(var ex=On(eb,7),eE=ex[0],ek=ex[1],eS=19;eS>4&&!eE[tU[eS-1]];--eS);var eC,eA,e$,eP,eT=ea+5<<3,eI=Tn(V,tX)+Tn(et,t0)+er,eO=Tn(V,el)+Tn(et,ef)+er+14+3*eS+Tn(eb,eE)+(2*eb[16]+3*eb[17]+7*eb[18]);if(eT<=eI&&eT<=eO)return An(N,es,A.subarray(eo,eo+ea));if(En(N,es,1+(eO<eI)),es+=2,eO<eI){eC=kn(el,ec,0),eA=el,e$=kn(ef,eh,0),eP=ef;var eR=kn(eE,ek,0);for(En(N,es,em-257),En(N,es+5,e_-1),En(N,es+10,eS-4),es+=14,ew=0;ew<eS;++ew)En(N,es+3*ew,eE[tU[ew]]);es+=3*eS;for(var eM=[eg,ey],eD=0;eD<2;++eD){var eF=eM[eD];for(ew=0;ew<eF.length;++ew){var eN=31&eF[ew];En(N,es,eR[eN]),es+=eE[eN],eN>15&&(En(N,es,eF[ew]>>>5&127),es+=eF[ew]>>>12)}}}else eC=t5,eA=tX,e$=t3,eP=t0;for(ew=0;ew<ei;++ew)if(B[ew]>255){Cn(N,es,eC[(eN=B[ew]>>>18&31)+257]),es+=eA[eN+257],eN>7&&(En(N,es,B[ew]>>>23&31),es+=tH[eN]);var eL=31&B[ew];Cn(N,es,e$[eL]),es+=eP[eL],eL>3&&(Cn(N,es,B[ew]>>>5&8191),es+=tG[eL])}else Cn(N,es,eC[B[ew]]),es+=eA[B[ew]];return Cn(N,es,eC[256]),es+eA[256]},t6=new tQ([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t8=new tj(0),t4=function(){for(var A=new tQ(256),N=0;N<256;++N){for(var L=N,B=9;--B;)L=(1&L&&3988292384)^L>>>1;A[N]=L}return A}(),Ln=function(){var A=4294967295;return{p:function(N){for(var L=A,B=0;B<N.length;++B)L=t4[255&L^N[B]]^L>>>8;A=L},d:function(){return 4294967295^A}}},Hn=function(A,N,L){for(;L;++N)A[N]=L,L>>>=8},Vn=function(A,N){var L=N.filename;if(A[0]=31,A[1]=139,A[2]=8,A[8]=N.level<2?4:9==N.level?2:0,A[9]=3,0!=N.mtime&&Hn(A,4,Math.floor(new Date(N.mtime||Date.now())/1e3)),L){A[3]=8;for(var B=0;B<=L.length;++B)A[B+10]=L.charCodeAt(B)}};function Wn(A,N){void 0===N&&(N={});var L,B,V,et=Ln(),er=A.length;et.p(A);var ei=(B=N,V=10+((L=N).filename&&L.filename.length+1||0),function(A,N,L,B,V,et){var er=A.length,ei=new tj(B+er+5*(1+Math.floor(er/7e3))+V),eo=ei.subarray(B,ei.length-V),ea=0;if(!N||er<8)for(var es=0;es<=er;es+=65535){var eu=es+65535;eu<er?ea=An(eo,ea,A.subarray(es,eu)):(eo[es]=et,ea=An(eo,ea,A.subarray(es,er)))}else{for(var el=t6[N-1],ec=el>>>13,ed=8191&el,ef=(1<<L)-1,eh=new tB(32768),ep=new tB(ef+1),eg=Math.ceil(L/3),em=2*eg,b=function(N){return(A[N]^A[N+1]<<eg^A[N+2]<<em)&ef},ev=new tQ(25e3),ey=new tB(288),e_=new tB(32),eb=0,ew=0,ex=(es=0,0),eE=0,ek=0;es<er;++es){var eS=b(es),eC=32767&es,eA=ep[eS];if(eh[eC]=eA,ep[eS]=eC,eE<=es){var e$=er-es;if((eb>7e3||ex>24576)&&e$>423){ea=Dn(A,eo,0,ev,ey,e_,ew,ex,ek,es-ek,ea),ex=eb=ew=0,ek=es;for(var eP=0;eP<286;++eP)ey[eP]=0;for(eP=0;eP<30;++eP)e_[eP]=0}var eT=2,eI=0,eO=ed,eR=eC-eA&32767;if(e$>2&&eS==b(es-eR))for(var eM=Math.min(ec,e$)-1,eD=Math.min(32767,es),eF=Math.min(258,e$);eR<=eD&&--eO&&eC!=eA;){if(A[es+eT]==A[es+eT-eR]){for(var eN=0;eN<eF&&A[es+eN]==A[es+eN-eR];++eN);if(eN>eT){if(eT=eN,eI=eR,eN>eM)break;var eL=Math.min(eR,eN-2),eq=0;for(eP=0;eP<eL;++eP){var ej=es-eR+eP+32768&32767,eB=ej-eh[ej]+32768&32767;eB>eq&&(eq=eB,eA=ej)}}}eR+=(eC=eA)-(eA=eh[eC])+32768&32767}if(eI){ev[ex++]=268435456|tV[eT]<<18|tW[eI];var eQ=31&tV[eT],eH=31&tW[eI];ew+=tH[eQ]+tG[eH],++ey[257+eQ],++e_[eH],eE=es+eT,++eb}else ev[ex++]=A[es],++ey[A[es]]}}ea=Dn(A,eo,et,ev,ey,e_,ew,ex,ek,es-ek,ea),et||(ea=An(eo,ea,t8))}return Rn(ei,0,B+xn(ea)+V)}(A,null==B.level?6:B.level,null==B.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(A.length)))):12+B.mem,V,8,!0)),eo=ei.length;return Vn(ei,N),Hn(ei,eo-8,et.d()),Hn(ei,eo-4,er),ei}function Gn(A,N){var L=A.length;if(!N&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(A);for(var B=new tj(A.length+(A.length>>>1)),V=0,o=function(A){B[V++]=A},et=0;et<L;++et){if(V+5>B.length){var er=new tj(V+8+(L-et<<1));er.set(B),B=er}var ei=A.charCodeAt(et);ei<128||N?o(ei):(ei<2048?o(192|ei>>>6):(ei>55295&&ei<57344?(o(240|(ei=65536+(1047552&ei)|1023&A.charCodeAt(++et))>>>18),o(128|ei>>>12&63)):o(224|ei>>>12),o(128|ei>>>6&63)),o(128|63&ei))}return Rn(B,0,V)}(ra=t2||(t2={})).GZipJS="gzip-js",ra.Base64="base64";var zn=function(A,N,L){var B=N||{};B.ip=L.ip?1:0,B._=(new Date).getTime().toString(),B.ver=ew.LIB_VERSION;var V=A.split("?");if(V.length>1){var et,er=v(V[1].split("&"));try{for(er.s();!(et=er.n()).done;){var ei=et.value.split("=")[0];R(B[ei])||delete B[ei]}}catch(A){er.e(A)}finally{er.f()}}var eo=A.indexOf("?")>-1?"&":"?";return A+eo+function(A){var N,L,B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",V=[];return G(A,function(A,B){R(A)||R(B)||"undefined"===B||(N=encodeURIComponent(A.toString()),L=encodeURIComponent(B),V[V.length]=L+"="+N)}),V.join(B)}(B)},Yn=function e(A,N){var L;if(N.blob&&A.buffer)return new Blob([F(A)?A:A.buffer],{type:"text/plain"});if(N.sendBeacon||N.blob){var B=e(A,{method:"POST"});return new Blob([B],{type:"application/x-www-form-urlencoded"})}return"POST"!==N.method?null:(L=eC(A)||F(A)?"data="+encodeURIComponent(A):"data="+encodeURIComponent(A.data),"compression"in A&&A.compression&&(L+="&compression="+A.compression),L)},Qn=function(A){var N=A.url,L=A.data,B=A.headers,V=A.options,et=A.callback,er=A.retriesPerformedSoFar,ei=A.retryQueue,eo=A.onXHRError,ea=A.timeout,es=A.onResponse;O(er)&&er>0&&(N=zn(N,{retry_count:er},{}));var eu=new XMLHttpRequest;eu.open(V.method||"GET",N,!0);var el=Yn(L,V);G(B,function(A,N){eu.setRequestHeader(N,A)}),"POST"!==V.method||V.blob||eu.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),eu.timeout=void 0===ea?6e4:ea,eu.withCredentials=!0,eu.onreadystatechange=function(){if(4===eu.readyState){if(null==es||es(eu),200===eu.status){if(et){var A;try{A=JSON.parse(eu.responseText)}catch(A){return void eF.error(A)}et(A)}}else P(eo)&&eo(eu),(eu.status<400||eu.status>500)&&ei.enqueue({url:N,data:L,options:V,headers:B,retriesPerformedSoFar:(er||0)+1,callback:et}),null==et||et({status:0})}},eu.send(el)},t7=function(A){a(i,tL);var N=h(i);function i(A,L){var B;return r(this,i),(B=N.call(this)).isPolling=!1,B.queue=[],B.areWeOnline=!0,B.onXHRError=A,B.rateLimiter=L,!R(eT)&&"onLine"in eT.navigator&&(B.areWeOnline=eT.navigator.onLine,eT.addEventListener("online",function(){B._handleWeAreNowOnline()}),eT.addEventListener("offline",function(){B.areWeOnline=!1})),B}return o(i,[{key:"enqueue",value:function(A){var N=A.retriesPerformedSoFar||0;if(!(N>=10)){var L,B,V,et=(V=(Math.random()-.5)*((B=Math.min(18e5,L=3e3*Math.pow(2,N)))-L/2),Math.ceil(B+V)),er=new Date(Date.now()+et);this.queue.push({retryAt:er,requestData:A});var ei="Enqueued failed request for retry in ".concat(et);navigator.onLine||(ei+=" (Browser is offline)"),eF.warn(ei),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var A=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){A.areWeOnline&&A.queue.length>0&&A.flush(),A.poll()},this._pollInterval)}},{key:"flush",value:function(){var A=new Date(Date.now()),N=this.queue.filter(function(N){return N.retryAt<A});if(N.length>0){this.queue=this.queue.filter(function(N){return N.retryAt>=A});var L,B=v(N);try{for(B.s();!(L=B.n()).done;){var V=L.value.requestData;this._executeXhrRequest(V)}}catch(A){B.e(A)}finally{B.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var A,N=v(this.queue);try{for(N.s();!(A=N.n()).done;){var L=A.value.requestData,B=L.url,V=L.data,et=L.options;if(this.rateLimiter.isRateLimited(et._batchKey))eF.warn("[RetryQueue] is quota limited. Dropping request.");else try{null==eT||eT.navigator.sendBeacon(B,Yn(V,t(t({},et),{},{sendBeacon:!0})))}catch(A){eF.error(A)}}}catch(A){N.e(A)}finally{N.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(A){var N=A.url,L=A.data,B=A.options,V=A.headers,et=A.callback,er=A.retriesPerformedSoFar;this.rateLimiter.isRateLimited(B._batchKey)||Qn({url:N,data:L||{},options:B||{},headers:V||{},retriesPerformedSoFar:er||0,callback:et,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),i}(),t9=function(){function e(A,N,L,B){r(this,e),s(this,"_sessionIdChangedHandlers",[]),this.config=A,this.persistence=N,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=L||nt,this._windowIdGenerator=B||nt;var V=A.persistence_name||A.token,et=A.session_idle_timeout_seconds||1800;if(O(et)?et>1800?eF.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):et<60&&eF.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(eF.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),et=1800),this._sessionTimeoutMs=1e3*Math.min(Math.max(et,60),1800),this._window_id_storage_key="ph_"+V+"_window_id",this._primary_window_exists_storage_key="ph_"+V+"_primary_window_exists",this._canUseSessionStorage()){var er=t_.parse(this._window_id_storage_key),ei=t_.parse(this._primary_window_exists_storage_key);er&&!ei?this._windowId=er:t_.remove(this._window_id_storage_key),t_.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return o(e,[{key:"onSessionId",value:function(A){var N=this;return R(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(A),this._sessionId&&A(this._sessionId,this._windowId),function(){N._sessionIdChangedHandlers=N._sessionIdChangedHandlers.filter(function(N){return N!==A})}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&t_.is_supported()}},{key:"_setWindowId",value:function(A){A!==this._windowId&&(this._windowId=A,this._canUseSessionStorage()&&t_.set(this._window_id_storage_key,A))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?t_.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(A,N,L){A===this._sessionId&&N===this._sessionActivityTimestamp&&L===this._sessionStartTimestamp||(this._sessionStartTimestamp=L,this._sessionActivityTimestamp=N,this._sessionId=A,this.persistence.register(s({},eY,[N,A,L])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var A=this.persistence.props[eY];return eC(A)&&2===A.length&&A.push(A[0]),A||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var A=this;null==eT||eT.addEventListener("beforeunload",function(){A._canUseSessionStorage()&&t_.remove(A._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var A=arguments.length>0&&void 0!==arguments[0]&&arguments[0],N=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),L=f(this._getSessionId(),3),B=L[0],V=L[1],et=L[2],er=this._getWindowId(),ei=et&&et>0&&Math.abs(N-et)>864e5,eo=!1,ea=!V,es=!A&&Math.abs(N-B)>this._sessionTimeoutMs;ea||es||ei?(V=this._sessionIdGenerator(),er=this._windowIdGenerator(),et=N,eo=!0):er||(er=this._windowIdGenerator(),eo=!0);var eu=0===B||!A||ei?N:B,el=0===et?(new Date).getTime():et;return this._setWindowId(er),this._setSessionId(V,eu,el),eo&&this._sessionIdChangedHandlers.forEach(function(A){return A(V,er)}),{sessionId:V,windowId:er,sessionStartTimestamp:el}}}]),e}(),ri=o(function e(A,N,L,B){r(this,e),this.name="posthog-js",this.setupOnce=function(V){V(function(V){if("error"!==V.level||!A.__loaded)return V;V.tags||(V.tags={});var et,er,ei,eo,ea,es=A.config.ui_host||A.config.api_host;V.tags["PostHog Person URL"]=es+"/person/"+A.get_distinct_id(),A.sessionRecordingStarted()&&(V.tags["PostHog Recording URL"]=A.get_session_replay_url({withTimestamp:!0}));var eu=(null===(et=V.exception)||void 0===et?void 0:et.values)||[],el={$exception_message:null===(er=eu[0])||void 0===er?void 0:er.value,$exception_type:null===(ei=eu[0])||void 0===ei?void 0:ei.type,$exception_personURL:es+"/person/"+A.get_distinct_id(),$sentry_event_id:V.event_id,$sentry_exception:V.exception,$sentry_exception_message:null===(eo=eu[0])||void 0===eo?void 0:eo.value,$sentry_exception_type:null===(ea=eu[0])||void 0===ea?void 0:ea.type,$sentry_tags:V.tags};return N&&L&&(el.$sentry_url=(B||"https://sentry.io/organizations/")+N+"/issues/?project="+L+"&query="+V.event_id),A.capture("$exception",el),V})}}),rr=function(A){Promise&&Promise.resolve||eF.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(N,L){N.event.userId||N.event.anonymousId===A.get_distinct_id()||A.reset(),N.event.userId&&N.event.userId!==A.get_distinct_id()&&(A.register({distinct_id:N.event.userId}),A.reloadFeatureFlags());var B=A._calculate_event_properties(L,N.event.properties);return N.event.properties=Object.assign({},B,N.event.properties),N};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(A){return t(A,A.event.event)},page:function(A){return t(A,"$pageview")},identify:function(A){return t(A,"$identify")},screen:function(A){return t(A,"$screen")}}},ro=function(){function e(){var A=this;r(this,e),s(this,"_hasSeenPageView",!1),s(this,"_updateScrollData",function(){A._pageViewData||(A._pageViewData=A._createPageViewData());var N,L,B,V,et=A._pageViewData,er=A._scrollY(),ei=A._scrollHeight(),eo=A._contentY(),ea=A._contentHeight();et.lastScrollY=er,et.maxScrollY=Math.max(er,null!==(N=et.maxScrollY)&&void 0!==N?N:0),et.maxScrollHeight=Math.max(ei,null!==(L=et.maxScrollHeight)&&void 0!==L?L:0),et.lastContentY=eo,et.maxContentY=Math.max(eo,null!==(B=et.maxContentY)&&void 0!==B?B:0),et.maxContentHeight=Math.max(ea,null!==(V=et.maxContentHeight)&&void 0!==V?V:0)})}return o(e,[{key:"_createPageViewData",value:function(){var A;return{pathname:null!==(A=null==eT?void 0:eT.location.pathname)&&void 0!==A?A:""}}},{key:"doPageView",value:function(){var A,N;return this._hasSeenPageView?(N=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,N=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),t({$prev_pageview_pathname:null===(A=N)||void 0===A?void 0:A.pathname},this._calculatePrevPageScrollProperties(N))}},{key:"doPageLeave",value:function(){var A=this._pageViewData;return t({$prev_pageview_pathname:null==A?void 0:A.pathname},this._calculatePrevPageScrollProperties(A))}},{key:"_calculatePrevPageScrollProperties",value:function(A){if(!A||null==A.maxScrollHeight||null==A.lastScrollY||null==A.maxScrollY||null==A.maxContentHeight||null==A.lastContentY||null==A.maxContentY)return{};var N=A.maxScrollHeight,L=A.lastScrollY,B=A.maxScrollY,V=A.maxContentHeight,et=A.lastContentY,er=A.maxContentY;return N=Math.ceil(N),L=Math.ceil(L),B=Math.ceil(B),V=Math.ceil(V),et=Math.ceil(et),er=Math.ceil(er),{$prev_pageview_last_scroll:L,$prev_pageview_last_scroll_percentage:N<=1?1:or(L/N,0,1),$prev_pageview_max_scroll:B,$prev_pageview_max_scroll_percentage:N<=1?1:or(B/N,0,1),$prev_pageview_last_content:et,$prev_pageview_last_content_percentage:V<=1?1:or(et/V,0,1),$prev_pageview_max_content:er,$prev_pageview_max_content_percentage:V<=1?1:or(er/V,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){null==eT||eT.addEventListener("scroll",this._updateScrollData),null==eT||eT.addEventListener("scrollend",this._updateScrollData),null==eT||eT.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){null==eT||eT.removeEventListener("scroll",this._updateScrollData),null==eT||eT.removeEventListener("scrollend",this._updateScrollData),null==eT||eT.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return eT?Math.max(0,eT.document.documentElement.scrollHeight-eT.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return eT&&(eT.scrollY||eT.pageYOffset||eT.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(null==eT?void 0:eT.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var A=(null==eT?void 0:eT.document.documentElement.clientHeight)||0;return this._scrollY()+A}}]),e}();function or(A,N,L){return Math.max(N,Math.min(A,L))}var ra,rs,ru,rl,rc={icontains:function(A){return!!eT&&eT.location.href.toLowerCase().indexOf(A.toLowerCase())>-1},regex:function(A){var N;return!!eT&&(N=eT.location.href,!!function(A){try{new RegExp(A)}catch(A){return!1}return!0}(A)&&new RegExp(A).test(N))},exact:function(A){return(null==eT?void 0:eT.location.href)===A}},rd=function(){function e(A){r(this,e),this.instance=A}return o(e,[{key:"getSurveys",value:function(A){var N=this,L=arguments.length>1&&void 0!==arguments[1]&&arguments[1],B=this.instance.get_property(e2);if(B&&!L)return A(B);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(L){var B,V=L.surveys||[];return null===(B=N.instance.persistence)||void 0===B||B.register(s({},e2,V)),A(V)})}},{key:"getActiveMatchingSurveys",value:function(A){var N=this,L=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys(function(L){return A(L.filter(function(A){return!(!A.start_date||A.end_date)}).filter(function(A){if(!A.conditions)return!0;var N,L,B,V,et=null===(N=A.conditions)||void 0===N||!N.url||rc[null!==(L=null===(B=A.conditions)||void 0===B?void 0:B.urlMatchType)&&void 0!==L?L:"icontains"](A.conditions.url),er=null===(V=A.conditions)||void 0===V||!V.selector||(null==eO?void 0:eO.querySelector(A.conditions.selector));return et&&er}).filter(function(A){if(!A.linked_flag_key&&!A.targeting_flag_key)return!0;var L=!A.linked_flag_key||N.instance.featureFlags.isFeatureEnabled(A.linked_flag_key),B=!A.targeting_flag_key||N.instance.featureFlags.isFeatureEnabled(A.targeting_flag_key);return L&&B}))},L)}}]),e}(),rf=function(){function e(){var A=this;r(this,e),s(this,"limits",{}),s(this,"checkForLimiting",function(N){try{var L=N.responseText;if(!L||!L.length)return;(JSON.parse(L).quota_limited||[]).forEach(function(N){eF.info("[RateLimiter] ".concat(N||"events"," is quota limited.")),A.limits[N]=(new Date).getTime()+6e4})}catch(A){return void eF.error(A)}})}return o(e,[{key:"isRateLimited",value:function(A){var N=this.limits[A||"events"]||!1;return!1!==N&&(new Date).getTime()<N}}]),e}(),fr=function(){return t({initialPathName:(null==eT?void 0:eT.location.pathname)||"",referringDomain:tw.referringDomain()},tw.campaignParams())},rh=function(){function e(A,N,L){var B=this;r(this,e),s(this,"_onSessionIdCallback",function(A){var N=B._getStoredProps();if(!N||N.sessionId!==A){var L={sessionId:A,props:B._sessionSourceParamGenerator()};B._persistence.register(s({},e8,L))}}),this._sessionIdManager=A,this._persistence=N,this._sessionSourceParamGenerator=L||fr,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return o(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[e8]}},{key:"getSessionProps",value:function(){var A,N=null===(A=this._getStoredProps())||void 0===A?void 0:A.props;return N?{$client_session_initial_referring_host:N.referringDomain,$client_session_initial_pathname:N.initialPathName,$client_session_initial_utm_source:N.utm_source,$client_session_initial_utm_campaign:N.utm_campaign,$client_session_initial_utm_medium:N.utm_medium,$client_session_initial_utm_content:N.utm_content,$client_session_initial_utm_term:N.utm_term}:{}}}]),e}(),rp=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],gr=function(A,N){if(!A)return!1;var L=A.toLowerCase();return rp.concat(N||[]).some(function(A){var N=A.toLowerCase();return L.includes?L.includes(N):-1!==L.indexOf(N)})};(rw=rs||(rs={}))[rw.INIT_MODULE=0]="INIT_MODULE",rw[rw.INIT_SNIPPET=1]="INIT_SNIPPET";var vr=function(){},rg={},rm="posthog",rv=(null==eT?void 0:eT.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,ry=!rv&&-1===(null==eR?void 0:eR.indexOf("MSIE"))&&-1===(null==eR?void 0:eR.indexOf("Mozilla")),wr=function(){var A,N,L;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:!!E(L=null==(N=null==eO?void 0:eO.location)?void 0:N.hostname)&&"herokuapp.com"!==L.split(".").slice(-2).join("."),persistence:"localStorage+cookie",persistence_name:"",cookie_name:"",loaded:vr,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==eT||null===(A=eT.location)||void 0===A?void 0:A.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(A){var N="Bad HTTP status: "+A.status+" "+A.statusText;eF.error(N)},get_device_id:function(A){return A},_onCapture:vr,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Sr=function(A,N,L,B){var V,et=L!==rm&&rl?L?rl[L]:void 0:rl,er={initComplete:!1,syncCode:!1},a=function(A){return function(N){er[A]||(er[A]=!0,er.initComplete&&er.syncCode&&(null==B||B(N)))}};if(et&&ru===rs.INIT_MODULE)V=et;else{if(et&&!eC(et))return void eF.error("You have already initialized "+L);V=new rb}return V._init(A,N,L,a("initComplete")),V.toolbar.maybeLoadToolbar(),V.sessionRecording=new tO(V),V.sessionRecording.startRecordingIfEnabled(),V.config.__preview_measure_pageview_stats&&V.pageViewManager.startMeasuringScrollPosition(),V.__autocapture=V.config.autocapture,e7._setIsAutocaptureEnabled(V),e7._isAutocaptureEnabled&&(V.__autocapture=V.config.autocapture,e7.enabledForProject(V.config.token,100,100)?e7.isBrowserSupported()?e7.init(V):(V.__autocapture=!1,eF.info("Disabling Automatic Event Collection because this browser is not supported")):(V.__autocapture=!1,eF.info("Not in active bucket: disabling Automatic Event Collection."))),ew.DEBUG=ew.DEBUG||V.config.debug,!R(et)&&eC(et)&&(V._execute_array.call(V.people,et.people),V._execute_array(et)),a("syncCode")(V),V},r_=function(){function e(){r(this,e),s(this,"__forceAllowLocalhost",!1)}return o(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(A){eF.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=A}}]),e}(),rb=function(){function e(){var A=this;r(this,e),s(this,"webPerformance",new r_),this.config=wr(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=ri,this.segmentIntegration=function(){return rr(A)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.elementsChainAsString=!1,this.featureFlags=new ti(this),this.toolbar=new tN(this),this.pageViewManager=new ro,this.surveys=new rd(this),this.rateLimiter=new rf,this.people={set:function(N,L,B){var V=E(N)?s({},N,L):N;A.setPersonProperties(V),null==B||B({})},set_once:function(N,L,B){var V=E(N)?s({},N,L):N;A.setPersonProperties(void 0,V),null==B||B({})}}}return o(e,[{key:"init",value:function(A,N,L){if(R(L))eF.critical("You must name your new library: init(token, config, name)");else{if(L!==rm){var B=Sr(A,N,L,function(A){rl[L]=A,A._loaded()});return rl[L]=B,B}eF.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(A){var N,L,B,V=this,et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},er=arguments.length>2?arguments[2]:void 0,ei=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var eo,ea={segmentRegister:!1,syncCode:!1},d=function(A){return function(){ea[A]||(ea[A]=!0,ea.segmentRegister&&ea.syncCode&&(null==ei||ei(V)))}};if(this.set_config(z({},wr(),et,{name:er,token:A,callback_fn:(er===rm?er:rm+"."+er)+"._jsc"})),this._jsc=function(){},(null!=eT&&null!==(N=eT.rrweb)&&void 0!==N&&N.record||null!=eT&&eT.rrwebRecord)&&(this.__loaded_recorder_version=null==eT||null===(eo=eT.rrweb)||void 0===eo?void 0:eo.version),this.persistence=new tE(this.config),this._requestQueue=new tq(this._handle_queued_event.bind(this)),this._retryQueue=new t7(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new t9(this.config,this.persistence),this.sessionPropsManager=new rh(this.sessionManager,this.persistence),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new tE(t(t({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),et.segment?(this.config.get_device_id=function(){return et.segment.user().anonymousId()},et.segment.user().id()&&(this.register({distinct_id:et.segment.user().id()}),this.persistence.set_user_state("identified")),et.segment.register(this.segmentIntegration()).then(d("segmentRegister"))):d("segmentRegister")(),void 0!==(null===(L=et.bootstrap)||void 0===L?void 0:L.distinctID)){var es,eu,el=this.config.get_device_id(nt()),ec=null!==(es=et.bootstrap)&&void 0!==es&&es.isIdentifiedID?el:et.bootstrap.distinctID;this.persistence.set_user_state(null!==(eu=et.bootstrap)&&void 0!==eu&&eu.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:et.bootstrap.distinctID,$device_id:ec})}if(this._hasBootstrappedFeatureFlags()){var ed,ef,eh=Object.keys((null===(ed=et.bootstrap)||void 0===ed?void 0:ed.featureFlags)||{}).filter(function(A){var N,L;return!(null===(N=et.bootstrap)||void 0===N||null===(L=N.featureFlags)||void 0===L||!L[A])}).reduce(function(A,N){var L,B;return A[N]=(null===(L=et.bootstrap)||void 0===L||null===(B=L.featureFlags)||void 0===B?void 0:B[N])||!1,A},{}),ep=Object.keys((null===(ef=et.bootstrap)||void 0===ef?void 0:ef.featureFlagPayloads)||{}).filter(function(A){return eh[A]}).reduce(function(A,N){var L,B,V,er;return null!==(L=et.bootstrap)&&void 0!==L&&null!==(B=L.featureFlagPayloads)&&void 0!==B&&B[N]&&(A[N]=null===(V=et.bootstrap)||void 0===V||null===(er=V.featureFlagPayloads)||void 0===er?void 0:er[N]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:eh,featureFlagPayloads:ep})}if(!this.get_distinct_id()){var eg=this.config.get_device_id(nt());this.register_once({distinct_id:eg,$device_id:eg},""),this.persistence.set_user_state("anonymous")}null==eT||null===(B=eT.addEventListener)||void 0===B||B.call(eT,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),d("syncCode")()}},{key:"_afterDecideResponse",value:function(A){var N;if(this.compression={},A.supportedCompression&&!this.config.disable_compression){var L,B={},V=v(A.supportedCompression);try{for(V.s();!(L=V.n()).done;)B[L.value]=!0}catch(A){V.e(A)}finally{V.f()}this.compression=B}null!==(N=A.analytics)&&void 0!==N&&N.endpoint&&(this.analyticsDefaultEndpoint=A.analytics.endpoint),A.elementsChainAsString&&(this.elementsChainAsString=A.elementsChainAsString)}},{key:"_loaded",value:function(){var A=this.config.advanced_disable_decide;A||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(A){eF.critical("`loaded` function failed",A)}this._start_queue_if_opted_in(),this.config.capture_pageview&&eO&&this.capture("$pageview",{title:eO.title},{send_instantly:!0}),A||(new tR(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var A;this.has_opted_out_capturing()||this.config.request_batching&&(null===(A=this._requestQueue)||void 0===A||A.poll())}},{key:"_dom_loaded",value:function(){var A=this;this.has_opted_out_capturing()||W(this.__request_queue,function(N){A._send_request.apply(A,p(N))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(A,N){if(R(A))return null;if(rv)return function(L){A(L,N)};var L=this._jsc,B=""+Math.floor(1e8*Math.random()),V=this.config.callback_fn+"["+B+"]";return L[B]=function(V){delete L[B],A(V,N)},V}},{key:"_handle_unload",value:function(){var A,N;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),null===(A=this._requestQueue)||void 0===A||A.unload(),null===(N=this._retryQueue)||void 0===N||N.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(A,N,L){var B=JSON.stringify(N);this.__compress_and_send_json_request(A,B,L||rg,vr)}},{key:"__compress_and_send_json_request",value:function(A,N,L,B){var V=f((this.compression[t2.GZipJS]?t2.GZipJS:t2.Base64)===t2.GZipJS?[Wn(Gn(N),{mtime:0}),t(t({},L),{},{blob:!0,urlQueryArgs:{compression:t2.GZipJS}})]:[{data:ne(N)},L],2),et=V[0],er=V[1];this._send_request(A,et,er,B)}},{key:"_send_request",value:function(A,N,L,B){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(L._batchKey)){if(ry)this.__request_queue.push([A,N,L,B]);else{L=z({method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose},L||{}),rv||(L.method="GET");var V=eT&&"sendBeacon"in eT.navigator&&"sendBeacon"===L.transport;if(A=zn(A,L.urlQueryArgs||{},{ip:this.config.ip}),V)try{null==eT||eT.navigator.sendBeacon(A,Yn(N,t(t({},L),{},{sendBeacon:!0})))}catch(A){}else if(rv||!eO)try{Qn({url:A,data:N,headers:this.config.xhr_headers,options:L,callback:B,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(A){eF.error(A)}else{var et,er=eO.createElement("script");er.type="text/javascript",er.async=!0,er.defer=!0,er.src=A;var ei=eO.getElementsByTagName("script")[0];null===(et=ei.parentNode)||void 0===et||et.insertBefore(er,ei)}}}}},{key:"_execute_array",value:function(A){var N,L=this,B=[],V=[],et=[];W(A,function(A){A&&(eC(N=A[0])?et.push(A):P(A)?A.call(L):eC(A)&&"alias"===N?B.push(A):eC(A)&&-1!==N.indexOf("capture")&&P(L[N])?et.push(A):V.push(A))});var s=function(A,N){W(A,function(A){if(eC(A[0])){var L=N;G(A,function(A){L=L[A[0]].apply(L,A.slice(1))})}else this[A[0]].apply(this,A.slice(1))},N)};s(B,this),s(V,this),s(et,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var A,N;return(null===(A=this.config.bootstrap)||void 0===A?void 0:A.featureFlags)&&Object.keys(null===(N=this.config.bootstrap)||void 0===N?void 0:N.featureFlags).length>0||!1}},{key:"push",value:function(A){this._execute_array([A])}},{key:"capture",value:function(A,N){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rg;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return eF.uninitializedWarning("posthog.capture");if(!function(A){var N=!1;try{var L=A.config.token,B=A.config.respect_dnt,V=A.config.opt_out_capturing_persistence_type,et=A.config.opt_out_capturing_cookie_prefix||void 0,er=A.config.window;L&&(N=Kt(L,{respectDnt:B,persistenceType:V,persistencePrefix:et,window:er}))}catch(A){eF.error("Unexpected error when checking capturing opt-out status: "+A)}return N}(this)){var B=(L=L||rg).transport;if(B&&(L.transport=B),!R(A)&&E(A)){if(!eR||!gr(eR,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var V={uuid:nt(),event:A,properties:this._calculate_event_properties(A,N||{})};"$identify"===A&&(V.$set=L.$set,V.$set_once=L.$set_once),(V=te(V,L._noTruncate?null:this.config.properties_string_max_length)).timestamp=L.timestamp||new Date;var et=t(t({},V.properties.$set),V.$set);x(et)||this.setPersonPropertiesForFlags(et),eF.info("send",V);var er=JSON.stringify(V),ei=this.config.api_host+(L.endpoint||this.analyticsDefaultEndpoint),eo=L!==rg;return!this.config.request_batching||eo&&!L._batchKey||L.send_instantly?this.__compress_and_send_json_request(ei,er,L):this._requestQueue.enqueue(ei,V,L),this._invokeCaptureHooks(A,V),V}}else eF.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(A){this.__captureHooks.push(A)}},{key:"_invokeCaptureHooks",value:function(A,N){this.config._onCapture(A,N),G(this.__captureHooks,function(N){return N(A)})}},{key:"_calculate_event_properties",value:function(A,N){if(!this.persistence||!this.sessionPersistence)return N;var L=this.persistence.remove_event_timer(A),B=t({},N);if(B.token=this.config.token,"$snapshot"===A){var V=t(t({},this.persistence.properties()),this.sessionPersistence.properties());return B.distinct_id=V.distinct_id,B}var et=tw.properties();if(this.sessionManager){var er=this.sessionManager.checkAndGetSessionAndWindowId(),ei=er.sessionId,eo=er.windowId;B.$session_id=ei,B.$window_id=eo}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===A||"$pageleave"===A||"$autocapture"===A)){var ea=this.sessionPropsManager.getSessionProps();B=z(B,ea)}if(this.config.__preview_measure_pageview_stats){var es={};"$pageview"===A?es=this.pageViewManager.doPageView():"$pageleave"===A&&(es=this.pageViewManager.doPageLeave()),B=z(B,es)}if("$pageview"===A&&eO&&(B.title=eO.title),"$performance_event"===A){var eu=this.persistence.properties();return B.distinct_id=eu.distinct_id,B.$current_url=et.$current_url,B}if(!R(L)){var el=(new Date).getTime()-L;B.$duration=parseFloat((el/1e3).toFixed(3))}B=z({},tw.properties(),this.persistence.properties(),this.sessionPersistence.properties(),B);var ec=this.config.property_blacklist;eC(ec)?G(ec,function(A){delete B[A]}):eF.error("Invalid value for property_blacklist config: "+ec);var ed=this.config.sanitize_properties;return ed&&(B=ed(B,A)),B}},{key:"register",value:function(A,N){var L;null===(L=this.persistence)||void 0===L||L.register(A,N)}},{key:"register_once",value:function(A,N,L){var B;null===(B=this.persistence)||void 0===B||B.register_once(A,N,L)}},{key:"register_for_session",value:function(A){var N;null===(N=this.sessionPersistence)||void 0===N||N.register(A)}},{key:"unregister",value:function(A){var N;null===(N=this.persistence)||void 0===N||N.unregister(A)}},{key:"unregister_for_session",value:function(A){var N;null===(N=this.sessionPersistence)||void 0===N||N.unregister(A)}},{key:"_register_single",value:function(A,N){this.register(s({},A,N))}},{key:"getFeatureFlag",value:function(A,N){return this.featureFlags.getFeatureFlag(A,N)}},{key:"getFeatureFlagPayload",value:function(A){var N=this.featureFlags.getFeatureFlagPayload(A);try{return JSON.parse(N)}catch(A){return N}}},{key:"isFeatureEnabled",value:function(A,N){return this.featureFlags.isFeatureEnabled(A,N)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(A,N){this.featureFlags.updateEarlyAccessFeatureEnrollment(A,N)}},{key:"getEarlyAccessFeatures",value:function(A){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(A,N)}},{key:"onFeatureFlags",value:function(A){return this.featureFlags.onFeatureFlags(A)}},{key:"onSessionId",value:function(A){var N,L;return null!==(N=null===(L=this.sessionManager)||void 0===L?void 0:L.onSessionId(A))&&void 0!==N?N:function(){}}},{key:"getSurveys",value:function(A){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(A,N)}},{key:"getActiveMatchingSurveys",value:function(A){var N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(A,N)}},{key:"identify",value:function(A,N,L){if(!this.__loaded||!this.persistence)return eF.uninitializedWarning("posthog.identify");if(A){if(["distinct_id","distinctid"].includes(A.toLowerCase()))eF.critical('The string "'.concat(A,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else{var B=this.get_distinct_id();this.register({$user_id:A}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:B},""),A!==B&&A!==this.get_property(eH)&&(this.unregister(eH),this.register({distinct_id:A}));var V="anonymous"===this.persistence.get_user_state();A!==B&&V?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(N||{},!1),this.capture("$identify",{distinct_id:A,$anon_distinct_id:B},{$set:N||{},$set_once:L||{}}),this.featureFlags.setAnonymousDistinctId(B)):(N||L)&&this.setPersonProperties(N,L),A!==B&&(this.reloadFeatureFlags(),this.unregister(e5))}}else eF.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(A,N){(A||N)&&(this.setPersonPropertiesForFlags(A||{}),this.capture("$set",{$set:A||{},$set_once:N||{}}))}},{key:"group",value:function(A,N,L){if(A&&N){var B=this.getGroups();B[A]!==N&&this.resetGroupPropertiesForFlags(A),this.register({$groups:t(t({},B),{},s({},A,N))}),L&&(this.capture("$groupidentify",{$group_type:A,$group_key:N,$group_set:L}),this.setGroupPropertiesForFlags(s({},A,L))),B[A]===N||L||this.reloadFeatureFlags()}else eF.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(A){var N=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(A,N)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(A){var N=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setGroupPropertiesForFlags(A,N)}},{key:"resetGroupPropertiesForFlags",value:function(A){this.featureFlags.resetGroupPropertiesForFlags(A)}},{key:"reset",value:function(A){if(!this.__loaded)return eF.uninitializedWarning("posthog.reset");var N,L,B,V,et=this.get_property("$device_id");null===(N=this.persistence)||void 0===N||N.clear(),null===(L=this.sessionPersistence)||void 0===L||L.clear(),null===(B=this.persistence)||void 0===B||B.set_user_state("anonymous"),null===(V=this.sessionManager)||void 0===V||V.resetSessionId();var er=this.config.get_device_id(nt());this.register_once({distinct_id:er,$device_id:A?er:et},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var A,N;return null!==(A=null===(N=this.sessionManager)||void 0===N?void 0:N.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==A?A:""}},{key:"get_session_replay_url",value:function(A){if(!this.sessionManager)return"";var N=this.config.ui_host||this.config.api_host,L=this.sessionManager.checkAndGetSessionAndWindowId(!0),B=L.sessionId,V=L.sessionStartTimestamp,et=N+"/replay/"+B;if(null!=A&&A.withTimestamp&&V){var er,ei=null!==(er=A.timestampLookBack)&&void 0!==er?er:10;if(!V)return et;var eo=Math.max(Math.floor(((new Date).getTime()-V)/1e3)-ei,0);et+="?t=".concat(eo)}return et}},{key:"alias",value:function(A,N){return A===this.get_property(eQ)?(eF.critical("Attempting to create alias for existing People user - aborting."),-2):(R(N)&&(N=this.get_distinct_id()),A!==N?(this._register_single(eH,A),this.capture("$create_alias",{alias:A,distinct_id:N})):(eF.warn("alias matches current distinct_id - skipping api call."),this.identify(A),-1))}},{key:"set_config",value:function(A){var N,L,B=t({},this.config);I(A)&&(z(this.config,A),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),this.config.api_host=this.config.api_host.replace(/\/$/,""),null===(N=this.persistence)||void 0===N||N.update_config(this.config),null===(L=this.sessionPersistence)||void 0===L||L.update_config(this.config),th.is_supported()&&"true"===th.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(ew.DEBUG=!0),this.sessionRecording&&!R(A.disable_session_recording)&&B.disable_session_recording!==A.disable_session_recording&&(A.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var A;return!(null===(A=this.sessionRecording)||void 0===A||!A.started)}},{key:"loadToolbar",value:function(A){return this.toolbar.loadToolbar(A)}},{key:"get_property",value:function(A){var N;return null===(N=this.persistence)||void 0===N?void 0:N.props[A]}},{key:"getSessionProperty",value:function(A){var N;return null===(N=this.sessionPersistence)||void 0===N?void 0:N.props[A]}},{key:"toString",value:function(){var A,N=null!==(A=this.config.name)&&void 0!==A?A:rm;return N!==rm&&(N=rm+"."+N),N}},{key:"_gdpr_init",value:function(){"localStorage"===this.config.opt_out_capturing_persistence_type&&th.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_capturing()&&(this.config.opt_out_capturing_by_default||td.get("ph_optout"))&&(td.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(A){var N,L,B,V,et;if(A&&A.clear_persistence)B=!0;else{if(!A||!A.enable_persistence)return;B=!1}this.config.disable_persistence||(null===(N=this.persistence)||void 0===N?void 0:N.disabled)===B||null===(V=this.persistence)||void 0===V||V.set_disabled(B),this.config.disable_persistence||(null===(L=this.sessionPersistence)||void 0===L?void 0:L.disabled)===B||null===(et=this.sessionPersistence)||void 0===et||et.set_disabled(B)}},{key:"_gdpr_call_func",value:function(A,N){return N=z({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},N||{}),th.is_supported()||"localStorage"!==N.persistence_type||(N.persistence_type="cookie"),A(this.config.token,{capture:N.capture,captureEventName:N.capture_event_name,captureProperties:N.capture_properties,persistenceType:N.persistence_type,persistencePrefix:N.cookie_prefix,cookieExpiration:N.cookie_expiration,crossSubdomainCookie:N.cross_subdomain_cookie,secureCookie:N.secure_cookie})}},{key:"opt_in_capturing",value:function(A){A=z({enable_persistence:!0},A||{}),this._gdpr_call_func(Qt,A),this._gdpr_update_persistence(A)}},{key:"opt_out_capturing",value:function(A){var N=z({clear_persistence:!0},A||{});this._gdpr_call_func(Jt,N),this._gdpr_update_persistence(N)}},{key:"has_opted_in_capturing",value:function(A){return this._gdpr_call_func(Xt,A)}},{key:"has_opted_out_capturing",value:function(A){return this._gdpr_call_func(Kt,A)}},{key:"clear_opt_in_out_capturing",value:function(A){var N=z({enable_persistence:!0},null!=A?A:{});this._gdpr_call_func(Zt,N),this._gdpr_update_persistence(N)}},{key:"debug",value:function(A){!1===A?(null==eT||eT.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==eT||eT.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(A,N){for(var L=0;L<N.length;L++)A.prototype[N[L]]=K(A.prototype[N[L]])}(rb,["identify"]);var rw,rx,rE,rk={};(B=rx||(rx={})).Popover="popover",B.API="api",(V=rE||(rE={})).Open="open",V.MultipleChoice="multiple_choice",V.SingleChoice="single_choice",V.Rating="rating",V.Link="link";var rS=(ru=rs.INIT_MODULE,(rl=new rb).init=function(A,N,L){if(L)return rl[L]||(rl[L]=rk[L]=Sr(A||"",N||{},L,function(A){rl[L]=rk[L]=A,A._loaded()})),rl[L];var B=rl;return rk[rm]?B=rk[rm]:A&&(B=Sr(A,N||{},rm,function(A){rk[rm]=A,A._loaded()}),rk[rm]=B),rl=B,ru===rs.INIT_SNIPPET&&(eM[rm]=rl),G(rk,function(A,N){N!==rm&&(rl[N]=A)}),B},rl.init(),function(){function e(){e.done||(e.done=!0,ry=!1,G(rk,function(A){A._dom_loaded()}))}null!=eO&&eO.addEventListener&&("complete"===eO.readyState?e():eO.addEventListener("DOMContentLoaded",e,!1)),eT&&eq(eT,"load",e,!0)}(),rl),rC=(0,ea.createContext)({client:rS});function PostHogProvider(A){var N=A.children,L=A.client,B=A.apiKey,V=A.options,et=(0,ea.useMemo)(function(){return(L&&B&&console.warn("[PostHog.js] You have provided both a client and an apiKey to PostHogProvider. The apiKey will be ignored in favour of the client."),L&&V&&console.warn("[PostHog.js] You have provided both a client and options to PostHogProvider. The options will be ignored in favour of the client."),L)?L:(B&&(rS.__loaded&&console.warn("[PostHog.js] was already loaded elsewhere. This may cause issues."),rS.init(B,V)),rS)},[L,B]);return ea.createElement(rC.Provider,{value:{client:et}},N)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rA=L(65172);rS.init("phc_kOAY51KeH98Gw52O0Fic7BJJ5PE8jiUUTnNUiHMjBNP",{autocapture:!1,capture_pageview:!0,capture_pageleave:!0,capture_performance:!1,disable_session_recording:!0,api_host:"".concat(rA._O,"/ingest"),loaded:A=>{}});let r$="ChatKit",rP="Refined ChatGPT UI with amazing features";function Main(A){var N,L,B,V;let{children:ei}=A,eo=(0,eh.jp)(),es=(0,eh.A$)(),eu=(0,ev.b9)(ey.qQ),el=(0,em.useRouter)();return er.S.license.validateLicense.useQuery({licenseKey:null===(N=eo.data)||void 0===N?void 0:N.licenseKey,instanceId:null===(L=eo.data)||void 0===L?void 0:L.instanceId},{enabled:!!((null===(B=eo.data)||void 0===B?void 0:B.licenseKey)&&(null===(V=eo.data)||void 0===V?void 0:V.instanceId)),trpc:{context:{skipBatch:!0}},async onSuccess(A){A.error&&(await es(!1),await ep.Dw.cleaySyncStorageMeta(),(0,ec._)(A.error))},refetchInterval:3e5}),(0,ea.useEffect)(()=>{if(!el.isReady)return;let handler=()=>{eu(location.hash)};return handler(),el.events.on("hashChangeComplete",handler),el.events.on("routeChangeComplete",handler),()=>{el.events.off("hashChangeComplete",handler),el.events.off("routeChangeComplete",handler)}},[el.isReady]),(0,ea.useEffect)(()=>{let handleRouteChange=()=>null==rS?void 0:rS.capture("$pageview");return el.events.on("routeChangeComplete",handleRouteChange),()=>{el.events.off("routeChangeComplete",handleRouteChange)}},[]),(0,et.jsx)(et.Fragment,{children:ei})}function MyApp(A){let{Component:N,pageProps:L}=A,B=(0,ef.u)(),V=(0,em.useRouter)();return(0,es.v_)(),(0,ea.useEffect)(()=>{let A=window.matchMedia("(prefers-color-scheme: dark)"),update=()=>{let N=localStorage.getItem("theme");if(N&&"system"!==N){B(N);return}A.matches?(document.documentElement.classList.add("dark"),B("dark")):(document.documentElement.classList.remove("dark"),B("light"))};return update(),A.addEventListener("change",update),()=>{A.removeEventListener("change",update)}},[]),(0,ea.useEffect)(()=>{},[]),(0,ea.useEffect)(()=>{(0,eb.zX)()},[]),(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(eo.PB,{title:"".concat(rP," - ").concat(r$),description:rP,openGraph:{siteName:r$,title:r$,description:rP,images:[{url:"".concat("https://chatkit.app","/og.png")}]},twitter:{cardType:"summary_large_image"}}),(0,et.jsx)(el(),{children:(0,et.jsx)("meta",{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"})}),(0,et.jsx)(ed.pn,{delayDuration:0,disableHoverableContent:!0,children:(0,et.jsx)(eg.u,{children:(0,et.jsx)(e_.pG,{navigate:V.push,children:(0,et.jsx)(PostHogProvider,{client:rS,children:(0,et.jsx)(Main,{children:(0,et.jsx)(N,{...L})})})})})}),(0,et.jsx)(ei.x7,{containerClassName:"react-hot-toast",toastOptions:{className:"!shadow-sm dark:!shadow-lg border border-zinc-200 dark:border-zinc-700 dark:bg-zinc-800 dark:border dark:text-zinc-200"}}),(0,et.jsx)(Analytics,{})]})}var rT=er.S.withTRPC(MyApp)},65172:function(A,N,L){"use strict";L.d(N,{T5:function(){return V},_O:function(){return B}});let B="https://chatkit.app",V="https://api.chatkit.app"},47e3:function(A,N,L){"use strict";L.d(N,{Q8:function(){return getActualOpenAIModel},ge:function(){return B}});let B="https://api.openai.com",getActualOpenAIModel=(A,N)=>"gpt-4-turbo"===A?"gpt-4-1106-preview":"gpt-4-vision"===A?"gpt-4-vision-preview":N&&("gpt-3.5-turbo"===A||"gpt-3.5-turbo-16k"===A)?"gpt-3.5-turbo-1106":A},40156:function(A,N,L){"use strict";L.d(N,{d:function(){return B},x:function(){return getModelInfo}});let B=[{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",alias:["gpt-3.5-turbo-1106"],tokenLimit:16385},{id:"gpt-3.5-turbo-16k",name:"GPT-3.5 16k (Deprecated)",tokenLimit:16385},{id:"gpt-4-turbo",name:"GPT-4 Turbo",tokenLimit:128e3,alias:["gpt-4-1106-preview"]},{id:"gpt-4",name:"GPT-4",tokenLimit:8192},{id:"gpt-4-vision",name:"GPT-4 Vision",tokenLimit:128e3,alias:["gpt-4-vision-preview"]},{id:"gpt-4-32k",name:"GPT-4 32k",tokenLimit:32768},{id:"gemini-pro",name:"Gemini Pro",tokenLimit:32768},{id:"gemini-pro-vision",name:"Gemini Pro Vision",tokenLimit:32768},{id:"cohere",name:"Cohere",tokenLimit:4096},{id:"pplx-pplx-7b-online",name:"PPLX 7B Online",tokenLimit:4096},{id:"pplx-pplx-70b-online",name:"PPLX 70B Online",tokenLimit:4096},{id:"pplx-pplx-7b-chat",name:"PPLX 7B Chat",tokenLimit:4096},{id:"pplx-pplx-70b-chat",name:"PPLX 70B Chat",tokenLimit:4096},{id:"pplx-mistral-7b-instruct",name:"PPLX Mistral 7B",tokenLimit:4096},{id:"pplx-mixtral-8x7b-instruct",name:"PPLX Mixtral 8x7B",tokenLimit:4096},{id:"pplx-codellama-34b-instruct",name:"PPLX Codellama 34B",tokenLimit:16384},{id:"pplx-openhermes-2.5-mistral-7b",name:"PPLX OpenHermes 2.5 Mistral 7B",tokenLimit:4096,removed:!0},{id:"openrouter-anthropic/claude-instant-v1",name:"OpenRouter Claude Instant",tokenLimit:1e5},{id:"openrouter-anthropic/claude-2",name:"OpenRouter Claude 2",tokenLimit:1e5},{id:"openrouter-google/palm-2-chat-bison",name:"OpenRouter Palm 2",tokenLimit:8e3},{id:"openrouter-meta-llama/llama-2-13b-chat",name:"OpenRouter Llama 2 13B",tokenLimit:1/0},{id:"openrouter-meta-llama/llama-2-70b-chat",name:"OpenRouter Llama 2 70B",tokenLimit:1/0},{id:"openrouter-mistralai/mistral-7b-instruct",name:"OpenRouter Mistral 7B",tokenLimit:1/0},{id:"openrouter-teknium/openhermes-2.5-mistral-7b",name:"OpenRouter OpenHermes 2.5 Mistral 7B",tokenLimit:1/0},{id:"openrouter-mistralai/mixtral-8x7b-instruct",name:"OpenRouter Mixtral 8x7B",tokenLimit:1/0},{id:"openrouter-undi95/toppy-m-7b",name:"OpenRouter Toppy M 7B",tokenLimit:1/0},{id:"openrouter-huggingfaceh4/zephyr-7b-beta",name:"OpenRouter Zephyr 7B",tokenLimit:1/0},{id:"openrouter-gryphe/mythomax-l2-13b",name:"OpenRouter Mythomax L2 13B",tokenLimit:1/0},{id:"openrouter-lizpreciatior/lzlv-70b-fp16-hf",name:"OpenRouter Lizpreciatior 70B",tokenLimit:1/0}],getModelInfo=A=>{let N=B.find(N=>{var L;return N.id===A||(null===(L=N.alias)||void 0===L?void 0:L.includes(A))});return N}},65161:function(){},77272:function(){},16526:function(A){!function(){var N={229:function(A){var N,L,B,V=A.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(A){if(N===setTimeout)return setTimeout(A,0);if((N===defaultSetTimout||!N)&&setTimeout)return N=setTimeout,setTimeout(A,0);try{return N(A,0)}catch(L){try{return N.call(null,A,0)}catch(L){return N.call(this,A,0)}}}function runClearTimeout(A){if(L===clearTimeout)return clearTimeout(A);if((L===defaultClearTimeout||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(A);try{return L(A)}catch(N){try{return L.call(null,A)}catch(N){return L.call(this,A)}}}!function(){try{N="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(A){N=defaultSetTimout}try{L="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(A){L=defaultClearTimeout}}();var et=[],er=!1,ei=-1;function cleanUpNextTick(){er&&B&&(er=!1,B.length?et=B.concat(et):ei=-1,et.length&&drainQueue())}function drainQueue(){if(!er){var A=runTimeout(cleanUpNextTick);er=!0;for(var N=et.length;N;){for(B=et,et=[];++ei<N;)B&&B[ei].run();ei=-1,N=et.length}B=null,er=!1,runClearTimeout(A)}}function Item(A,N){this.fun=A,this.array=N}function noop(){}V.nextTick=function(A){var N=Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)N[L-1]=arguments[L];et.push(new Item(A,N)),1!==et.length||er||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=noop,V.addListener=noop,V.once=noop,V.off=noop,V.removeListener=noop,V.removeAllListeners=noop,V.emit=noop,V.prependListener=noop,V.prependOnceListener=noop,V.listeners=function(A){return[]},V.binding=function(A){throw Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(A){throw Error("process.chdir is not supported")},V.umask=function(){return 0}}},L={};function __nccwpck_require__(A){var B=L[A];if(void 0!==B)return B.exports;var V=L[A]={exports:{}},et=!0;try{N[A](V,V.exports,__nccwpck_require__),et=!1}finally{et&&delete L[A]}return V.exports}__nccwpck_require__.ab="//";var B=__nccwpck_require__(229);A.exports=B}()},2284:function(A,N,L){A.exports=L(17599)},18854:function(A,N,L){A.exports=L(68291)},31706:function(A,N,L){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B=L(52983);function h(A,N){return A===N&&(0!==A||1/A==1/N)||A!=A&&N!=N}var V="function"==typeof Object.is?Object.is:h,et=B.useState,er=B.useEffect,ei=B.useLayoutEffect,eo=B.useDebugValue;function q(A,N){var L=N(),B=et({inst:{value:L,getSnapshot:N}}),V=B[0].inst,ea=B[1];return ei(function(){V.value=L,V.getSnapshot=N,r(V)&&ea({inst:V})},[A,L,N]),er(function(){return r(V)&&ea({inst:V}),A(function(){r(V)&&ea({inst:V})})},[A]),eo(L),L}function r(A){var N=A.getSnapshot;A=A.value;try{var L=N();return!V(A,L)}catch(A){return!0}}function t(A,N){return N()}var ea="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?t:q;N.useSyncExternalStore=void 0!==B.useSyncExternalStore?B.useSyncExternalStore:ea},83576:function(A,N,L){"use strict";A.exports=L(31706)},97364:function(A,N,L){"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(A){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var B in L)Object.prototype.hasOwnProperty.call(L,B)&&(A[B]=L[B])}return A}).apply(this,arguments)}L.d(N,{Z:function(){return _extends}})},12527:function(A,N,L){"use strict";function $e42e1063c40fb3ef$export$b9ecd428b558ff10(A,N,{checkForDefaultPrevented:L=!0}={}){return function(B){if(null==A||A(B),!1===L||!B.defaultPrevented)return null==N?void 0:N(B)}}L.d(N,{M:function(){return $e42e1063c40fb3ef$export$b9ecd428b558ff10}})},7246:function(A,N,L){"use strict";L.d(N,{F:function(){return $6ed0406888f73fc4$export$43e446d32b3d21af},e:function(){return $6ed0406888f73fc4$export$c7b2cbe3552a0d05}});var B=L(52983);function $6ed0406888f73fc4$var$setRef(A,N){"function"==typeof A?A(N):null!=A&&(A.current=N)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...A){return N=>A.forEach(A=>$6ed0406888f73fc4$var$setRef(A,N))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...A){return(0,B.useCallback)($6ed0406888f73fc4$export$43e446d32b3d21af(...A),A)}},76079:function(A,N,L){"use strict";L.d(N,{b:function(){return $c512c27ab02ef895$export$50c7b4e9d9f19c1}});var B=L(52983);function $c512c27ab02ef895$export$50c7b4e9d9f19c1(A,N=[]){let L=[];function $c512c27ab02ef895$export$fd42f52fd3ae1109(N,V){let et=(0,B.createContext)(V),er=L.length;function Provider(N){let{scope:L,children:V,...ei}=N,eo=(null==L?void 0:L[A][er])||et,ea=(0,B.useMemo)(()=>ei,Object.values(ei));return(0,B.createElement)(eo.Provider,{value:ea},V)}function useContext(L,ei){let eo=(null==ei?void 0:ei[A][er])||et,ea=(0,B.useContext)(eo);if(ea)return ea;if(void 0!==V)return V;throw Error(`\`${L}\` must be used within \`${N}\``)}return L=[...L,V],Provider.displayName=N+"Provider",[Provider,useContext]}let createScope=()=>{let N=L.map(A=>(0,B.createContext)(A));return function(L){let V=(null==L?void 0:L[A])||N;return(0,B.useMemo)(()=>({[`__scope${A}`]:{...L,[A]:V}}),[L,V])}};return createScope.scopeName=A,[$c512c27ab02ef895$export$fd42f52fd3ae1109,$c512c27ab02ef895$var$composeContextScopes(createScope,...N)]}function $c512c27ab02ef895$var$composeContextScopes(...A){let N=A[0];if(1===A.length)return N;let createScope1=()=>{let L=A.map(A=>({useScope:A(),scopeName:A.scopeName}));return function(A){let V=L.reduce((N,{useScope:L,scopeName:B})=>{let V=L(A),et=V[`__scope${B}`];return{...N,...et}},{});return(0,B.useMemo)(()=>({[`__scope${N.scopeName}`]:V}),[V])}};return createScope1.scopeName=N.scopeName,createScope1}},58416:function(A,N,L){"use strict";L.d(N,{M:function(){return $1746a345f3d73bb7$export$f680877a34711e37}});var B,V=L(52983),et=L(55707);let er=(B||(B=L.t(V,2)))["useId".toString()]||(()=>void 0),ei=0;function $1746a345f3d73bb7$export$f680877a34711e37(A){let[N,L]=V.useState(er());return(0,et.b)(()=>{A||L(A=>null!=A?A:String(ei++))},[A]),A||(N?`radix-${N}`:"")}},78164:function(A,N,L){"use strict";L.d(N,{h:function(){return ei}});var B=L(97364),V=L(52983),et=L(63730),er=L(63546);let ei=(0,V.forwardRef)((A,N)=>{var L;let{container:ei=null==globalThis?void 0:null===(L=globalThis.document)||void 0===L?void 0:L.body,...eo}=A;return ei?et.createPortal((0,V.createElement)(er.WV.div,(0,B.Z)({},eo,{ref:N})),ei):null})},17765:function(A,N,L){"use strict";L.d(N,{z:function(){return $921a889cee6df7e8$export$99c2b779aa4e8b8b}});var B=L(52983),V=L(63730),et=L(7246),er=L(55707);function $fe963b355347cc68$export$3e6543de14f8614f(A,N){return(0,B.useReducer)((A,L)=>{let B=N[A][L];return null!=B?B:A},A)}let $921a889cee6df7e8$export$99c2b779aa4e8b8b=A=>{let{present:N,children:L}=A,V=$921a889cee6df7e8$var$usePresence(N),er="function"==typeof L?L({present:V.isPresent}):B.Children.only(L),ei=(0,et.e)(V.ref,er.ref),eo="function"==typeof L;return eo||V.isPresent?(0,B.cloneElement)(er,{ref:ei}):null};function $921a889cee6df7e8$var$usePresence(A){let[N,L]=(0,B.useState)(),et=(0,B.useRef)({}),ei=(0,B.useRef)(A),eo=(0,B.useRef)("none"),ea=A?"mounted":"unmounted",[es,eu]=$fe963b355347cc68$export$3e6543de14f8614f(ea,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,B.useEffect)(()=>{let A=$921a889cee6df7e8$var$getAnimationName(et.current);eo.current="mounted"===es?A:"none"},[es]),(0,er.b)(()=>{let N=et.current,L=ei.current,B=L!==A;if(B){let B=eo.current,V=$921a889cee6df7e8$var$getAnimationName(N);A?eu("MOUNT"):"none"===V||(null==N?void 0:N.display)==="none"?eu("UNMOUNT"):L&&B!==V?eu("ANIMATION_OUT"):eu("UNMOUNT"),ei.current=A}},[A,eu]),(0,er.b)(()=>{if(N){let handleAnimationEnd=A=>{let L=$921a889cee6df7e8$var$getAnimationName(et.current),B=L.includes(A.animationName);A.target===N&&B&&(0,V.flushSync)(()=>eu("ANIMATION_END"))},handleAnimationStart=A=>{A.target===N&&(eo.current=$921a889cee6df7e8$var$getAnimationName(et.current))};return N.addEventListener("animationstart",handleAnimationStart),N.addEventListener("animationcancel",handleAnimationEnd),N.addEventListener("animationend",handleAnimationEnd),()=>{N.removeEventListener("animationstart",handleAnimationStart),N.removeEventListener("animationcancel",handleAnimationEnd),N.removeEventListener("animationend",handleAnimationEnd)}}eu("ANIMATION_END")},[N,eu]),{isPresent:["mounted","unmountSuspended"].includes(es),ref:(0,B.useCallback)(A=>{A&&(et.current=getComputedStyle(A)),L(A)},[])}}function $921a889cee6df7e8$var$getAnimationName(A){return(null==A?void 0:A.animationName)||"none"}$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence"},63546:function(A,N,L){"use strict";L.d(N,{WV:function(){return ei},jH:function(){return $8927f6f2acc4f386$export$6d1a0317bde7de7f}});var B=L(97364),V=L(52983),et=L(63730),er=L(84495);let ei=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((A,N)=>{let L=(0,V.forwardRef)((A,L)=>{let{asChild:et,...ei}=A,eo=et?er.g7:N;return(0,V.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,V.createElement)(eo,(0,B.Z)({},ei,{ref:L}))});return L.displayName=`Primitive.${N}`,{...A,[N]:L}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(A,N){A&&(0,et.flushSync)(()=>A.dispatchEvent(N))}},84495:function(A,N,L){"use strict";L.d(N,{A4:function(){return $5e63c961fc1ce211$export$d9f1ccf0bdb05d45},g7:function(){return er}});var B=L(97364),V=L(52983),et=L(7246);let er=(0,V.forwardRef)((A,N)=>{let{children:L,...et}=A,er=V.Children.toArray(L),eo=er.find($5e63c961fc1ce211$var$isSlottable);if(eo){let A=eo.props.children,L=er.map(N=>N!==eo?N:V.Children.count(A)>1?V.Children.only(null):(0,V.isValidElement)(A)?A.props.children:null);return(0,V.createElement)(ei,(0,B.Z)({},et,{ref:N}),(0,V.isValidElement)(A)?(0,V.cloneElement)(A,void 0,L):null)}return(0,V.createElement)(ei,(0,B.Z)({},et,{ref:N}),L)});er.displayName="Slot";let ei=(0,V.forwardRef)((A,N)=>{let{children:L,...B}=A;return(0,V.isValidElement)(L)?(0,V.cloneElement)(L,{...$5e63c961fc1ce211$var$mergeProps(B,L.props),ref:N?(0,et.F)(N,L.ref):L.ref}):V.Children.count(L)>1?V.Children.only(null):null});ei.displayName="SlotClone";let $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:A})=>(0,V.createElement)(V.Fragment,null,A);function $5e63c961fc1ce211$var$isSlottable(A){return(0,V.isValidElement)(A)&&A.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(A,N){let L={...N};for(let B in N){let V=A[B],et=N[B],er=/^on[A-Z]/.test(B);er?V&&et?L[B]=(...A)=>{et(...A),V(...A)}:V&&(L[B]=V):"style"===B?L[B]={...V,...et}:"className"===B&&(L[B]=[V,et].filter(Boolean).join(" "))}return{...A,...L}}},81276:function(A,N,L){"use strict";let B;L.d(N,{VY:function(){return tr},zt:function(){return $a093c7e1ec25a057$export$2881499e37b75b9a},fC:function(){return $a093c7e1ec25a057$export$be92b6f5f03c0fe9},NM:function(){return $a093c7e1ec25a057$export$7b36b8f925ab7497},aJ:function(){return e0},xz:function(){return tt}});var V=L(97364),et=L(52983),er=L(12527),ei=L(7246),eo=L(76079),ea=L(63546),es=L(13251);function $addc16e1bbe58fd0$export$3a72a57244d6e765(A,N=null==globalThis?void 0:globalThis.document){let L=(0,es.W)(A);(0,et.useEffect)(()=>{let handleKeyDown=A=>{"Escape"===A.key&&L(A)};return N.addEventListener("keydown",handleKeyDown),()=>N.removeEventListener("keydown",handleKeyDown)},[L,N])}let eu="dismissableLayer.update",el=(0,et.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ec=(0,et.forwardRef)((A,N)=>{var L;let{disableOutsidePointerEvents:eo=!1,onEscapeKeyDown:es,onPointerDownOutside:ec,onFocusOutside:ed,onInteractOutside:ef,onDismiss:eh,...ep}=A,eg=(0,et.useContext)(el),[em,ev]=(0,et.useState)(null),ey=null!==(L=null==em?void 0:em.ownerDocument)&&void 0!==L?L:null==globalThis?void 0:globalThis.document,[,e_]=(0,et.useState)({}),eb=(0,ei.e)(N,A=>ev(A)),ew=Array.from(eg.layers),[ex]=[...eg.layersWithOutsidePointerEventsDisabled].slice(-1),eE=ew.indexOf(ex),ek=em?ew.indexOf(em):-1,eS=eg.layersWithOutsidePointerEventsDisabled.size>0,eC=ek>=eE,eA=$5cb92bef7577960e$var$usePointerDownOutside(A=>{let N=A.target,L=[...eg.branches].some(A=>A.contains(N));!eC||L||(null==ec||ec(A),null==ef||ef(A),A.defaultPrevented||null==eh||eh())},ey),e$=$5cb92bef7577960e$var$useFocusOutside(A=>{let N=A.target,L=[...eg.branches].some(A=>A.contains(N));L||(null==ed||ed(A),null==ef||ef(A),A.defaultPrevented||null==eh||eh())},ey);return $addc16e1bbe58fd0$export$3a72a57244d6e765(A=>{let N=ek===eg.layers.size-1;N&&(null==es||es(A),!A.defaultPrevented&&eh&&(A.preventDefault(),eh()))},ey),(0,et.useEffect)(()=>{if(em)return eo&&(0===eg.layersWithOutsidePointerEventsDisabled.size&&(B=ey.body.style.pointerEvents,ey.body.style.pointerEvents="none"),eg.layersWithOutsidePointerEventsDisabled.add(em)),eg.layers.add(em),$5cb92bef7577960e$var$dispatchUpdate(),()=>{eo&&1===eg.layersWithOutsidePointerEventsDisabled.size&&(ey.body.style.pointerEvents=B)}},[em,ey,eo,eg]),(0,et.useEffect)(()=>()=>{em&&(eg.layers.delete(em),eg.layersWithOutsidePointerEventsDisabled.delete(em),$5cb92bef7577960e$var$dispatchUpdate())},[em,eg]),(0,et.useEffect)(()=>{let handleUpdate=()=>e_({});return document.addEventListener(eu,handleUpdate),()=>document.removeEventListener(eu,handleUpdate)},[]),(0,et.createElement)(ea.WV.div,(0,V.Z)({},ep,{ref:eb,style:{pointerEvents:eS?eC?"auto":"none":void 0,...A.style},onFocusCapture:(0,er.M)(A.onFocusCapture,e$.onFocusCapture),onBlurCapture:(0,er.M)(A.onBlurCapture,e$.onBlurCapture),onPointerDownCapture:(0,er.M)(A.onPointerDownCapture,eA.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(A,N=null==globalThis?void 0:globalThis.document){let L=(0,es.W)(A),B=(0,et.useRef)(!1),V=(0,et.useRef)(()=>{});return(0,et.useEffect)(()=>{let handlePointerDown=A=>{if(A.target&&!B.current){let B={originalEvent:A};function handleAndDispatchPointerDownOutsideEvent(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent("dismissableLayer.pointerDownOutside",L,B,{discrete:!0})}"touch"===A.pointerType?(N.removeEventListener("click",V.current),V.current=handleAndDispatchPointerDownOutsideEvent,N.addEventListener("click",V.current,{once:!0})):handleAndDispatchPointerDownOutsideEvent()}else N.removeEventListener("click",V.current);B.current=!1},A=window.setTimeout(()=>{N.addEventListener("pointerdown",handlePointerDown)},0);return()=>{window.clearTimeout(A),N.removeEventListener("pointerdown",handlePointerDown),N.removeEventListener("click",V.current)}},[N,L]),{onPointerDownCapture:()=>B.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(A,N=null==globalThis?void 0:globalThis.document){let L=(0,es.W)(A),B=(0,et.useRef)(!1);return(0,et.useEffect)(()=>{let handleFocus=A=>{A.target&&!B.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent("dismissableLayer.focusOutside",L,{originalEvent:A},{discrete:!1})};return N.addEventListener("focusin",handleFocus),()=>N.removeEventListener("focusin",handleFocus)},[N,L]),{onFocusCapture:()=>B.current=!0,onBlurCapture:()=>B.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){let A=new CustomEvent(eu);document.dispatchEvent(A)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(A,N,L,{discrete:B}){let V=L.originalEvent.target,et=new CustomEvent(A,{bubbles:!1,cancelable:!0,detail:L});N&&V.addEventListener(A,N,{once:!0}),B?(0,ea.jH)(V,et):V.dispatchEvent(et)}var ed=L(58416);function t(A){return A.split("-")[1]}function e(A){return"y"===A?"height":"width"}function n(A){return A.split("-")[0]}function o(A){return["top","bottom"].includes(n(A))?"x":"y"}function i(A,N,L){let B,{reference:V,floating:et}=A,er=V.x+V.width/2-et.width/2,ei=V.y+V.height/2-et.height/2,eo=o(N),ea=e(eo),es=V[ea]/2-et[ea]/2,eu="x"===eo;switch(n(N)){case"top":B={x:er,y:V.y-et.height};break;case"bottom":B={x:er,y:V.y+V.height};break;case"right":B={x:V.x+V.width,y:ei};break;case"left":B={x:V.x-et.width,y:ei};break;default:B={x:V.x,y:V.y}}switch(t(N)){case"start":B[eo]-=es*(L&&eu?-1:1);break;case"end":B[eo]+=es*(L&&eu?-1:1)}return B}let floating_ui_core_browser_min_r=async(A,N,L)=>{let{placement:B="bottom",strategy:V="absolute",middleware:et=[],platform:er}=L,ei=et.filter(Boolean),eo=await (null==er.isRTL?void 0:er.isRTL(N)),ea=await er.getElementRects({reference:A,floating:N,strategy:V}),{x:es,y:eu}=i(ea,B,eo),el=B,ec={},ed=0;for(let L=0;L<ei.length;L++){let{name:et,fn:ef}=ei[L],{x:eh,y:ep,data:eg,reset:em}=await ef({x:es,y:eu,initialPlacement:B,placement:el,strategy:V,middlewareData:ec,rects:ea,platform:er,elements:{reference:A,floating:N}});es=null!=eh?eh:es,eu=null!=ep?ep:eu,ec={...ec,[et]:{...ec[et],...eg}},em&&ed<=50&&(ed++,"object"==typeof em&&(em.placement&&(el=em.placement),em.rects&&(ea=!0===em.rects?await er.getElementRects({reference:A,floating:N,strategy:V}):em.rects),{x:es,y:eu}=i(ea,el,eo)),L=-1)}return{x:es,y:eu,placement:el,strategy:V,middlewareData:ec}};function a(A,N){return"function"==typeof A?A(N):A}function l(A){return"number"!=typeof A?{top:0,right:0,bottom:0,left:0,...A}:{top:A,right:A,bottom:A,left:A}}function floating_ui_core_browser_min_s(A){return{...A,top:A.y,left:A.x,right:A.x+A.width,bottom:A.y+A.height}}async function c(A,N){var L;void 0===N&&(N={});let{x:B,y:V,platform:et,rects:er,elements:ei,strategy:eo}=A,{boundary:ea="clippingAncestors",rootBoundary:es="viewport",elementContext:eu="floating",altBoundary:el=!1,padding:ec=0}=a(N,A),ed=l(ec),ef=ei[el?"floating"===eu?"reference":"floating":eu],eh=floating_ui_core_browser_min_s(await et.getClippingRect({element:null==(L=await (null==et.isElement?void 0:et.isElement(ef)))||L?ef:ef.contextElement||await (null==et.getDocumentElement?void 0:et.getDocumentElement(ei.floating)),boundary:ea,rootBoundary:es,strategy:eo})),ep="floating"===eu?{...er.floating,x:B,y:V}:er.reference,eg=await (null==et.getOffsetParent?void 0:et.getOffsetParent(ei.floating)),em=await (null==et.isElement?void 0:et.isElement(eg))&&await (null==et.getScale?void 0:et.getScale(eg))||{x:1,y:1},ev=floating_ui_core_browser_min_s(et.convertOffsetParentRelativeRectToViewportRelativeRect?await et.convertOffsetParentRelativeRectToViewportRelativeRect({rect:ep,offsetParent:eg,strategy:eo}):ep);return{top:(eh.top-ev.top+ed.top)/em.y,bottom:(ev.bottom-eh.bottom+ed.bottom)/em.y,left:(eh.left-ev.left+ed.left)/em.x,right:(ev.right-eh.right+ed.right)/em.x}}let ef=Math.min,eh=Math.max,g=A=>({name:"arrow",options:A,async fn(N){let{x:L,y:B,placement:V,rects:et,platform:er,elements:ei}=N,{element:eo,padding:ea=0}=a(A,N)||{};if(null==eo)return{};let es=l(ea),eu={x:L,y:B},el=o(V),ec=e(el),ed=await er.getDimensions(eo),ep="y"===el,eg=ep?"clientHeight":"clientWidth",em=et.reference[ec]+et.reference[el]-eu[el]-et.floating[ec],ev=eu[el]-et.reference[el],ey=await (null==er.getOffsetParent?void 0:er.getOffsetParent(eo)),e_=ey?ey[eg]:0;e_&&await (null==er.isElement?void 0:er.isElement(ey))||(e_=ei.floating[eg]||et.floating[ec]);let eb=e_/2-ed[ec]/2-1,ew=ef(es[ep?"top":"left"],eb),ex=ef(es[ep?"bottom":"right"],eb),eE=e_-ed[ec]-ex,ek=e_/2-ed[ec]/2+(em/2-ev/2),eS=eh(ew,ef(ek,eE)),eC=null!=t(V)&&ek!=eS&&et.reference[ec]/2-(ek<ew?ew:ex)-ed[ec]/2<0?ek<ew?ew-ek:eE-ek:0;return{[el]:eu[el]-eC,data:{[el]:eS,centerOffset:ek-eS+eC}}}}),ep=["top","right","bottom","left"],eg=(ep.reduce((A,N)=>A.concat(N,N+"-start",N+"-end"),[]),{left:"right",right:"left",bottom:"top",top:"bottom"});function y(A){return A.replace(/left|right|bottom|top/g,A=>eg[A])}function x(A,N,L){void 0===L&&(L=!1);let B=t(A),V=o(A),et=e(V),er="x"===V?B===(L?"end":"start")?"right":"left":"start"===B?"bottom":"top";return N.reference[et]>N.floating[et]&&(er=y(er)),{main:er,cross:y(er)}}let em={start:"end",end:"start"};function v(A){return A.replace(/start|end/g,A=>em[A])}function R(A,N){return{top:A.top-N.height,right:A.right-N.width,bottom:A.bottom-N.height,left:A.left-N.width}}function P(A){return ep.some(N=>A[N]>=0)}function k(A){return"x"===A?"y":"x"}function floating_ui_dom_browser_min_n(A){var N;return(null==A||null==(N=A.ownerDocument)?void 0:N.defaultView)||window}function floating_ui_dom_browser_min_o(A){return floating_ui_dom_browser_min_n(A).getComputedStyle(A)}function floating_ui_dom_browser_min_i(A){return A instanceof floating_ui_dom_browser_min_n(A).Node}function r(A){return floating_ui_dom_browser_min_i(A)?(A.nodeName||"").toLowerCase():"#document"}function floating_ui_dom_browser_min_c(A){return A instanceof HTMLElement||A instanceof floating_ui_dom_browser_min_n(A).HTMLElement}function floating_ui_dom_browser_min_l(A){return"undefined"!=typeof ShadowRoot&&(A instanceof floating_ui_dom_browser_min_n(A).ShadowRoot||A instanceof ShadowRoot)}function s(A){let{overflow:N,overflowX:L,overflowY:B,display:V}=floating_ui_dom_browser_min_o(A);return/auto|scroll|overlay|hidden|clip/.test(N+B+L)&&!["inline","contents"].includes(V)}function floating_ui_dom_browser_min_f(A){return["table","td","th"].includes(r(A))}function floating_ui_dom_browser_min_u(A){let N=floating_ui_dom_browser_min_a(),L=floating_ui_dom_browser_min_o(A);return"none"!==L.transform||"none"!==L.perspective||!!L.containerType&&"normal"!==L.containerType||!N&&!!L.backdropFilter&&"none"!==L.backdropFilter||!N&&!!L.filter&&"none"!==L.filter||["transform","perspective","filter"].some(A=>(L.willChange||"").includes(A))||["paint","layout","strict","content"].some(A=>(L.contain||"").includes(A))}function floating_ui_dom_browser_min_a(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function floating_ui_dom_browser_min_d(A){return["html","body","#document"].includes(r(A))}let ev=Math.min,ey=Math.max,e_=Math.round,eb=Math.floor,floating_ui_dom_browser_min_y=A=>({x:A,y:A});function floating_ui_dom_browser_min_w(A){let N=floating_ui_dom_browser_min_o(A),L=parseFloat(N.width)||0,B=parseFloat(N.height)||0,V=floating_ui_dom_browser_min_c(A),et=V?A.offsetWidth:L,er=V?A.offsetHeight:B,ei=e_(L)!==et||e_(B)!==er;return ei&&(L=et,B=er),{width:L,height:B,$:ei}}function floating_ui_dom_browser_min_x(A){return A instanceof Element||A instanceof floating_ui_dom_browser_min_n(A).Element}function floating_ui_dom_browser_min_v(A){return floating_ui_dom_browser_min_x(A)?A:A.contextElement}function floating_ui_dom_browser_min_b(A){let N=floating_ui_dom_browser_min_v(A);if(!floating_ui_dom_browser_min_c(N))return floating_ui_dom_browser_min_y(1);let L=N.getBoundingClientRect(),{width:B,height:V,$:et}=floating_ui_dom_browser_min_w(N),er=(et?e_(L.width):L.width)/B,ei=(et?e_(L.height):L.height)/V;return er&&Number.isFinite(er)||(er=1),ei&&Number.isFinite(ei)||(ei=1),{x:er,y:ei}}let ew=floating_ui_dom_browser_min_y(0);function floating_ui_dom_browser_min_T(A){let N=floating_ui_dom_browser_min_n(A);return floating_ui_dom_browser_min_a()&&N.visualViewport?{x:N.visualViewport.offsetLeft,y:N.visualViewport.offsetTop}:ew}function floating_ui_dom_browser_min_R(A,N,L,B){var V;void 0===N&&(N=!1),void 0===L&&(L=!1);let et=A.getBoundingClientRect(),er=floating_ui_dom_browser_min_v(A),ei=floating_ui_dom_browser_min_y(1);N&&(B?floating_ui_dom_browser_min_x(B)&&(ei=floating_ui_dom_browser_min_b(B)):ei=floating_ui_dom_browser_min_b(A));let eo=(void 0===(V=L)&&(V=!1),!(!B||V&&B!==floating_ui_dom_browser_min_n(er))&&V)?floating_ui_dom_browser_min_T(er):floating_ui_dom_browser_min_y(0),ea=(et.left+eo.x)/ei.x,es=(et.top+eo.y)/ei.y,eu=et.width/ei.x,el=et.height/ei.y;if(er){let A=floating_ui_dom_browser_min_n(er),N=B&&floating_ui_dom_browser_min_x(B)?floating_ui_dom_browser_min_n(B):B,L=A.frameElement;for(;L&&B&&N!==A;){let A=floating_ui_dom_browser_min_b(L),N=L.getBoundingClientRect(),B=getComputedStyle(L),V=N.left+(L.clientLeft+parseFloat(B.paddingLeft))*A.x,et=N.top+(L.clientTop+parseFloat(B.paddingTop))*A.y;ea*=A.x,es*=A.y,eu*=A.x,el*=A.y,ea+=V,es+=et,L=floating_ui_dom_browser_min_n(L).frameElement}}return floating_ui_core_browser_min_s({width:eu,height:el,x:ea,y:es})}function floating_ui_dom_browser_min_E(A){return floating_ui_dom_browser_min_x(A)?{scrollLeft:A.scrollLeft,scrollTop:A.scrollTop}:{scrollLeft:A.pageXOffset,scrollTop:A.pageYOffset}}function S(A){var N;return null==(N=(floating_ui_dom_browser_min_i(A)?A.ownerDocument:A.document)||window.document)?void 0:N.documentElement}function floating_ui_dom_browser_min_C(A){return floating_ui_dom_browser_min_R(S(A)).left+floating_ui_dom_browser_min_E(A).scrollLeft}function F(A){if("html"===r(A))return A;let N=A.assignedSlot||A.parentNode||floating_ui_dom_browser_min_l(A)&&A.host||S(A);return floating_ui_dom_browser_min_l(N)?N.host:N}function floating_ui_dom_browser_min_O(A){let N=F(A);return floating_ui_dom_browser_min_d(N)?A.ownerDocument?A.ownerDocument.body:A.body:floating_ui_dom_browser_min_c(N)&&s(N)?N:floating_ui_dom_browser_min_O(N)}function floating_ui_dom_browser_min_D(A,N){var L;void 0===N&&(N=[]);let B=floating_ui_dom_browser_min_O(A),V=B===(null==(L=A.ownerDocument)?void 0:L.body),et=floating_ui_dom_browser_min_n(B);return V?N.concat(et,et.visualViewport||[],s(B)?B:[]):N.concat(B,floating_ui_dom_browser_min_D(B))}function H(A,N,L){let B;if("viewport"===N)B=function(A,N){let L=floating_ui_dom_browser_min_n(A),B=S(A),V=L.visualViewport,et=B.clientWidth,er=B.clientHeight,ei=0,eo=0;if(V){et=V.width,er=V.height;let A=floating_ui_dom_browser_min_a();(!A||A&&"fixed"===N)&&(ei=V.offsetLeft,eo=V.offsetTop)}return{width:et,height:er,x:ei,y:eo}}(A,L);else if("document"===N)B=function(A){let N=S(A),L=floating_ui_dom_browser_min_E(A),B=A.ownerDocument.body,V=ey(N.scrollWidth,N.clientWidth,B.scrollWidth,B.clientWidth),et=ey(N.scrollHeight,N.clientHeight,B.scrollHeight,B.clientHeight),er=-L.scrollLeft+floating_ui_dom_browser_min_C(A),ei=-L.scrollTop;return"rtl"===floating_ui_dom_browser_min_o(B).direction&&(er+=ey(N.clientWidth,B.clientWidth)-V),{width:V,height:et,x:er,y:ei}}(S(A));else if(floating_ui_dom_browser_min_x(N))B=function(A,N){let L=floating_ui_dom_browser_min_R(A,!0,"fixed"===N),B=L.top+A.clientTop,V=L.left+A.clientLeft,et=floating_ui_dom_browser_min_c(A)?floating_ui_dom_browser_min_b(A):floating_ui_dom_browser_min_y(1);return{width:A.clientWidth*et.x,height:A.clientHeight*et.y,x:V*et.x,y:B*et.y}}(N,L);else{let L=floating_ui_dom_browser_min_T(A);B={...N,x:N.x-L.x,y:N.y-L.y}}return floating_ui_core_browser_min_s(B)}function W(A,N){let L=F(A);return!(L===N||!floating_ui_dom_browser_min_x(L)||floating_ui_dom_browser_min_d(L))&&("fixed"===floating_ui_dom_browser_min_o(L).position||W(L,N))}function M(A,N,L){let B=floating_ui_dom_browser_min_c(N),V=S(N),et="fixed"===L,er=floating_ui_dom_browser_min_R(A,!0,et,N),ei={scrollLeft:0,scrollTop:0},eo=floating_ui_dom_browser_min_y(0);if(B||!B&&!et){if(("body"!==r(N)||s(V))&&(ei=floating_ui_dom_browser_min_E(N)),floating_ui_dom_browser_min_c(N)){let A=floating_ui_dom_browser_min_R(N,!0,et,N);eo.x=A.x+N.clientLeft,eo.y=A.y+N.clientTop}else V&&(eo.x=floating_ui_dom_browser_min_C(V))}return{x:er.left+ei.scrollLeft-eo.x,y:er.top+ei.scrollTop-eo.y,width:er.width,height:er.height}}function z(A,N){return floating_ui_dom_browser_min_c(A)&&"fixed"!==floating_ui_dom_browser_min_o(A).position?N?N(A):A.offsetParent:null}function floating_ui_dom_browser_min_P(A,N){let L=floating_ui_dom_browser_min_n(A);if(!floating_ui_dom_browser_min_c(A))return L;let B=z(A,N);for(;B&&floating_ui_dom_browser_min_f(B)&&"static"===floating_ui_dom_browser_min_o(B).position;)B=z(B,N);return B&&("html"===r(B)||"body"===r(B)&&"static"===floating_ui_dom_browser_min_o(B).position&&!floating_ui_dom_browser_min_u(B))?L:B||function(A){let N=F(A);for(;floating_ui_dom_browser_min_c(N)&&!floating_ui_dom_browser_min_d(N);){if(floating_ui_dom_browser_min_u(N))return N;N=F(N)}return null}(A)||L}let ex={convertOffsetParentRelativeRectToViewportRelativeRect:function(A){let{rect:N,offsetParent:L,strategy:B}=A,V=floating_ui_dom_browser_min_c(L),et=S(L);if(L===et)return N;let er={scrollLeft:0,scrollTop:0},ei=floating_ui_dom_browser_min_y(1),eo=floating_ui_dom_browser_min_y(0);if((V||!V&&"fixed"!==B)&&(("body"!==r(L)||s(et))&&(er=floating_ui_dom_browser_min_E(L)),floating_ui_dom_browser_min_c(L))){let A=floating_ui_dom_browser_min_R(L);ei=floating_ui_dom_browser_min_b(L),eo.x=A.x+L.clientLeft,eo.y=A.y+L.clientTop}return{width:N.width*ei.x,height:N.height*ei.y,x:N.x*ei.x-er.scrollLeft*ei.x+eo.x,y:N.y*ei.y-er.scrollTop*ei.y+eo.y}},getDocumentElement:S,getClippingRect:function(A){let{element:N,boundary:L,rootBoundary:B,strategy:V}=A,et=[..."clippingAncestors"===L?function(A,N){let L=N.get(A);if(L)return L;let B=floating_ui_dom_browser_min_D(A).filter(A=>floating_ui_dom_browser_min_x(A)&&"body"!==r(A)),V=null,et="fixed"===floating_ui_dom_browser_min_o(A).position,er=et?F(A):A;for(;floating_ui_dom_browser_min_x(er)&&!floating_ui_dom_browser_min_d(er);){let N=floating_ui_dom_browser_min_o(er),L=floating_ui_dom_browser_min_u(er);L||"fixed"!==N.position||(V=null),(et?!L&&!V:!L&&"static"===N.position&&V&&["absolute","fixed"].includes(V.position)||s(er)&&!L&&W(A,er))?B=B.filter(A=>A!==er):V=N,er=F(er)}return N.set(A,B),B}(N,this._c):[].concat(L),B],er=et[0],ei=et.reduce((A,L)=>{let B=H(N,L,V);return A.top=ey(B.top,A.top),A.right=ev(B.right,A.right),A.bottom=ev(B.bottom,A.bottom),A.left=ey(B.left,A.left),A},H(N,er,V));return{width:ei.right-ei.left,height:ei.bottom-ei.top,x:ei.left,y:ei.top}},getOffsetParent:floating_ui_dom_browser_min_P,getElementRects:async function(A){let{reference:N,floating:L,strategy:B}=A,V=this.getOffsetParent||floating_ui_dom_browser_min_P,et=this.getDimensions;return{reference:M(N,await V(L),B),floating:{x:0,y:0,...await et(L)}}},getClientRects:function(A){return Array.from(A.getClientRects())},getDimensions:function(A){return floating_ui_dom_browser_min_w(A)},getScale:floating_ui_dom_browser_min_b,isElement:floating_ui_dom_browser_min_x,isRTL:function(A){return"rtl"===getComputedStyle(A).direction}};function floating_ui_dom_browser_min_A(A,N,L,B){void 0===B&&(B={});let{ancestorScroll:V=!0,ancestorResize:et=!0,elementResize:er="function"==typeof ResizeObserver,layoutShift:ei="function"==typeof IntersectionObserver,animationFrame:eo=!1}=B,ea=floating_ui_dom_browser_min_v(A),es=V||et?[...ea?floating_ui_dom_browser_min_D(ea):[],...floating_ui_dom_browser_min_D(N)]:[];es.forEach(A=>{V&&A.addEventListener("scroll",L,{passive:!0}),et&&A.addEventListener("resize",L)});let eu=ea&&ei?function(A,N){let L,B=null,V=S(A);function r(){clearTimeout(L),B&&B.disconnect(),B=null}return function c(et,er){void 0===et&&(et=!1),void 0===er&&(er=1),r();let{left:ei,top:eo,width:ea,height:es}=A.getBoundingClientRect();if(et||N(),!ea||!es)return;let eu={rootMargin:-eb(eo)+"px "+-eb(V.clientWidth-(ei+ea))+"px "+-eb(V.clientHeight-(eo+es))+"px "+-eb(ei)+"px",threshold:ey(0,ev(1,er))||1},el=!0;function w(A){let N=A[0].intersectionRatio;if(N!==er){if(!el)return c();N?c(!1,N):L=setTimeout(()=>{c(!1,1e-7)},100)}el=!1}try{B=new IntersectionObserver(w,{...eu,root:V.ownerDocument})}catch(A){B=new IntersectionObserver(w,eu)}B.observe(A)}(!0),r}(ea,L):null,el,ec=-1,ed=null;er&&(ed=new ResizeObserver(A=>{let[B]=A;B&&B.target===ea&&ed&&(ed.unobserve(N),cancelAnimationFrame(ec),ec=requestAnimationFrame(()=>{ed&&ed.observe(N)})),L()}),ea&&!eo&&ed.observe(ea),ed.observe(N));let ef=eo?floating_ui_dom_browser_min_R(A):null;return eo&&function e(){let N=floating_ui_dom_browser_min_R(A);ef&&(N.x!==ef.x||N.y!==ef.y||N.width!==ef.width||N.height!==ef.height)&&L(),ef=N,el=requestAnimationFrame(e)}(),L(),()=>{es.forEach(A=>{V&&A.removeEventListener("scroll",L),et&&A.removeEventListener("resize",L)}),eu&&eu(),ed&&ed.disconnect(),ed=null,eo&&cancelAnimationFrame(el)}}let floating_ui_dom_browser_min_B=(A,N,L)=>{let B=new Map,V={platform:ex,...L},et={...V.platform,_c:B};return floating_ui_core_browser_min_r(A,N,{...V,platform:et})};var eE=L(63730);let floating_ui_react_dom_esm_arrow=A=>{function isRef(A){return({}).hasOwnProperty.call(A,"current")}return{name:"arrow",options:A,fn(N){let{element:L,padding:B}="function"==typeof A?A(N):A;if(L&&isRef(L)){if(null!=L.current)return g({element:L.current,padding:B}).fn(N)}else if(L)return g({element:L,padding:B}).fn(N);return{}}}};var ek="undefined"!=typeof document?et.useLayoutEffect:et.useEffect;function deepEqual(A,N){let L,B,V;if(A===N)return!0;if(typeof A!=typeof N)return!1;if("function"==typeof A&&A.toString()===N.toString())return!0;if(A&&N&&"object"==typeof A){if(Array.isArray(A)){if((L=A.length)!=N.length)return!1;for(B=L;0!=B--;)if(!deepEqual(A[B],N[B]))return!1;return!0}if((L=(V=Object.keys(A)).length)!==Object.keys(N).length)return!1;for(B=L;0!=B--;)if(!({}).hasOwnProperty.call(N,V[B]))return!1;for(B=L;0!=B--;){let L=V[B];if(("_owner"!==L||!A.$$typeof)&&!deepEqual(A[L],N[L]))return!1}return!0}return A!=A&&N!=N}function getDPR(A){if("undefined"==typeof window)return 1;let N=A.ownerDocument.defaultView||window;return N.devicePixelRatio||1}function roundByDPR(A,N){let L=getDPR(A);return Math.round(N*L)/L}function useLatestRef(A){let N=et.useRef(A);return ek(()=>{N.current=A}),N}function useFloating(A){void 0===A&&(A={});let{placement:N="bottom",strategy:L="absolute",middleware:B=[],platform:V,elements:{reference:er,floating:ei}={},transform:eo=!0,whileElementsMounted:ea,open:es}=A,[eu,el]=et.useState({x:0,y:0,strategy:L,placement:N,middlewareData:{},isPositioned:!1}),[ec,ed]=et.useState(B);deepEqual(ec,B)||ed(B);let[ef,eh]=et.useState(null),[ep,eg]=et.useState(null),em=et.useCallback(A=>{A!=eb.current&&(eb.current=A,eh(A))},[eh]),ev=et.useCallback(A=>{A!==ew.current&&(ew.current=A,eg(A))},[eg]),ey=er||ef,e_=ei||ep,eb=et.useRef(null),ew=et.useRef(null),ex=et.useRef(eu),eS=useLatestRef(ea),eC=useLatestRef(V),eA=et.useCallback(()=>{if(!eb.current||!ew.current)return;let A={placement:N,strategy:L,middleware:ec};eC.current&&(A.platform=eC.current),floating_ui_dom_browser_min_B(eb.current,ew.current,A).then(A=>{let N={...A,isPositioned:!0};e$.current&&!deepEqual(ex.current,N)&&(ex.current=N,eE.flushSync(()=>{el(N)}))})},[ec,N,L,eC]);ek(()=>{!1===es&&ex.current.isPositioned&&(ex.current.isPositioned=!1,el(A=>({...A,isPositioned:!1})))},[es]);let e$=et.useRef(!1);ek(()=>(e$.current=!0,()=>{e$.current=!1}),[]),ek(()=>{if(ey&&(eb.current=ey),e_&&(ew.current=e_),ey&&e_){if(eS.current)return eS.current(ey,e_,eA);eA()}},[ey,e_,eA,eS]);let eP=et.useMemo(()=>({reference:eb,floating:ew,setReference:em,setFloating:ev}),[em,ev]),eT=et.useMemo(()=>({reference:ey,floating:e_}),[ey,e_]),eI=et.useMemo(()=>{let A={position:L,left:0,top:0};if(!eT.floating)return A;let N=roundByDPR(eT.floating,eu.x),B=roundByDPR(eT.floating,eu.y);return eo?{...A,transform:"translate("+N+"px, "+B+"px)",...getDPR(eT.floating)>=1.5&&{willChange:"transform"}}:{position:L,left:N,top:B}},[L,eo,eT.floating,eu.x,eu.y]);return et.useMemo(()=>({...eu,update:eA,refs:eP,elements:eT,floatingStyles:eI}),[eu,eA,eP,eT,eI])}let eS=(0,et.forwardRef)((A,N)=>{let{children:L,width:B=10,height:er=5,...ei}=A;return(0,et.createElement)(ea.WV.svg,(0,V.Z)({},ei,{ref:N,width:B,height:er,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),A.asChild?L:(0,et.createElement)("polygon",{points:"0,0 30,0 15,10"}))});var eC=L(55707),eA=L(96102);let e$="Popper",[eP,eT]=(0,eo.b)(e$),[eI,eO]=eP(e$),eR=(0,et.forwardRef)((A,N)=>{let{__scopePopper:L,virtualRef:B,...er}=A,eo=eO("PopperAnchor",L),es=(0,et.useRef)(null),eu=(0,ei.e)(N,es);return(0,et.useEffect)(()=>{eo.onAnchorChange((null==B?void 0:B.current)||es.current)}),B?null:(0,et.createElement)(ea.WV.div,(0,V.Z)({},er,{ref:eu}))}),eM="PopperContent",[eD,eF]=eP(eM),eN=(0,et.forwardRef)((A,N)=>{var L,B,er,eo,eu,el,ec,ed,ep,eg,em,ev,ey,e_;let{__scopePopper:eb,side:ew="bottom",sideOffset:ex=0,align:eE="center",alignOffset:ek=0,arrowPadding:eS=0,avoidCollisions:e$=!0,collisionBoundary:eP=[],collisionPadding:eT=0,sticky:eI="partial",hideWhenDetached:eR=!1,updatePositionStrategy:eF="optimized",onPlaced:eN,...eL}=A,eq=eO(eM,eb),[ej,eB]=(0,et.useState)(null),eQ=(0,ei.e)(N,A=>eB(A)),[eH,eG]=(0,et.useState)(null),eU=(0,eA.t)(eH),ez=null!==(L=null==eU?void 0:eU.width)&&void 0!==L?L:0,eK=null!==(B=null==eU?void 0:eU.height)&&void 0!==B?B:0,eV="number"==typeof eT?eT:{top:0,right:0,bottom:0,left:0,...eT},eW=Array.isArray(eP)?eP:[eP],eY=eW.length>0,eJ={padding:eV,boundary:eW.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:eY},{refs:eZ,floatingStyles:eX,placement:e0,isPositioned:e1,middlewareData:e2}=useFloating({strategy:"fixed",placement:ew+("center"!==eE?"-"+eE:""),whileElementsMounted:(...A)=>{let N=floating_ui_dom_browser_min_A(...A,{animationFrame:"always"===eF});return N},elements:{reference:eq.anchor},middleware:[{name:"offset",options:ep={mainAxis:ex+eK,alignmentAxis:ek},async fn(A){let{x:N,y:L}=A,B=await async function(A,N){let{placement:L,platform:B,elements:V}=A,et=await (null==B.isRTL?void 0:B.isRTL(V.floating)),er=n(L),ei=t(L),eo="x"===o(L),ea=["left","top"].includes(er)?-1:1,es=et&&eo?-1:1,eu=a(N,A),{mainAxis:el,crossAxis:ec,alignmentAxis:ed}="number"==typeof eu?{mainAxis:eu,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...eu};return ei&&"number"==typeof ed&&(ec="end"===ei?-1*ed:ed),eo?{x:ec*es,y:el*ea}:{x:el*ea,y:ec*es}}(A,ep);return{x:N+B.x,y:L+B.y,data:B}}},e$&&{name:"shift",options:em={mainAxis:!0,crossAxis:!1,limiter:"partial"===eI?(void 0===eg&&(eg={}),{options:eg,fn(A){let{x:N,y:L,placement:B,rects:V,middlewareData:et}=A,{offset:er=0,mainAxis:ei=!0,crossAxis:eo=!0}=a(eg,A),ea={x:N,y:L},es=o(B),eu=k(es),el=ea[es],ec=ea[eu],ed=a(er,A),ef="number"==typeof ed?{mainAxis:ed,crossAxis:0}:{mainAxis:0,crossAxis:0,...ed};if(ei){let A="y"===es?"height":"width",N=V.reference[es]-V.floating[A]+ef.mainAxis,L=V.reference[es]+V.reference[A]-ef.mainAxis;el<N?el=N:el>L&&(el=L)}if(eo){var eh,ep;let A="y"===es?"width":"height",N=["top","left"].includes(n(B)),L=V.reference[eu]-V.floating[A]+(N&&(null==(eh=et.offset)?void 0:eh[eu])||0)+(N?0:ef.crossAxis),er=V.reference[eu]+V.reference[A]+(N?0:(null==(ep=et.offset)?void 0:ep[eu])||0)-(N?ef.crossAxis:0);ec<L?ec=L:ec>er&&(ec=er)}return{[es]:el,[eu]:ec}}}):void 0,...eJ},async fn(A){let{x:N,y:L,placement:B}=A,{mainAxis:V=!0,crossAxis:et=!1,limiter:er={fn:A=>{let{x:N,y:L}=A;return{x:N,y:L}}},...ei}=a(em,A),eo={x:N,y:L},ea=await c(A,ei),es=o(n(B)),eu=k(es),el=eo[es],ec=eo[eu];if(V){let A="y"===es?"bottom":"right";el=eh(el+ea["y"===es?"top":"left"],ef(el,el-ea[A]))}et&&(ec=eh(ec+ea["y"===eu?"top":"left"],ef(ec,ec-ea["y"===eu?"bottom":"right"])));let ed=er.fn({...A,[es]:el,[eu]:ec});return{...ed,data:{x:ed.x-N,y:ed.y-L}}}},e$&&{name:"flip",options:ev={...eJ},async fn(A){var N,L,B,V;let{placement:et,middlewareData:er,rects:ei,initialPlacement:eo,platform:ea,elements:es}=A,{mainAxis:eu=!0,crossAxis:el=!0,fallbackPlacements:ec,fallbackStrategy:ed="bestFit",fallbackAxisSideDirection:ef="none",flipAlignment:eh=!0,...ep}=a(ev,A),eg=n(et),em=n(eo)===eo,ey=await (null==ea.isRTL?void 0:ea.isRTL(es.floating)),e_=ec||(em||!eh?[y(eo)]:function(A){let N=y(A);return[v(A),N,v(N)]}(eo));ec||"none"===ef||e_.push(...function(A,N,L,B){let V=t(A),et=function(A,N,L){let B=["left","right"],V=["right","left"];switch(A){case"top":case"bottom":return L?N?V:B:N?B:V;case"left":case"right":return N?["top","bottom"]:["bottom","top"];default:return[]}}(n(A),"start"===L,B);return V&&(et=et.map(A=>A+"-"+V),N&&(et=et.concat(et.map(v)))),et}(eo,eh,ef,ey));let eb=[eo,...e_],ew=await c(A,ep),ex=[],eE=(null==(N=er.flip)?void 0:N.overflows)||[];if(eu&&ex.push(ew[eg]),el){let{main:A,cross:N}=x(et,ei,ey);ex.push(ew[A],ew[N])}if(eE=[...eE,{placement:et,overflows:ex}],!ex.every(A=>A<=0)){let A=((null==(L=er.flip)?void 0:L.index)||0)+1,N=eb[A];if(N)return{data:{index:A,overflows:eE},reset:{placement:N}};let ei=null==(B=eE.filter(A=>A.overflows[0]<=0).sort((A,N)=>A.overflows[1]-N.overflows[1])[0])?void 0:B.placement;if(!ei)switch(ed){case"bestFit":{let A=null==(V=eE.map(A=>[A.placement,A.overflows.filter(A=>A>0).reduce((A,N)=>A+N,0)]).sort((A,N)=>A[1]-N[1])[0])?void 0:V[0];A&&(ei=A);break}case"initialPlacement":ei=eo}if(et!==ei)return{reset:{placement:ei}}}return{}}},{name:"size",options:ey={...eJ,apply:({elements:A,rects:N,availableWidth:L,availableHeight:B})=>{let{width:V,height:et}=N.reference,er=A.floating.style;er.setProperty("--radix-popper-available-width",`${L}px`),er.setProperty("--radix-popper-available-height",`${B}px`),er.setProperty("--radix-popper-anchor-width",`${V}px`),er.setProperty("--radix-popper-anchor-height",`${et}px`)}},async fn(A){let N,L;let{placement:B,rects:V,platform:et,elements:er}=A,{apply:ei=()=>{},...eo}=a(ey,A),ea=await c(A,eo),es=n(B),eu=t(B),el="x"===o(B),{width:ec,height:ed}=V.floating;"top"===es||"bottom"===es?(N=es,L=eu===(await (null==et.isRTL?void 0:et.isRTL(er.floating))?"start":"end")?"left":"right"):(L=es,N="end"===eu?"top":"bottom");let ep=ed-ea[N],eg=ec-ea[L],em=!A.middlewareData.shift,ev=ep,e_=eg;if(el){let A=ec-ea.left-ea.right;e_=eu||em?ef(eg,A):A}else{let A=ed-ea.top-ea.bottom;ev=eu||em?ef(ep,A):A}if(em&&!eu){let A=eh(ea.left,0),N=eh(ea.right,0),L=eh(ea.top,0),B=eh(ea.bottom,0);el?e_=ec-2*(0!==A||0!==N?A+N:eh(ea.left,ea.right)):ev=ed-2*(0!==L||0!==B?L+B:eh(ea.top,ea.bottom))}await ei({...A,availableWidth:e_,availableHeight:ev});let eb=await et.getDimensions(er.floating);return ec!==eb.width||ed!==eb.height?{reset:{rects:!0}}:{}}},eH&&floating_ui_react_dom_esm_arrow({element:eH,padding:eS}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:ez,arrowHeight:eK}),eR&&{name:"hide",options:e_={strategy:"referenceHidden",...eJ},async fn(A){let{rects:N}=A,{strategy:L="referenceHidden",...B}=a(e_,A);switch(L){case"referenceHidden":{let L=R(await c(A,{...B,elementContext:"reference"}),N.reference);return{data:{referenceHiddenOffsets:L,referenceHidden:P(L)}}}case"escaped":{let L=R(await c(A,{...B,altBoundary:!0}),N.floating);return{data:{escapedOffsets:L,escaped:P(L)}}}default:return{}}}}]}),[e5,e3]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(e0),e6=(0,es.W)(eN);(0,eC.b)(()=>{e1&&(null==e6||e6())},[e1,e6]);let e8=null===(er=e2.arrow)||void 0===er?void 0:er.x,e4=null===(eo=e2.arrow)||void 0===eo?void 0:eo.y,e7=(null===(eu=e2.arrow)||void 0===eu?void 0:eu.centerOffset)!==0,[e9,tt]=(0,et.useState)();return(0,eC.b)(()=>{ej&&tt(window.getComputedStyle(ej).zIndex)},[ej]),(0,et.createElement)("div",{ref:eZ.setFloating,"data-radix-popper-content-wrapper":"",style:{...eX,transform:e1?eX.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:e9,"--radix-popper-transform-origin":[null===(el=e2.transformOrigin)||void 0===el?void 0:el.x,null===(ec=e2.transformOrigin)||void 0===ec?void 0:ec.y].join(" ")},dir:A.dir},(0,et.createElement)(eD,{scope:eb,placedSide:e5,onArrowChange:eG,arrowX:e8,arrowY:e4,shouldHideArrow:e7},(0,et.createElement)(ea.WV.div,(0,V.Z)({"data-side":e5,"data-align":e3},eL,{ref:eQ,style:{...eL.style,animation:e1?void 0:"none",opacity:null!==(ed=e2.hide)&&void 0!==ed&&ed.referenceHidden?0:void 0}}))))}),eL={top:"bottom",right:"left",bottom:"top",left:"right"};function $cf1ac5d9fe0e8206$var$isNotNull(A){return null!==A}let $cf1ac5d9fe0e8206$var$transformOrigin=A=>({name:"transformOrigin",options:A,fn(N){var L,B,V,et,er;let{placement:ei,rects:eo,middlewareData:ea}=N,es=(null===(L=ea.arrow)||void 0===L?void 0:L.centerOffset)!==0,eu=es?0:A.arrowWidth,el=es?0:A.arrowHeight,[ec,ed]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(ei),ef={start:"0%",center:"50%",end:"100%"}[ed],eh=(null!==(B=null===(V=ea.arrow)||void 0===V?void 0:V.x)&&void 0!==B?B:0)+eu/2,ep=(null!==(et=null===(er=ea.arrow)||void 0===er?void 0:er.y)&&void 0!==et?et:0)+el/2,eg="",em="";return"bottom"===ec?(eg=es?ef:`${eh}px`,em=`${-el}px`):"top"===ec?(eg=es?ef:`${eh}px`,em=`${eo.floating.height+el}px`):"right"===ec?(eg=`${-el}px`,em=es?ef:`${ep}px`):"left"===ec&&(eg=`${eo.floating.width+el}px`,em=es?ef:`${ep}px`),{data:{x:eg,y:em}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(A){let[N,L="center"]=A.split("-");return[N,L]}let $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=A=>{let{__scopePopper:N,children:L}=A,[B,V]=(0,et.useState)(null);return(0,et.createElement)(eI,{scope:N,anchor:B,onAnchorChange:V},L)};var eq=L(78164),ej=L(17765),eB=L(84495),eQ=L(69132);let eH=(0,et.forwardRef)((A,N)=>(0,et.createElement)(ea.WV.span,(0,V.Z)({},A,{ref:N,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...A.style}}))),[eG,eU]=(0,eo.b)("Tooltip",[eT]),ez=eT(),eK="tooltip.open",[eV,eW]=eG("TooltipProvider"),eY="Tooltip",[eJ,eZ]=eG(eY),eX="TooltipTrigger",e0=(0,et.forwardRef)((A,N)=>{let{__scopeTooltip:L,...B}=A,eo=eZ(eX,L),es=eW(eX,L),eu=ez(L),el=(0,et.useRef)(null),ec=(0,ei.e)(N,el,eo.onTriggerChange),ed=(0,et.useRef)(!1),ef=(0,et.useRef)(!1),eh=(0,et.useCallback)(()=>ed.current=!1,[]);return(0,et.useEffect)(()=>()=>document.removeEventListener("pointerup",eh),[eh]),(0,et.createElement)(eR,(0,V.Z)({asChild:!0},eu),(0,et.createElement)(ea.WV.button,(0,V.Z)({"aria-describedby":eo.open?eo.contentId:void 0,"data-state":eo.stateAttribute},B,{ref:ec,onPointerMove:(0,er.M)(A.onPointerMove,A=>{"touch"===A.pointerType||ef.current||es.isPointerInTransitRef.current||(eo.onTriggerEnter(),ef.current=!0)}),onPointerLeave:(0,er.M)(A.onPointerLeave,()=>{eo.onTriggerLeave(),ef.current=!1}),onPointerDown:(0,er.M)(A.onPointerDown,()=>{ed.current=!0,document.addEventListener("pointerup",eh,{once:!0})}),onFocus:(0,er.M)(A.onFocus,()=>{ed.current||eo.onOpen()}),onBlur:(0,er.M)(A.onBlur,eo.onClose),onClick:(0,er.M)(A.onClick,eo.onClose)})))}),e1="TooltipPortal",[e2,e5]=eG(e1,{forceMount:void 0}),$a093c7e1ec25a057$export$7b36b8f925ab7497=A=>{let{__scopeTooltip:N,forceMount:L,children:B,container:V}=A,er=eZ(e1,N);return(0,et.createElement)(e2,{scope:N,forceMount:L},(0,et.createElement)(ej.z,{present:L||er.open},(0,et.createElement)(eq.h,{asChild:!0,container:V},B)))},e3="TooltipContent",e6=(0,et.forwardRef)((A,N)=>{let L=e5(e3,A.__scopeTooltip),{forceMount:B=L.forceMount,side:er="top",...ei}=A,eo=eZ(e3,A.__scopeTooltip);return(0,et.createElement)(ej.z,{present:B||eo.open},eo.disableHoverableContent?(0,et.createElement)(e9,(0,V.Z)({side:er},ei,{ref:N})):(0,et.createElement)(e8,(0,V.Z)({side:er},ei,{ref:N})))}),e8=(0,et.forwardRef)((A,N)=>{let L=eZ(e3,A.__scopeTooltip),B=eW(e3,A.__scopeTooltip),er=(0,et.useRef)(null),eo=(0,ei.e)(N,er),[ea,es]=(0,et.useState)(null),{trigger:eu,onClose:el}=L,ec=er.current,{onPointerInTransitChange:ed}=B,ef=(0,et.useCallback)(()=>{es(null),ed(!1)},[ed]),eh=(0,et.useCallback)((A,N)=>{let L=A.currentTarget,B={x:A.clientX,y:A.clientY},V=$a093c7e1ec25a057$var$getExitSideFromRect(B,L.getBoundingClientRect()),et=$a093c7e1ec25a057$var$getPaddedExitPoints(B,V),er=$a093c7e1ec25a057$var$getPointsFromRect(N.getBoundingClientRect()),ei=$a093c7e1ec25a057$var$getHull([...et,...er]);es(ei),ed(!0)},[ed]);return(0,et.useEffect)(()=>()=>ef(),[ef]),(0,et.useEffect)(()=>{if(eu&&ec){let handleTriggerLeave=A=>eh(A,ec),handleContentLeave=A=>eh(A,eu);return eu.addEventListener("pointerleave",handleTriggerLeave),ec.addEventListener("pointerleave",handleContentLeave),()=>{eu.removeEventListener("pointerleave",handleTriggerLeave),ec.removeEventListener("pointerleave",handleContentLeave)}}},[eu,ec,eh,ef]),(0,et.useEffect)(()=>{if(ea){let handleTrackPointerGrace=A=>{let N=A.target,L={x:A.clientX,y:A.clientY},B=(null==eu?void 0:eu.contains(N))||(null==ec?void 0:ec.contains(N)),V=!$a093c7e1ec25a057$var$isPointInPolygon(L,ea);B?ef():V&&(ef(),el())};return document.addEventListener("pointermove",handleTrackPointerGrace),()=>document.removeEventListener("pointermove",handleTrackPointerGrace)}},[eu,ec,ea,el,ef]),(0,et.createElement)(e9,(0,V.Z)({},A,{ref:eo}))}),[e4,e7]=eG(eY,{isInside:!1}),e9=(0,et.forwardRef)((A,N)=>{let{__scopeTooltip:L,children:B,"aria-label":er,onEscapeKeyDown:ei,onPointerDownOutside:eo,...ea}=A,es=eZ(e3,L),eu=ez(L),{onClose:el}=es;return(0,et.useEffect)(()=>(document.addEventListener(eK,el),()=>document.removeEventListener(eK,el)),[el]),(0,et.useEffect)(()=>{if(es.trigger){let handleScroll=A=>{let N=A.target;null!=N&&N.contains(es.trigger)&&el()};return window.addEventListener("scroll",handleScroll,{capture:!0}),()=>window.removeEventListener("scroll",handleScroll,{capture:!0})}},[es.trigger,el]),(0,et.createElement)(ec,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ei,onPointerDownOutside:eo,onFocusOutside:A=>A.preventDefault(),onDismiss:el},(0,et.createElement)(eN,(0,V.Z)({"data-state":es.stateAttribute},eu,ea,{ref:N,style:{...ea.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),(0,et.createElement)(eB.A4,null,B),(0,et.createElement)(e4,{scope:L,isInside:!0},(0,et.createElement)(eH,{id:es.contentId,role:"tooltip"},er||B))))});function $a093c7e1ec25a057$var$getExitSideFromRect(A,N){let L=Math.abs(N.top-A.y),B=Math.abs(N.bottom-A.y),V=Math.abs(N.right-A.x),et=Math.abs(N.left-A.x);switch(Math.min(L,B,V,et)){case et:return"left";case V:return"right";case L:return"top";case B:return"bottom";default:throw Error("unreachable")}}function $a093c7e1ec25a057$var$getPaddedExitPoints(A,N,L=5){let B=[];switch(N){case"top":B.push({x:A.x-L,y:A.y+L},{x:A.x+L,y:A.y+L});break;case"bottom":B.push({x:A.x-L,y:A.y-L},{x:A.x+L,y:A.y-L});break;case"left":B.push({x:A.x+L,y:A.y-L},{x:A.x+L,y:A.y+L});break;case"right":B.push({x:A.x-L,y:A.y-L},{x:A.x-L,y:A.y+L})}return B}function $a093c7e1ec25a057$var$getPointsFromRect(A){let{top:N,right:L,bottom:B,left:V}=A;return[{x:V,y:N},{x:L,y:N},{x:L,y:B},{x:V,y:B}]}function $a093c7e1ec25a057$var$isPointInPolygon(A,N){let{x:L,y:B}=A,V=!1;for(let A=0,et=N.length-1;A<N.length;et=A++){let er=N[A].x,ei=N[A].y,eo=N[et].x,ea=N[et].y,es=ei>B!=ea>B&&L<(eo-er)*(B-ei)/(ea-ei)+er;es&&(V=!V)}return V}function $a093c7e1ec25a057$var$getHull(A){let N=A.slice();return N.sort((A,N)=>A.x<N.x?-1:A.x>N.x?1:A.y<N.y?-1:A.y>N.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(N)}function $a093c7e1ec25a057$var$getHullPresorted(A){if(A.length<=1)return A.slice();let N=[];for(let L=0;L<A.length;L++){let B=A[L];for(;N.length>=2;){let A=N[N.length-1],L=N[N.length-2];if((A.x-L.x)*(B.y-L.y)>=(A.y-L.y)*(B.x-L.x))N.pop();else break}N.push(B)}N.pop();let L=[];for(let N=A.length-1;N>=0;N--){let B=A[N];for(;L.length>=2;){let A=L[L.length-1],N=L[L.length-2];if((A.x-N.x)*(B.y-N.y)>=(A.y-N.y)*(B.x-N.x))L.pop();else break}L.push(B)}return(L.pop(),1===N.length&&1===L.length&&N[0].x===L[0].x&&N[0].y===L[0].y)?N:N.concat(L)}let $a093c7e1ec25a057$export$2881499e37b75b9a=A=>{let{__scopeTooltip:N,delayDuration:L=700,skipDelayDuration:B=300,disableHoverableContent:V=!1,children:er}=A,[ei,eo]=(0,et.useState)(!0),ea=(0,et.useRef)(!1),es=(0,et.useRef)(0);return(0,et.useEffect)(()=>{let A=es.current;return()=>window.clearTimeout(A)},[]),(0,et.createElement)(eV,{scope:N,isOpenDelayed:ei,delayDuration:L,onOpen:(0,et.useCallback)(()=>{window.clearTimeout(es.current),eo(!1)},[]),onClose:(0,et.useCallback)(()=>{window.clearTimeout(es.current),es.current=window.setTimeout(()=>eo(!0),B)},[B]),isPointerInTransitRef:ea,onPointerInTransitChange:(0,et.useCallback)(A=>{ea.current=A},[]),disableHoverableContent:V},er)},$a093c7e1ec25a057$export$be92b6f5f03c0fe9=A=>{let{__scopeTooltip:N,children:L,open:B,defaultOpen:V=!1,onOpenChange:er,disableHoverableContent:ei,delayDuration:eo}=A,ea=eW(eY,A.__scopeTooltip),es=ez(N),[eu,el]=(0,et.useState)(null),ec=(0,ed.M)(),ef=(0,et.useRef)(0),eh=null!=ei?ei:ea.disableHoverableContent,ep=null!=eo?eo:ea.delayDuration,eg=(0,et.useRef)(!1),[em=!1,ev]=(0,eQ.T)({prop:B,defaultProp:V,onChange:A=>{A?(ea.onOpen(),document.dispatchEvent(new CustomEvent(eK))):ea.onClose(),null==er||er(A)}}),ey=(0,et.useMemo)(()=>em?eg.current?"delayed-open":"instant-open":"closed",[em]),e_=(0,et.useCallback)(()=>{window.clearTimeout(ef.current),eg.current=!1,ev(!0)},[ev]),eb=(0,et.useCallback)(()=>{window.clearTimeout(ef.current),ev(!1)},[ev]),ew=(0,et.useCallback)(()=>{window.clearTimeout(ef.current),ef.current=window.setTimeout(()=>{eg.current=!0,ev(!0)},ep)},[ep,ev]);return(0,et.useEffect)(()=>()=>window.clearTimeout(ef.current),[]),(0,et.createElement)($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,es,(0,et.createElement)(eJ,{scope:N,contentId:ec,open:em,stateAttribute:ey,trigger:eu,onTriggerChange:el,onTriggerEnter:(0,et.useCallback)(()=>{ea.isOpenDelayed?ew():e_()},[ea.isOpenDelayed,ew,e_]),onTriggerLeave:(0,et.useCallback)(()=>{eh?eb():window.clearTimeout(ef.current)},[eb,eh]),onOpen:e_,onClose:eb,disableHoverableContent:eh},L))},tt=e0,tr=e6},13251:function(A,N,L){"use strict";L.d(N,{W:function(){return $b1b2314f5f9a1d84$export$25bec8c6f54ee79a}});var B=L(52983);function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(A){let N=(0,B.useRef)(A);return(0,B.useEffect)(()=>{N.current=A}),(0,B.useMemo)(()=>(...A)=>{var L;return null===(L=N.current)||void 0===L?void 0:L.call(N,...A)},[])}},69132:function(A,N,L){"use strict";L.d(N,{T:function(){return $71cd76cc60e0454e$export$6f32135080cb4c3}});var B=L(52983),V=L(13251);function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:A,defaultProp:N,onChange:L=()=>{}}){let[et,er]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:N,onChange:L}),ei=void 0!==A,eo=ei?A:et,ea=(0,V.W)(L),es=(0,B.useCallback)(N=>{if(ei){let L="function"==typeof N?N(A):N;L!==A&&ea(L)}else er(N)},[ei,A,er,ea]);return[eo,es]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:A,onChange:N}){let L=(0,B.useState)(A),[et]=L,er=(0,B.useRef)(et),ei=(0,V.W)(N);return(0,B.useEffect)(()=>{er.current!==et&&(ei(et),er.current=et)},[et,er,ei]),L}},55707:function(A,N,L){"use strict";L.d(N,{b:function(){return V}});var B=L(52983);let V=(null==globalThis?void 0:globalThis.document)?B.useLayoutEffect:()=>{}},96102:function(A,N,L){"use strict";L.d(N,{t:function(){return $db6c3485150b8e66$export$1ab7ae714698c4b8}});var B=L(52983),V=L(55707);function $db6c3485150b8e66$export$1ab7ae714698c4b8(A){let[N,L]=(0,B.useState)(void 0);return(0,V.b)(()=>{if(A){L({width:A.offsetWidth,height:A.offsetHeight});let N=new ResizeObserver(N=>{let B,V;if(!Array.isArray(N)||!N.length)return;let et=N[0];if("borderBoxSize"in et){let A=et.borderBoxSize,N=Array.isArray(A)?A[0]:A;B=N.inlineSize,V=N.blockSize}else B=A.offsetWidth,V=A.offsetHeight;L({width:B,height:V})});return N.observe(A,{box:"border-box"}),()=>N.unobserve(A)}L(void 0)},[A]),N}},40174:function(A,N,L){"use strict";L.d(N,{Av:function(){return $b5e257d569688ac6$export$535bd6ca7f90a273},gP:function(){return ea}});var B=L(52983);let V={prefix:String(Math.round(1e10*Math.random())),current:0},et=B.createContext(V),er=B.createContext(!1),ei=!!("undefined"!=typeof window&&window.document&&window.document.createElement),eo=new WeakMap;function $b5e257d569688ac6$var$useCounter(A=!1){let N=(0,B.useContext)(et),L=(0,B.useRef)(null);if(null===L.current&&!A){var V,er;let A=null===(er=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===er?void 0:null===(V=er.ReactCurrentOwner)||void 0===V?void 0:V.current;if(A){let L=eo.get(A);null==L?eo.set(A,{id:N.current,state:A.memoizedState}):A.memoizedState!==L.state&&(N.current=L.id,eo.delete(A))}L.current=++N.current}return L.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(A){let N=(0,B.useContext)(et);N!==V||ei||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let L=$b5e257d569688ac6$var$useCounter(!!A),er=`react-aria${N.prefix}`;return A||`${er}-${L}`}function $b5e257d569688ac6$var$useModernSSRSafeId(A){let N=B.useId(),[L]=(0,B.useState)($b5e257d569688ac6$export$535bd6ca7f90a273()),et=L?"react-aria":`react-aria${V.prefix}`;return A||`${et}-${N}`}let ea="function"==typeof B.useId?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(A){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return"function"==typeof B.useSyncExternalStore?B.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):(0,B.useContext)(er)}},62571:function(A,N,L){"use strict";L.d(N,{Ao:function(){return $7215afc6de606d6b$export$de79e2c695e052f3},B3:function(){return $df56164dff5785e2$export$4338b53315abf666},Gt:function(){return $2f04cbc44ee30ce0$export$c826860796309d1b},Me:function(){return $bdb11010cef70236$export$f680877a34711e37},PK:function(){return $ef06256079686ba0$export$f8aeda7b10753fa1},Pf:function(){return $c87311424ea30a05$export$78551043582a6a98},QB:function(){return $bbed8b41f857bcc0$export$24490316f764c430},V5:function(){return $c87311424ea30a05$export$9ac100e40613ea10},Zj:function(){return $6a7db85432448f7f$export$60278871457622de},a9:function(){return $62d8ded9296f3872$export$2bb74740c4e19def},ad:function(){return $c87311424ea30a05$export$e1865c3bedcd822b},bE:function(){return $313b98861ee5dd6c$export$d6875122194c7b44},bt:function(){return er},cr:function(){return $6a7db85432448f7f$export$29bf1b5f2c56cf63},dG:function(){return $3ef42575df84b30b$export$9d1611c77c2fe928},gn:function(){return $c87311424ea30a05$export$fedb369cb70207f1},iW:function(){return $8ae05eaa5c114e9c$export$7f54fc3180508a52},kR:function(){return $431fbd86ca7dc216$export$f21a1ffae260145a},lE:function(){return $e7801be82b4b2a53$export$4debdb1a3f0fa79e},lq:function(){return $5dc95899b306f630$export$c9058316764c140e},mp:function(){return $bdb11010cef70236$export$b4cc09c592e8fdb8},nG:function(){return $ea8dcbcb9ea1b556$export$95185d699e05d4d7},nP:function(){return $5df64b3807dc15ee$export$d699905dd57c73ca},pG:function(){return $ea8dcbcb9ea1b556$export$323e4fc2fa4753fb},r3:function(){return $431fbd86ca7dc216$export$b204af158042fbac},rP:function(){return $62d8ded9296f3872$export$cfa2225e87938781},tS:function(){return $ff5963eb1fccf552$export$e08e3b67e392101e},tv:function(){return $ea8dcbcb9ea1b556$export$9a302a45f65d0572},xi:function(){return $03deb23ff14920c4$export$4eaf04e54aa8eed6},y$:function(){return $99facab73266f662$export$5add1d006293d136},yU:function(){return $9daab02d461809db$export$683480f191c0e3ea},zL:function(){return $65484d02dcb7eb3e$export$457c3d6518dd4c6f},zT:function(){return $2f04cbc44ee30ce0$export$53a0910f038337bd},zX:function(){return $e9faafb641e167db$export$90fc3a17d93f704c}});var B=L(52983),V=L(40174),et=L(14517);let er="undefined"!=typeof document?B.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(A){let N=(0,B.useRef)(null);return er(()=>{N.current=A},[A]),(0,B.useCallback)((...A)=>{let L=N.current;return L(...A)},[])}function $1dbecbe27a04f9af$export$14d238f342723f25(A){let[N,L]=(0,B.useState)(A),V=(0,B.useRef)(null),et=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{let A=V.current.next();if(A.done){V.current=null;return}N===A.value?et():L(A.value)});er(()=>{V.current&&et()});let ei=$8ae05eaa5c114e9c$export$7f54fc3180508a52(A=>{V.current=A(N),et()});return[N,ei]}let ei=!!("undefined"!=typeof window&&window.document&&window.document.createElement),eo=new Map;function $bdb11010cef70236$export$f680877a34711e37(A){let[N,L]=(0,B.useState)(A),et=(0,B.useRef)(null),ea=(0,V.gP)(N),es=(0,B.useCallback)(A=>{et.current=A},[]);return ei&&eo.set(ea,es),er(()=>()=>{eo.delete(ea)},[ea]),(0,B.useEffect)(()=>{let A=et.current;A&&(et.current=null,L(A))}),ea}function $bdb11010cef70236$export$cd8c9cb68f842629(A,N){if(A===N)return A;let L=eo.get(A);if(L)return L(N),N;let B=eo.get(N);return B?(B(A),A):N}function $bdb11010cef70236$export$b4cc09c592e8fdb8(A=[]){let N=$bdb11010cef70236$export$f680877a34711e37(),[L,V]=$1dbecbe27a04f9af$export$14d238f342723f25(N),et=(0,B.useCallback)(()=>{V(function*(){yield N,yield document.getElementById(N)?N:void 0})},[N,V]);return er(et,[N,et,...A]),L}function $ff5963eb1fccf552$export$e08e3b67e392101e(...A){return(...N)=>{for(let L of A)"function"==typeof L&&L(...N)}}let $431fbd86ca7dc216$export$b204af158042fbac=A=>{var N;return null!==(N=null==A?void 0:A.ownerDocument)&&void 0!==N?N:document},$431fbd86ca7dc216$export$f21a1ffae260145a=A=>{if(A&&"window"in A&&A.window===A)return A;let N=$431fbd86ca7dc216$export$b204af158042fbac(A);return N.defaultView||window};function $3ef42575df84b30b$export$9d1611c77c2fe928(...A){let N={...A[0]};for(let L=1;L<A.length;L++){let B=A[L];for(let A in B){let L=N[A],V=B[A];"function"==typeof L&&"function"==typeof V&&"o"===A[0]&&"n"===A[1]&&A.charCodeAt(2)>=65&&90>=A.charCodeAt(2)?N[A]=$ff5963eb1fccf552$export$e08e3b67e392101e(L,V):("className"===A||"UNSAFE_className"===A)&&"string"==typeof L&&"string"==typeof V?N[A]=(0,et.Z)(L,V):"id"===A&&L&&V?N.id=$bdb11010cef70236$export$cd8c9cb68f842629(L,V):N[A]=void 0!==V?V:L}}return N}function $5dc95899b306f630$export$c9058316764c140e(...A){return 1===A.length?A[0]:N=>{for(let L of A)"function"==typeof L?L(N):null!=L&&(L.current=N)}}let ea=new Set(["id"]),es=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),eu=new Set(["href","target","rel","download","ping","referrerPolicy"]),el=/^(data-.*)$/;function $65484d02dcb7eb3e$export$457c3d6518dd4c6f(A,N={}){let{labelable:L,isLink:B,propNames:V}=N,et={};for(let N in A)Object.prototype.hasOwnProperty.call(A,N)&&(ea.has(N)||L&&es.has(N)||B&&eu.has(N)||(null==V?void 0:V.has(N))||el.test(N))&&(et[N]=A[N]);return et}function $7215afc6de606d6b$export$de79e2c695e052f3(A){if($7215afc6de606d6b$var$supportsPreventScroll())A.focus({preventScroll:!0});else{let N=$7215afc6de606d6b$var$getScrollableElements(A);A.focus(),$7215afc6de606d6b$var$restoreScrollPosition(N)}}let ec=null;function $7215afc6de606d6b$var$supportsPreventScroll(){if(null==ec){ec=!1;try{document.createElement("div").focus({get preventScroll(){return ec=!0,!0}})}catch(A){}}return ec}function $7215afc6de606d6b$var$getScrollableElements(A){for(var N=A.parentNode,L=[],B=document.scrollingElement||document.documentElement;N instanceof HTMLElement&&N!==B;)(N.offsetHeight<N.scrollHeight||N.offsetWidth<N.scrollWidth)&&L.push({element:N,scrollTop:N.scrollTop,scrollLeft:N.scrollLeft}),N=N.parentNode;return B instanceof HTMLElement&&L.push({element:B,scrollTop:B.scrollTop,scrollLeft:B.scrollLeft}),L}function $7215afc6de606d6b$var$restoreScrollPosition(A){for(let{element:N,scrollTop:L,scrollLeft:B}of A)N.scrollTop=L,N.scrollLeft=B}function $c87311424ea30a05$var$testUserAgent(A){var N;return"undefined"!=typeof window&&null!=window.navigator&&((null===(N=window.navigator.userAgentData)||void 0===N?void 0:N.brands.some(N=>A.test(N.brand)))||A.test(window.navigator.userAgent))}function $c87311424ea30a05$var$testPlatform(A){var N;return"undefined"!=typeof window&&null!=window.navigator&&A.test((null===(N=window.navigator.userAgentData)||void 0===N?void 0:N.platform)||window.navigator.platform)}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$186c6964ca17d99(){return $c87311424ea30a05$var$testPlatform(/^iPhone/i)}function $c87311424ea30a05$export$7bef049ce92e4224(){return $c87311424ea30a05$var$testPlatform(/^iPad/i)||$c87311424ea30a05$export$9ac100e40613ea10()&&navigator.maxTouchPoints>1}function $c87311424ea30a05$export$fedb369cb70207f1(){return $c87311424ea30a05$export$186c6964ca17d99()||$c87311424ea30a05$export$7bef049ce92e4224()}function $c87311424ea30a05$export$e1865c3bedcd822b(){return $c87311424ea30a05$export$9ac100e40613ea10()||$c87311424ea30a05$export$fedb369cb70207f1()}function $c87311424ea30a05$export$78551043582a6a98(){return $c87311424ea30a05$var$testUserAgent(/AppleWebKit/i)&&!$c87311424ea30a05$export$6446a186d09e379e()}function $c87311424ea30a05$export$6446a186d09e379e(){return $c87311424ea30a05$var$testUserAgent(/Chrome/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $c87311424ea30a05$export$b7d78993b74f766d(){return $c87311424ea30a05$var$testUserAgent(/Firefox/i)}let ed=(0,B.createContext)({isNative:!0,open:$ea8dcbcb9ea1b556$var$openSyntheticLink});function $ea8dcbcb9ea1b556$export$323e4fc2fa4753fb(A){let{children:N,navigate:L}=A,V=(0,B.useMemo)(()=>({isNative:!1,open:(A,N)=>{$ea8dcbcb9ea1b556$var$getSyntheticLink(A,A=>{$ea8dcbcb9ea1b556$export$efa8c9099e530235(A,N)?L(A.pathname+A.search+A.hash):$ea8dcbcb9ea1b556$export$95185d699e05d4d7(A,N)})}}),[L]);return B.createElement(ed.Provider,{value:V},N)}function $ea8dcbcb9ea1b556$export$9a302a45f65d0572(){return(0,B.useContext)(ed)}function $ea8dcbcb9ea1b556$export$efa8c9099e530235(A,N){let L=A.getAttribute("target");return(!L||"_self"===L)&&A.origin===location.origin&&!A.hasAttribute("download")&&!N.metaKey&&!N.ctrlKey&&!N.altKey&&!N.shiftKey}function $ea8dcbcb9ea1b556$export$95185d699e05d4d7(A,N,L=!0){var B,V;let{metaKey:et,ctrlKey:er,altKey:ei,shiftKey:eo}=N;$c87311424ea30a05$export$b7d78993b74f766d()&&(null===(V=window.event)||void 0===V?void 0:null===(B=V.type)||void 0===B?void 0:B.startsWith("key"))&&"_blank"===A.target&&($c87311424ea30a05$export$9ac100e40613ea10()?et=!0:er=!0);let ea=$c87311424ea30a05$export$78551043582a6a98()&&$c87311424ea30a05$export$9ac100e40613ea10()&&!$c87311424ea30a05$export$7bef049ce92e4224()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:et,ctrlKey:er,altKey:ei,shiftKey:eo}):new MouseEvent("click",{metaKey:et,ctrlKey:er,altKey:ei,shiftKey:eo,bubbles:!0,cancelable:!0});$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=L,$7215afc6de606d6b$export$de79e2c695e052f3(A),A.dispatchEvent(ea),$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1}function $ea8dcbcb9ea1b556$var$getSyntheticLink(A,N){if(A instanceof HTMLAnchorElement)N(A);else if(A.hasAttribute("data-href")){let L=document.createElement("a");L.href=A.getAttribute("data-href"),A.hasAttribute("data-target")&&(L.target=A.getAttribute("data-target")),A.hasAttribute("data-rel")&&(L.rel=A.getAttribute("data-rel")),A.hasAttribute("data-download")&&(L.download=A.getAttribute("data-download")),A.hasAttribute("data-ping")&&(L.ping=A.getAttribute("data-ping")),A.hasAttribute("data-referrer-policy")&&(L.referrerPolicy=A.getAttribute("data-referrer-policy")),A.appendChild(L),N(L),A.removeChild(L)}}function $ea8dcbcb9ea1b556$var$openSyntheticLink(A,N){$ea8dcbcb9ea1b556$var$getSyntheticLink(A,A=>$ea8dcbcb9ea1b556$export$95185d699e05d4d7(A,N))}$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening=!1;let ef=new Map,eh=new Set;function $bbed8b41f857bcc0$var$setupGlobalEvents(){if("undefined"==typeof window)return;let onTransitionEnd=A=>{let N=ef.get(A.target);if(N&&(N.delete(A.propertyName),0===N.size&&(A.target.removeEventListener("transitioncancel",onTransitionEnd),ef.delete(A.target)),0===ef.size)){for(let A of eh)A();eh.clear()}};document.body.addEventListener("transitionrun",A=>{let N=ef.get(A.target);N||(N=new Set,ef.set(A.target,N),A.target.addEventListener("transitioncancel",onTransitionEnd)),N.add(A.propertyName)}),document.body.addEventListener("transitionend",onTransitionEnd)}function $bbed8b41f857bcc0$export$24490316f764c430(A){requestAnimationFrame(()=>{0===ef.size?A():eh.add(A)})}function $03deb23ff14920c4$export$4eaf04e54aa8eed6(){let A=(0,B.useRef)(new Map),N=(0,B.useCallback)((N,L,B,V)=>{let et=(null==V?void 0:V.once)?(...N)=>{A.current.delete(B),B(...N)}:B;A.current.set(B,{type:L,eventTarget:N,fn:et,options:V}),N.addEventListener(L,B,V)},[]),L=(0,B.useCallback)((N,L,B,V)=>{var et;let er=(null===(et=A.current.get(B))||void 0===et?void 0:et.fn)||B;N.removeEventListener(L,er,V),A.current.delete(B)},[]),V=(0,B.useCallback)(()=>{A.current.forEach((A,N)=>{L(A.eventTarget,A.type,N,A.options)})},[L]);return(0,B.useEffect)(()=>V,[V]),{addGlobalListener:N,removeGlobalListener:L,removeAllGlobalListeners:V}}function $313b98861ee5dd6c$export$d6875122194c7b44(A,N){let{id:L,"aria-label":B,"aria-labelledby":V}=A;return L=$bdb11010cef70236$export$f680877a34711e37(L),V&&B?V=[...new Set([L,...V.trim().split(/\s+/)])].join(" "):V&&(V=V.trim().split(/\s+/).join(" ")),B||V||!N||(B=N),{id:L,"aria-label":B,"aria-labelledby":V}}function $df56164dff5785e2$export$4338b53315abf666(A){let N=(0,B.useRef)();return(0,B.useMemo)(()=>({get current(){return N.current},set current(value){N.current=value,"function"==typeof A?A(value):A&&(A.current=value)}}),[A])}function $9daab02d461809db$var$hasResizeObserver(){return void 0!==window.ResizeObserver}function $9daab02d461809db$export$683480f191c0e3ea(A){let{ref:N,onResize:L}=A;(0,B.useEffect)(()=>{let A=null==N?void 0:N.current;if(A){if(!$9daab02d461809db$var$hasResizeObserver())return window.addEventListener("resize",L,!1),()=>{window.removeEventListener("resize",L,!1)};{let N=new window.ResizeObserver(A=>{A.length&&L()});return N.observe(A),()=>{A&&N.unobserve(A)}}}},[L,N])}function $e7801be82b4b2a53$export$4debdb1a3f0fa79e(A,N){er(()=>{if(A&&A.ref&&N)return A.ref.current=N.current,()=>{A.ref.current=null}})}function $62d8ded9296f3872$export$cfa2225e87938781(A){for($62d8ded9296f3872$export$2bb74740c4e19def(A)&&(A=A.parentElement);A&&!$62d8ded9296f3872$export$2bb74740c4e19def(A);)A=A.parentElement;return A||document.scrollingElement||document.documentElement}function $62d8ded9296f3872$export$2bb74740c4e19def(A){let N=window.getComputedStyle(A);return/(auto|scroll)/.test(N.overflow+N.overflowX+N.overflowY)}"undefined"!=typeof document&&("loading"!==document.readyState?$bbed8b41f857bcc0$var$setupGlobalEvents():document.addEventListener("DOMContentLoaded",$bbed8b41f857bcc0$var$setupGlobalEvents));let ep="undefined"!=typeof document&&window.visualViewport;function $5df64b3807dc15ee$export$d699905dd57c73ca(){let A=(0,V.Av)(),[N,L]=(0,B.useState)(()=>A?{width:0,height:0}:$5df64b3807dc15ee$var$getViewportSize());return(0,B.useEffect)(()=>{let onResize=()=>{L(A=>{let N=$5df64b3807dc15ee$var$getViewportSize();return N.width===A.width&&N.height===A.height?A:N})};return ep?ep.addEventListener("resize",onResize):window.addEventListener("resize",onResize),()=>{ep?ep.removeEventListener("resize",onResize):window.removeEventListener("resize",onResize)}},[]),N}function $5df64b3807dc15ee$var$getViewportSize(){return{width:(null==ep?void 0:ep.width)||window.innerWidth,height:(null==ep?void 0:ep.height)||window.innerHeight}}let eg=0,em=new Map;function $ef06256079686ba0$export$f8aeda7b10753fa1(A){let[N,L]=(0,B.useState)(void 0);return er(()=>{if(!A)return;let N=em.get(A);if(N)L(N.element.id);else{let B=`react-aria-description-${eg++}`;L(B);let V=document.createElement("div");V.id=B,V.style.display="none",V.textContent=A,document.body.appendChild(V),N={refCount:0,element:V},em.set(A,N)}return N.refCount++,()=>{0==--N.refCount&&(N.element.remove(),em.delete(A))}},[A]),{"aria-describedby":A?N:void 0}}function $e9faafb641e167db$export$90fc3a17d93f704c(A,N,L,V){let et=$8ae05eaa5c114e9c$export$7f54fc3180508a52(L),er=null==L;(0,B.useEffect)(()=>{if(er)return;let L=A.current;return L.addEventListener(N,et,V),()=>{L.removeEventListener(N,et,V)}},[A,N,V,er,et])}function $2f04cbc44ee30ce0$export$53a0910f038337bd(A,N){let L=$2f04cbc44ee30ce0$var$relativeOffset(A,N,"left"),B=$2f04cbc44ee30ce0$var$relativeOffset(A,N,"top"),V=N.offsetWidth,et=N.offsetHeight,er=A.scrollLeft,ei=A.scrollTop,{borderTopWidth:eo,borderLeftWidth:ea}=getComputedStyle(A),es=A.scrollLeft+parseInt(ea,10),eu=A.scrollTop+parseInt(eo,10),el=es+A.clientWidth,ec=eu+A.clientHeight;L<=er?er=L-parseInt(ea,10):L+V>el&&(er+=L+V-el),B<=eu?ei=B-parseInt(eo,10):B+et>ec&&(ei+=B+et-ec),A.scrollLeft=er,A.scrollTop=ei}function $2f04cbc44ee30ce0$var$relativeOffset(A,N,L){let B="left"===L?"offsetLeft":"offsetTop",V=0;for(;N.offsetParent&&(V+=N[B],N.offsetParent!==A);){if(N.offsetParent.contains(A)){V-=A[B];break}N=N.offsetParent}return V}function $2f04cbc44ee30ce0$export$c826860796309d1b(A,N){if(document.contains(A)){let er=document.scrollingElement||document.documentElement;if("hidden"===window.getComputedStyle(er).overflow){let N=$62d8ded9296f3872$export$cfa2225e87938781(A);for(;A&&N&&A!==er&&N!==er;)$2f04cbc44ee30ce0$export$53a0910f038337bd(N,A),N=$62d8ded9296f3872$export$cfa2225e87938781(A=N)}else{var L,B,V,et;let{left:er,top:ei}=A.getBoundingClientRect();null==A||null===(L=A.scrollIntoView)||void 0===L||L.call(A,{block:"nearest"});let{left:eo,top:ea}=A.getBoundingClientRect();(Math.abs(er-eo)>1||Math.abs(ei-ea)>1)&&(null==N||null===(V=N.containingElement)||void 0===V||null===(B=V.scrollIntoView)||void 0===B||B.call(V,{block:"center",inline:"center"}),null===(et=A.scrollIntoView)||void 0===et||et.call(A,{block:"nearest"}))}}}function $6a7db85432448f7f$export$60278871457622de(A){return 0===A.mozInputSource&&!!A.isTrusted||($c87311424ea30a05$export$a11b0059900ceec8()&&A.pointerType?"click"===A.type&&1===A.buttons:0===A.detail&&!A.pointerType)}function $6a7db85432448f7f$export$29bf1b5f2c56cf63(A){return!$c87311424ea30a05$export$a11b0059900ceec8()&&0===A.width&&0===A.height||1===A.width&&1===A.height&&0===A.pressure&&0===A.detail&&"mouse"===A.pointerType}function $99facab73266f662$export$5add1d006293d136(A,N,L){let V=(0,B.useRef)(N),et=$8ae05eaa5c114e9c$export$7f54fc3180508a52(()=>{L&&L(V.current)});(0,B.useEffect)(()=>{var N;let L=null==A?void 0:null===(N=A.current)||void 0===N?void 0:N.form;return null==L||L.addEventListener("reset",et),()=>{null==L||L.removeEventListener("reset",et)}},[A,et])}},12388:function(A,N,L){"use strict";L.d(N,{j:function(){return et}});var B=L(194),V=L(54397);let FocusManager=class FocusManager extends B.l{constructor(){super(),this.setup=A=>{if(!V.sk&&window.addEventListener){let listener=()=>A();return window.addEventListener("visibilitychange",listener,!1),window.addEventListener("focus",listener,!1),()=>{window.removeEventListener("visibilitychange",listener),window.removeEventListener("focus",listener)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var A;null==(A=this.cleanup)||A.call(this),this.cleanup=void 0}}setEventListener(A){var N;this.setup=A,null==(N=this.cleanup)||N.call(this),this.cleanup=A(A=>{"boolean"==typeof A?this.setFocused(A):this.onFocus()})}setFocused(A){this.focused=A,A&&this.onFocus()}onFocus(){this.listeners.forEach(A=>{A()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}};let et=new FocusManager},2686:function(A,N,L){"use strict";L.d(N,{_:function(){return B}});let B=console},12025:function(A,N,L){"use strict";L.d(N,{R:function(){return getDefaultState},m:function(){return Mutation}});var B=L(2686),V=L(86581),et=L(94905),er=L(97481);let Mutation=class Mutation extends et.F{constructor(A){super(),this.options={...A.defaultOptions,...A.options},this.mutationId=A.mutationId,this.mutationCache=A.mutationCache,this.logger=A.logger||B._,this.observers=[],this.state=A.state||getDefaultState(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(A){this.dispatch({type:"setState",state:A})}addObserver(A){-1===this.observers.indexOf(A)&&(this.observers.push(A),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:A}))}removeObserver(A){this.observers=this.observers.filter(N=>N!==A),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:A})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var A,N;return null!=(A=null==(N=this.retryer)?void 0:N.continue())?A:this.execute()}async execute(){var A,N,L,B,V,et,ei,eo,ea,es,eu,el,ec,ed,ef,eh;let ep="loading"===this.state.status;try{if(!ep){this.dispatch({type:"loading",variables:this.options.variables}),await (null==(ei=(eo=this.mutationCache.config).onMutate)?void 0:ei.call(eo,this.state.variables,this));let A=await (null==(ea=(es=this.options).onMutate)?void 0:ea.call(es,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}let eu=await (()=>{var A;return this.retryer=(0,er.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,N)=>{this.dispatch({type:"failed",failureCount:A,error:N})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(A=this.options.retry)?A:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise})();return await (null==(A=(N=this.mutationCache.config).onSuccess)?void 0:A.call(N,eu,this.state.variables,this.state.context,this)),await (null==(L=(B=this.options).onSuccess)?void 0:L.call(B,eu,this.state.variables,this.state.context)),await (null==(V=(et=this.options).onSettled)?void 0:V.call(et,eu,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:eu}),eu}catch(A){try{throw await (null==(eu=(el=this.mutationCache.config).onError)?void 0:eu.call(el,A,this.state.variables,this.state.context,this)),await (null==(ec=(ed=this.options).onError)?void 0:ec.call(ed,A,this.state.variables,this.state.context)),await (null==(ef=(eh=this.options).onSettled)?void 0:ef.call(eh,void 0,A,this.state.variables,this.state.context)),A}finally{this.dispatch({type:"error",error:A})}}}dispatch(A){this.state=(N=>{switch(A.type){case"failed":return{...N,failureCount:A.failureCount,failureReason:A.error};case"pause":return{...N,isPaused:!0};case"continue":return{...N,isPaused:!1};case"loading":return{...N,context:A.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,er.Kw)(this.options.networkMode),status:"loading",variables:A.variables};case"success":return{...N,data:A.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...N,data:void 0,error:A.error,failureCount:N.failureCount+1,failureReason:A.error,isPaused:!1,status:"error"};case"setState":return{...N,...A.state}}})(this.state),V.V.batch(()=>{this.observers.forEach(N=>{N.onMutationUpdate(A)}),this.mutationCache.notify({mutation:this,type:"updated",action:A})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}},86581:function(A,N,L){"use strict";L.d(N,{V:function(){return V}});var B=L(54397);function createNotifyManager(){let A=[],N=0,notifyFn=A=>{A()},batchNotifyFn=A=>{A()},schedule=L=>{N?A.push(L):(0,B.A4)(()=>{notifyFn(L)})},flush=()=>{let N=A;A=[],N.length&&(0,B.A4)(()=>{batchNotifyFn(()=>{N.forEach(A=>{notifyFn(A)})})})};return{batch:A=>{let L;N++;try{L=A()}finally{--N||flush()}return L},batchCalls:A=>(...N)=>{schedule(()=>{A(...N)})},schedule,setNotifyFunction:A=>{notifyFn=A},setBatchNotifyFunction:A=>{batchNotifyFn=A}}}let V=createNotifyManager()},32867:function(A,N,L){"use strict";L.d(N,{N:function(){return et}});var B=L(194),V=L(54397);let OnlineManager=class OnlineManager extends B.l{constructor(){super(),this.setup=A=>{if(!V.sk&&window.addEventListener){let listener=()=>A();return window.addEventListener("online",listener,!1),window.addEventListener("offline",listener,!1),()=>{window.removeEventListener("online",listener),window.removeEventListener("offline",listener)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var A;null==(A=this.cleanup)||A.call(this),this.cleanup=void 0}}setEventListener(A){var N;this.setup=A,null==(N=this.cleanup)||N.call(this),this.cleanup=A(A=>{"boolean"==typeof A?this.setOnline(A):this.onOnline()})}setOnline(A){this.online=A,A&&this.onOnline()}onOnline(){this.listeners.forEach(A=>{A()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};let et=new OnlineManager},96008:function(A,N,L){"use strict";L.d(N,{z:function(){return QueryObserver}});var B=L(54397),V=L(86581),et=L(12388),er=L(194),ei=L(97481);let QueryObserver=class QueryObserver extends er.l{constructor(A,N){super(),this.client=A,this.options=N,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(N)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.length&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(A,N){let L=this.options,V=this.currentQuery;if(this.options=this.client.defaultQueryOptions(A),(0,B.VS)(L,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=L.queryKey),this.updateQuery();let et=this.hasListeners();et&&shouldFetchOptionally(this.currentQuery,V,this.options,L)&&this.executeFetch(),this.updateResult(N),et&&(this.currentQuery!==V||this.options.enabled!==L.enabled||this.options.staleTime!==L.staleTime)&&this.updateStaleTimeout();let er=this.computeRefetchInterval();et&&(this.currentQuery!==V||this.options.enabled!==L.enabled||er!==this.currentRefetchInterval)&&this.updateRefetchInterval(er)}getOptimisticResult(A){let N=this.client.getQueryCache().build(this.client,A);return this.createResult(N,A)}getCurrentResult(){return this.currentResult}trackResult(A){let N={};return Object.keys(A).forEach(L=>{Object.defineProperty(N,L,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(L),A[L])})}),N}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:A,...N}={}){return this.fetch({...N,meta:{refetchPage:A}})}fetchOptimistic(A){let N=this.client.defaultQueryOptions(A),L=this.client.getQueryCache().build(this.client,N);return L.isFetchingOptimistic=!0,L.fetch().then(()=>this.createResult(L,N))}fetch(A){var N;return this.executeFetch({...A,cancelRefetch:null==(N=A.cancelRefetch)||N}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(A){this.updateQuery();let N=this.currentQuery.fetch(this.options,A);return null!=A&&A.throwOnError||(N=N.catch(B.ZT)),N}updateStaleTimeout(){if(this.clearStaleTimeout(),B.sk||this.currentResult.isStale||!(0,B.PN)(this.options.staleTime))return;let A=(0,B.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},A+1)}computeRefetchInterval(){var A;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(A=this.options.refetchInterval)&&A}updateRefetchInterval(A){this.clearRefetchInterval(),this.currentRefetchInterval=A,!B.sk&&!1!==this.options.enabled&&(0,B.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||et.j.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(A,N){let L;let V=this.currentQuery,et=this.options,er=this.currentResult,eo=this.currentResultState,ea=this.currentResultOptions,es=A!==V,eu=es?A.state:this.currentQueryInitialState,el=es?this.currentResult:this.previousQueryResult,{state:ec}=A,{dataUpdatedAt:ed,error:ef,errorUpdatedAt:eh,fetchStatus:ep,status:eg}=ec,em=!1,ev=!1;if(N._optimisticResults){let L=this.hasListeners(),B=!L&&shouldFetchOnMount(A,N),er=L&&shouldFetchOptionally(A,V,N,et);(B||er)&&(ep=(0,ei.Kw)(A.options.networkMode)?"fetching":"paused",ed||(eg="loading")),"isRestoring"===N._optimisticResults&&(ep="idle")}if(N.keepPreviousData&&!ec.dataUpdatedAt&&null!=el&&el.isSuccess&&"error"!==eg)L=el.data,ed=el.dataUpdatedAt,eg=el.status,em=!0;else if(N.select&&void 0!==ec.data){if(er&&ec.data===(null==eo?void 0:eo.data)&&N.select===this.selectFn)L=this.selectResult;else try{this.selectFn=N.select,L=N.select(ec.data),L=(0,B.oE)(null==er?void 0:er.data,L,N),this.selectResult=L,this.selectError=null}catch(A){this.selectError=A}}else L=ec.data;if(void 0!==N.placeholderData&&void 0===L&&"loading"===eg){let A;if(null!=er&&er.isPlaceholderData&&N.placeholderData===(null==ea?void 0:ea.placeholderData))A=er.data;else if(A="function"==typeof N.placeholderData?N.placeholderData():N.placeholderData,N.select&&void 0!==A)try{A=N.select(A),this.selectError=null}catch(A){this.selectError=A}void 0!==A&&(eg="success",L=(0,B.oE)(null==er?void 0:er.data,A,N),ev=!0)}this.selectError&&(ef=this.selectError,L=this.selectResult,eh=Date.now(),eg="error");let ey="fetching"===ep,e_="loading"===eg,eb="error"===eg,ew={status:eg,fetchStatus:ep,isLoading:e_,isSuccess:"success"===eg,isError:eb,isInitialLoading:e_&&ey,data:L,dataUpdatedAt:ed,error:ef,errorUpdatedAt:eh,failureCount:ec.fetchFailureCount,failureReason:ec.fetchFailureReason,errorUpdateCount:ec.errorUpdateCount,isFetched:ec.dataUpdateCount>0||ec.errorUpdateCount>0,isFetchedAfterMount:ec.dataUpdateCount>eu.dataUpdateCount||ec.errorUpdateCount>eu.errorUpdateCount,isFetching:ey,isRefetching:ey&&!e_,isLoadingError:eb&&0===ec.dataUpdatedAt,isPaused:"paused"===ep,isPlaceholderData:ev,isPreviousData:em,isRefetchError:eb&&0!==ec.dataUpdatedAt,isStale:isStale(A,N),refetch:this.refetch,remove:this.remove};return ew}updateResult(A){let N=this.currentResult,L=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,B.VS)(L,N))return;this.currentResult=L;let V={cache:!0};(null==A?void 0:A.listeners)!==!1&&(()=>{if(!N)return!0;let{notifyOnChangeProps:A}=this.options;if("all"===A||!A&&!this.trackedProps.size)return!0;let L=new Set(null!=A?A:this.trackedProps);return this.options.useErrorBoundary&&L.add("error"),Object.keys(this.currentResult).some(A=>{let B=this.currentResult[A]!==N[A];return B&&L.has(A)})})()&&(V.listeners=!0),this.notify({...V,...A})}updateQuery(){let A=this.client.getQueryCache().build(this.client,this.options);if(A===this.currentQuery)return;let N=this.currentQuery;this.currentQuery=A,this.currentQueryInitialState=A.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==N||N.removeObserver(this),A.addObserver(this))}onQueryUpdate(A){let N={};"success"===A.type?N.onSuccess=!A.manual:"error"!==A.type||(0,ei.DV)(A.error)||(N.onError=!0),this.updateResult(N),this.hasListeners()&&this.updateTimers()}notify(A){V.V.batch(()=>{var N,L,B,V,et,er,ei,eo;A.onSuccess?(null==(N=(L=this.options).onSuccess)||N.call(L,this.currentResult.data),null==(B=(V=this.options).onSettled)||B.call(V,this.currentResult.data,null)):A.onError&&(null==(et=(er=this.options).onError)||et.call(er,this.currentResult.error),null==(ei=(eo=this.options).onSettled)||ei.call(eo,void 0,this.currentResult.error)),A.listeners&&this.listeners.forEach(A=>{A(this.currentResult)}),A.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}};function shouldLoadOnMount(A,N){return!1!==N.enabled&&!A.state.dataUpdatedAt&&!("error"===A.state.status&&!1===N.retryOnMount)}function shouldFetchOnMount(A,N){return shouldLoadOnMount(A,N)||A.state.dataUpdatedAt>0&&shouldFetchOn(A,N,N.refetchOnMount)}function shouldFetchOn(A,N,L){if(!1!==N.enabled){let B="function"==typeof L?L(A):L;return"always"===B||!1!==B&&isStale(A,N)}return!1}function shouldFetchOptionally(A,N,L,B){return!1!==L.enabled&&(A!==N||!1===B.enabled)&&(!L.suspense||"error"!==A.state.status)&&isStale(A,L)}function isStale(A,N){return A.isStaleByTime(N.staleTime)}},94905:function(A,N,L){"use strict";L.d(N,{F:function(){return Removable}});var B=L(54397);let Removable=class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,B.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(A){this.cacheTime=Math.max(this.cacheTime||0,null!=A?A:B.sk?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}},97481:function(A,N,L){"use strict";L.d(N,{DV:function(){return isCancelledError},Kw:function(){return canFetch},Mz:function(){return createRetryer}});var B=L(12388),V=L(32867),et=L(54397);function defaultRetryDelay(A){return Math.min(1e3*2**A,3e4)}function canFetch(A){return(null!=A?A:"online")!=="online"||V.N.isOnline()}let CancelledError=class CancelledError{constructor(A){this.revert=null==A?void 0:A.revert,this.silent=null==A?void 0:A.silent}};function isCancelledError(A){return A instanceof CancelledError}function createRetryer(A){let N,L,er,ei=!1,eo=0,ea=!1,es=new Promise((A,N)=>{L=A,er=N}),shouldPause=()=>!B.j.isFocused()||"always"!==A.networkMode&&!V.N.isOnline(),resolve=B=>{ea||(ea=!0,null==A.onSuccess||A.onSuccess(B),null==N||N(),L(B))},reject=L=>{ea||(ea=!0,null==A.onError||A.onError(L),null==N||N(),er(L))},pause=()=>new Promise(L=>{N=A=>{let N=ea||!shouldPause();return N&&L(A),N},null==A.onPause||A.onPause()}).then(()=>{N=void 0,ea||null==A.onContinue||A.onContinue()}),run=()=>{let N;if(!ea){try{N=A.fn()}catch(A){N=Promise.reject(A)}Promise.resolve(N).then(resolve).catch(N=>{var L,B;if(ea)return;let V=null!=(L=A.retry)?L:3,er=null!=(B=A.retryDelay)?B:defaultRetryDelay,es="function"==typeof er?er(eo,N):er,eu=!0===V||"number"==typeof V&&eo<V||"function"==typeof V&&V(eo,N);if(ei||!eu){reject(N);return}eo++,null==A.onFail||A.onFail(eo,N),(0,et.Gh)(es).then(()=>{if(shouldPause())return pause()}).then(()=>{ei?reject(N):run()})})}};return canFetch(A.networkMode)?run():pause().then(run),{promise:es,cancel:N=>{ea||(reject(new CancelledError(N)),null==A.abort||A.abort())},continue:()=>{let A=null==N?void 0:N();return A?es:Promise.resolve()},cancelRetry:()=>{ei=!0},continueRetry:()=>{ei=!1}}}},194:function(A,N,L){"use strict";L.d(N,{l:function(){return Subscribable}});let Subscribable=class Subscribable{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(A){return this.listeners.push(A),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(N=>N!==A),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}},54397:function(A,N,L){"use strict";L.d(N,{A4:function(){return scheduleMicrotask},G9:function(){return getAbortController},Gh:function(){return sleep},I6:function(){return parseFilterArgs},Kp:function(){return timeUntilStale},PN:function(){return isValidTimeout},Rc:function(){return replaceAt},Rm:function(){return hashQueryKeyByOptions},SE:function(){return functionalUpdate},VS:function(){return shallowEqualObjects},X7:function(){return matchMutation},ZT:function(){return noop},_v:function(){return parseQueryArgs},_x:function(){return matchQuery},e5:function(){return difference},lV:function(){return parseMutationArgs},oE:function(){return replaceData},sk:function(){return B},to:function(){return partialMatchKey},yF:function(){return hashQueryKey}});let B="undefined"==typeof window||"Deno"in window;function noop(){}function functionalUpdate(A,N){return"function"==typeof A?A(N):A}function isValidTimeout(A){return"number"==typeof A&&A>=0&&A!==1/0}function difference(A,N){return A.filter(A=>-1===N.indexOf(A))}function replaceAt(A,N,L){let B=A.slice(0);return B[N]=L,B}function timeUntilStale(A,N){return Math.max(A+(N||0)-Date.now(),0)}function parseQueryArgs(A,N,L){return isQueryKey(A)?"function"==typeof N?{...L,queryKey:A,queryFn:N}:{...N,queryKey:A}:A}function parseMutationArgs(A,N,L){return isQueryKey(A)?"function"==typeof N?{...L,mutationKey:A,mutationFn:N}:{...N,mutationKey:A}:"function"==typeof A?{...N,mutationFn:A}:{...A}}function parseFilterArgs(A,N,L){return isQueryKey(A)?[{...N,queryKey:A},L]:[A||{},N]}function matchQuery(A,N){let{type:L="all",exact:B,fetchStatus:V,predicate:et,queryKey:er,stale:ei}=A;if(isQueryKey(er)){if(B){if(N.queryHash!==hashQueryKeyByOptions(er,N.options))return!1}else{if(!partialDeepEqual(N.queryKey,er))return!1}}if("all"!==L){let A=N.isActive();if("active"===L&&!A||"inactive"===L&&A)return!1}return("boolean"!=typeof ei||N.isStale()===ei)&&(void 0===V||V===N.state.fetchStatus)&&(!et||!!et(N))}function matchMutation(A,N){let{exact:L,fetching:B,predicate:V,mutationKey:et}=A;if(isQueryKey(et)){if(!N.options.mutationKey)return!1;if(L){if(hashQueryKey(N.options.mutationKey)!==hashQueryKey(et))return!1}else{if(!partialDeepEqual(N.options.mutationKey,et))return!1}}return("boolean"!=typeof B||"loading"===N.state.status===B)&&(!V||!!V(N))}function hashQueryKeyByOptions(A,N){let L=(null==N?void 0:N.queryKeyHashFn)||hashQueryKey;return L(A)}function hashQueryKey(A){return JSON.stringify(A,(A,N)=>isPlainObject(N)?Object.keys(N).sort().reduce((A,L)=>(A[L]=N[L],A),{}):N)}function partialMatchKey(A,N){return partialDeepEqual(A,N)}function partialDeepEqual(A,N){return A===N||typeof A==typeof N&&!!A&&!!N&&"object"==typeof A&&"object"==typeof N&&!Object.keys(N).some(L=>!partialDeepEqual(A[L],N[L]))}function replaceEqualDeep(A,N){if(A===N)return A;let L=isPlainArray(A)&&isPlainArray(N);if(L||isPlainObject(A)&&isPlainObject(N)){let B=L?A.length:Object.keys(A).length,V=L?N:Object.keys(N),et=V.length,er=L?[]:{},ei=0;for(let B=0;B<et;B++){let et=L?B:V[B];er[et]=replaceEqualDeep(A[et],N[et]),er[et]===A[et]&&ei++}return B===et&&ei===B?A:er}return N}function shallowEqualObjects(A,N){if(A&&!N||N&&!A)return!1;for(let L in A)if(A[L]!==N[L])return!1;return!0}function isPlainArray(A){return Array.isArray(A)&&A.length===Object.keys(A).length}function isPlainObject(A){if(!hasObjectPrototype(A))return!1;let N=A.constructor;if(void 0===N)return!0;let L=N.prototype;return!!(hasObjectPrototype(L)&&L.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(A){return"[object Object]"===Object.prototype.toString.call(A)}function isQueryKey(A){return Array.isArray(A)}function sleep(A){return new Promise(N=>{setTimeout(N,A)})}function scheduleMicrotask(A){sleep(0).then(A)}function getAbortController(){if("function"==typeof AbortController)return new AbortController}function replaceData(A,N,L){return null!=L.isDataEqual&&L.isDataEqual(A,N)?A:"function"==typeof L.structuralSharing?L.structuralSharing(A,N):!1!==L.structuralSharing?replaceEqualDeep(A,N):N}},49838:function(A,N,L){"use strict";L.d(N,{NL:function(){return useQueryClient},aH:function(){return QueryClientProvider}});var B=L(52983);let V=B.createContext(void 0),et=B.createContext(!1);function getQueryClientContext(A,N){return A||(N&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=V),window.ReactQueryClientContext):V)}let useQueryClient=({context:A}={})=>{let N=B.useContext(getQueryClientContext(A,B.useContext(et)));if(!N)throw Error("No QueryClient set, use QueryClientProvider to set one");return N},QueryClientProvider=({client:A,children:N,context:L,contextSharing:V=!1})=>{B.useEffect(()=>(A.mount(),()=>{A.unmount()}),[A]);let er=getQueryClientContext(L,V);return B.createElement(et.Provider,{value:!L&&V},B.createElement(er.Provider,{value:A},N))}},56111:function(A,N,L){"use strict";L.d(N,{_:function(){return useQueryErrorResetBoundary}});var B=L(52983);function createValue(){let A=!1;return{clearReset:()=>{A=!1},reset:()=>{A=!0},isReset:()=>A}}let V=B.createContext(createValue()),useQueryErrorResetBoundary=()=>B.useContext(V)},23119:function(A,N,L){"use strict";L.d(N,{JN:function(){return useClearResetErrorBoundary},KJ:function(){return getHasError},pf:function(){return ensurePreventErrorBoundaryRetry}});var B=L(52983),V=L(54277);let ensurePreventErrorBoundaryRetry=(A,N)=>{(A.suspense||A.useErrorBoundary)&&!N.isReset()&&(A.retryOnMount=!1)},useClearResetErrorBoundary=A=>{B.useEffect(()=>{A.clearReset()},[A])},getHasError=({result:A,errorResetBoundary:N,useErrorBoundary:L,query:B})=>A.isError&&!N.isReset()&&!A.isFetching&&(0,V.L)(L,[A.error,B])},72799:function(A,N,L){"use strict";L.d(N,{S:function(){return useIsRestoring}});var B=L(52983);let V=B.createContext(!1),useIsRestoring=()=>B.useContext(V);V.Provider},70954:function(A,N,L){"use strict";L.d(N,{Fb:function(){return ensureStaleTime},SB:function(){return shouldSuspend},Z$:function(){return willFetch},j8:function(){return fetchOptimistic}});let ensureStaleTime=A=>{A.suspense&&"number"!=typeof A.staleTime&&(A.staleTime=1e3)},willFetch=(A,N)=>A.isLoading&&A.isFetching&&!N,shouldSuspend=(A,N,L)=>(null==A?void 0:A.suspense)&&willFetch(N,L),fetchOptimistic=(A,N,L)=>N.fetchOptimistic(A).then(({data:N})=>{null==A.onSuccess||A.onSuccess(N),null==A.onSettled||A.onSettled(N,null)}).catch(N=>{L.clearReset(),null==A.onError||A.onError(N),null==A.onSettled||A.onSettled(void 0,N)})},5054:function(A,N,L){"use strict";L.d(N,{r:function(){return useBaseQuery}});var B=L(52983),V=L(17602),et=L(86581),er=L(56111),ei=L(49838),eo=L(72799),ea=L(23119),es=L(70954);function useBaseQuery(A,N){let L=(0,ei.NL)({context:A.context}),eu=(0,eo.S)(),el=(0,er._)(),ec=L.defaultQueryOptions(A);ec._optimisticResults=eu?"isRestoring":"optimistic",ec.onError&&(ec.onError=et.V.batchCalls(ec.onError)),ec.onSuccess&&(ec.onSuccess=et.V.batchCalls(ec.onSuccess)),ec.onSettled&&(ec.onSettled=et.V.batchCalls(ec.onSettled)),(0,es.Fb)(ec),(0,ea.pf)(ec,el),(0,ea.JN)(el);let[ed]=B.useState(()=>new N(L,ec)),ef=ed.getOptimisticResult(ec);if((0,V.$)(B.useCallback(A=>eu?()=>void 0:ed.subscribe(et.V.batchCalls(A)),[ed,eu]),()=>ed.getCurrentResult(),()=>ed.getCurrentResult()),B.useEffect(()=>{ed.setOptions(ec,{listeners:!1})},[ec,ed]),(0,es.SB)(ec,ef,eu))throw(0,es.j8)(ec,ed,el);if((0,ea.KJ)({result:ef,errorResetBoundary:el,useErrorBoundary:ec.useErrorBoundary,query:ed.getCurrentQuery()}))throw ef.error;return ec.notifyOnChangeProps?ef:ed.trackResult(ef)}},3265:function(A,N,L){"use strict";L.d(N,{D:function(){return useMutation}});var B=L(52983),V=L(17602),et=L(54397),er=L(12025),ei=L(86581),eo=L(194);let MutationObserver=class MutationObserver extends eo.l{constructor(A,N){super(),this.client=A,this.setOptions(N),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(A){let N=this.options;this.options=this.client.defaultMutationOptions(A),(0,et.VS)(N,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var A;null==(A=this.currentMutation)||A.removeObserver(this)}}onMutationUpdate(A){this.updateResult();let N={listeners:!0};"success"===A.type?N.onSuccess=!0:"error"===A.type&&(N.onError=!0),this.notify(N)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(A,N){return this.mutateOptions=N,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==A?A:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let A=this.currentMutation?this.currentMutation.state:(0,er.R)(),N={...A,isLoading:"loading"===A.status,isSuccess:"success"===A.status,isError:"error"===A.status,isIdle:"idle"===A.status,mutate:this.mutate,reset:this.reset};this.currentResult=N}notify(A){ei.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var N,L,B,V,et,er,ei,eo;A.onSuccess?(null==(N=(L=this.mutateOptions).onSuccess)||N.call(L,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(B=(V=this.mutateOptions).onSettled)||B.call(V,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):A.onError&&(null==(et=(er=this.mutateOptions).onError)||et.call(er,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(ei=(eo=this.mutateOptions).onSettled)||ei.call(eo,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}A.listeners&&this.listeners.forEach(A=>{A(this.currentResult)})})}};var ea=L(49838),es=L(54277);function useMutation(A,N,L){let er=(0,et.lV)(A,N,L),eo=(0,ea.NL)({context:er.context}),[eu]=B.useState(()=>new MutationObserver(eo,er));B.useEffect(()=>{eu.setOptions(er)},[eu,er]);let el=(0,V.$)(B.useCallback(A=>eu.subscribe(ei.V.batchCalls(A)),[eu]),()=>eu.getCurrentResult(),()=>eu.getCurrentResult()),ec=B.useCallback((A,N)=>{eu.mutate(A,N).catch(noop)},[eu]);if(el.error&&(0,es.L)(eu.options.useErrorBoundary,[el.error]))throw el.error;return{...el,mutate:ec,mutateAsync:el.mutate}}function noop(){}},56438:function(A,N,L){"use strict";L.d(N,{a:function(){return useQuery}});var B=L(54397),V=L(96008),et=L(5054);function useQuery(A,N,L){let er=(0,B._v)(A,N,L);return(0,et.r)(er,V.z)}},17602:function(A,N,L){"use strict";L.d(N,{$:function(){return V}});var B=L(83576);let V=B.useSyncExternalStore},54277:function(A,N,L){"use strict";function shouldThrowError(A,N){return"function"==typeof A?A(...N):!!A}L.d(N,{L:function(){return shouldThrowError}})},74550:function(A,N,L){"use strict";L.d(N,{Dv:function(){return useAtomValue},KO:function(){return useAtom},b9:function(){return useSetAtom}});var B=L(52983),V=L(79905);let et=(0,B.createContext)(void 0),useStore=A=>{let N=(0,B.useContext)(et);return(null==A?void 0:A.store)||N||(0,V.K7)()},isPromiseLike=A=>"function"==typeof(null==A?void 0:A.then),er=B.use||(A=>{if("pending"===A.status)throw A;if("fulfilled"===A.status)return A.value;if("rejected"===A.status)throw A.reason;throw A.status="pending",A.then(N=>{A.status="fulfilled",A.value=N},N=>{A.status="rejected",A.reason=N}),A});function useAtomValue(A,N){let L=useStore(N),[[V,et,ei],eo]=(0,B.useReducer)(N=>{let B=L.get(A);return Object.is(N[0],B)&&N[1]===L&&N[2]===A?N:[B,L,A]},void 0,()=>[L.get(A),L,A]),ea=V;(et!==L||ei!==A)&&(eo(),ea=L.get(A));let es=null==N?void 0:N.delay;return(0,B.useEffect)(()=>{let N=L.sub(A,()=>{if("number"==typeof es){setTimeout(eo,es);return}eo()});return eo(),N},[L,A,es]),(0,B.useDebugValue)(ea),isPromiseLike(ea)?er(ea):ea}function useSetAtom(A,N){let L=useStore(N),V=(0,B.useCallback)((...N)=>{if(!("write"in A))throw Error("not writable atom");return L.set(A,...N)},[L,A]);return V}function useAtom(A,N){return[useAtomValue(A,N),useSetAtom(A,N)]}},79905:function(A,N,L){"use strict";let B;L.d(N,{K7:function(){return getDefaultStore},cn:function(){return atom}});let V=0;function atom(A,N){let L=`atom${++V}`,B={toString:()=>L};return"function"==typeof A?B.read=A:(B.init=A,B.read=A=>A(B),B.write=(A,N,L)=>N(B,"function"==typeof L?L(A(B)):L)),N&&(B.write=N),B}let hasInitialValue=A=>"init"in A,isActuallyWritableAtom=A=>!!A.write,et=new WeakMap,registerCancelPromise=(A,N)=>{et.set(A,N),A.catch(()=>{}).finally(()=>et.delete(A))},cancelPromise=(A,N)=>{let L=et.get(A);L&&(et.delete(A),L(N))},resolvePromise=(A,N)=>{A.status="fulfilled",A.value=N},rejectPromise=(A,N)=>{A.status="rejected",A.reason=N},isPromiseLike=A=>"function"==typeof(null==A?void 0:A.then),isEqualAtomValue=(A,N)=>"v"in A&&"v"in N&&Object.is(A.v,N.v),isEqualAtomError=(A,N)=>"e"in A&&"e"in N&&Object.is(A.e,N.e),hasPromiseAtomValue=A=>"v"in A&&A.v instanceof Promise,isEqualPromiseAtomValue=(A,N)=>"v"in A&&"v"in N&&A.v.orig&&A.v.orig===N.v.orig,returnAtomValue=A=>{if("e"in A)throw A.e;return A.v},createStore=()=>{let A,N,L;let B=new WeakMap,V=new WeakMap,et=new Map;A=new Set,N=new Set,L=new Set;let getAtomState=A=>B.get(A),setAtomState=(A,N)=>{Object.freeze(N);let L=B.get(A);if(B.set(A,N),et.has(A)||et.set(A,L),L&&hasPromiseAtomValue(L)){let A="v"in N?N.v instanceof Promise?N.v:Promise.resolve(N.v):Promise.reject(N.e);cancelPromise(L.v,A)}},updateDependencies=(A,N,L)=>{let B=new Map,V=!1;L.forEach((L,et)=>{L||et!==A||(L=N),L?(B.set(et,L),N.d.get(et)!==L&&(V=!0)):console.warn("[Bug] atom state not found")}),(V||N.d.size!==B.size)&&(N.d=B)},setAtomValue=(A,N,L)=>{let B=getAtomState(A),V={d:(null==B?void 0:B.d)||new Map,v:N};if(L&&updateDependencies(A,V,L),B&&isEqualAtomValue(B,V)&&B.d===V.d)return B;if(B&&hasPromiseAtomValue(B)&&hasPromiseAtomValue(V)&&isEqualPromiseAtomValue(B,V)){if(B.d===V.d)return B;V.v=B.v}return setAtomState(A,V),V},setAtomValueOrPromise=(A,N,L,B)=>{if(isPromiseLike(N)){let V;let et=new Promise((B,er)=>{let ei=!1;N.then(N=>{if(!ei){ei=!0;let V=getAtomState(A),er=setAtomValue(A,et,L);resolvePromise(et,N),B(N),(null==V?void 0:V.d)!==er.d&&mountDependencies(A,er,null==V?void 0:V.d)}},N=>{if(!ei){ei=!0;let B=getAtomState(A),V=setAtomValue(A,et,L);rejectPromise(et,N),er(N),(null==B?void 0:B.d)!==V.d&&mountDependencies(A,V,null==B?void 0:B.d)}}),V=A=>{ei||(ei=!0,A.then(A=>resolvePromise(et,A),A=>rejectPromise(et,A)),B(A))}});return et.orig=N,et.status="pending",registerCancelPromise(et,A=>{A&&V(A),null==B||B()}),setAtomValue(A,et,L)}return setAtomValue(A,N,L)},setAtomError=(A,N,L)=>{let B=getAtomState(A),V={d:(null==B?void 0:B.d)||new Map,e:N};return(L&&updateDependencies(A,V,L),B&&isEqualAtomError(B,V)&&B.d===V.d)?B:(setAtomState(A,V),V)},readAtomState=A=>{let N,L;let B=getAtomState(A);if(B&&(B.d.forEach((N,L)=>{L===A||V.has(L)||readAtomState(L)}),Array.from(B.d).every(([N,L])=>N===A||getAtomState(N)===L)))return B;let et=new Map,er=!0;try{let B=A.read(N=>{if(N===A){let A=getAtomState(N);if(A)return et.set(N,A),returnAtomValue(A);if(hasInitialValue(N))return et.set(N,void 0),N.init;throw Error("no atom init")}let L=readAtomState(N);return et.set(N,L),returnAtomValue(L)},{get signal(){return N||(N=new AbortController),N.signal},get setSelf(){return isActuallyWritableAtom(A)||console.warn("setSelf function cannot be used with read-only atom"),!L&&isActuallyWritableAtom(A)&&(L=(...N)=>{if(er&&console.warn("setSelf function cannot be called in sync"),!er)return writeAtom(A,...N)}),L}});return setAtomValueOrPromise(A,B,et,()=>null==N?void 0:N.abort())}catch(N){return setAtomError(A,N,et)}finally{er=!1}},addAtom=A=>{let N=V.get(A);return N||(N=mountAtom(A)),N},canUnmountAtom=(A,N)=>!N.l.size&&(!N.t.size||1===N.t.size&&N.t.has(A)),delAtom=A=>{let N=V.get(A);N&&canUnmountAtom(A,N)&&unmountAtom(A)},recomputeDependents=A=>{let N=new Map,L=new WeakMap,loop1=A=>{let B=V.get(A);null==B||B.t.forEach(B=>{B!==A&&(N.set(B,(N.get(B)||new Set).add(A)),L.set(B,(L.get(B)||0)+1),loop1(B))})};loop1(A);let loop2=A=>{let B=V.get(A);null==B||B.t.forEach(B=>{var V;if(B!==A){let A=L.get(B);if(A&&L.set(B,--A),!A){let A=!!(null==(V=N.get(B))?void 0:V.size);if(A){let N=getAtomState(B),L=readAtomState(B);A=!N||!isEqualAtomValue(N,L)}A||N.forEach(A=>A.delete(B))}loop2(B)}})};loop2(A)},writeAtomState=(A,...L)=>{let B=!0,V=A.write(A=>returnAtomValue(readAtomState(A)),(L,...V)=>{let et;if(L===A){if(!hasInitialValue(L))throw Error("atom not writable");let A=getAtomState(L),N=setAtomValueOrPromise(L,V[0]);A&&isEqualAtomValue(A,N)||recomputeDependents(L)}else et=writeAtomState(L,...V);if(!B){let A=flushPending();N.forEach(N=>N({type:"async-write",flushed:A}))}return et},...L);return B=!1,V},writeAtom=(A,...L)=>{let B=writeAtomState(A,...L),V=flushPending();return N.forEach(A=>A({type:"write",flushed:V})),B},mountAtom=(A,N)=>{let B={t:new Set(N&&[N]),l:new Set};if(V.set(A,B),L.add(A),readAtomState(A).d.forEach((N,L)=>{let B=V.get(L);B?B.t.add(A):L!==A&&mountAtom(L,A)}),readAtomState(A),isActuallyWritableAtom(A)&&A.onMount){let N=A.onMount((...N)=>writeAtom(A,...N));N&&(B.u=N)}return B},unmountAtom=A=>{var N;let B=null==(N=V.get(A))?void 0:N.u;B&&B(),V.delete(A),L.delete(A);let et=getAtomState(A);et?(hasPromiseAtomValue(et)&&cancelPromise(et.v),et.d.forEach((N,L)=>{if(L!==A){let N=V.get(L);N&&(N.t.delete(A),canUnmountAtom(L,N)&&unmountAtom(L))}})):console.warn("[Bug] could not find atom state to unmount",A)},mountDependencies=(A,N,L)=>{let B=new Set(N.d.keys());null==L||L.forEach((N,L)=>{if(B.has(L)){B.delete(L);return}let et=V.get(L);et&&(et.t.delete(A),canUnmountAtom(L,et)&&unmountAtom(L))}),B.forEach(N=>{let L=V.get(N);L?L.t.add(A):V.has(A)&&mountAtom(N,A)})},flushPending=()=>{let N;for(N=new Set;et.size;){let A=Array.from(et);et.clear(),A.forEach(([A,L])=>{let B=getAtomState(A);if(B){B.d!==(null==L?void 0:L.d)&&mountDependencies(A,B,null==L?void 0:L.d);let et=V.get(A);et&&!(L&&!hasPromiseAtomValue(L)&&(isEqualAtomValue(L,B)||isEqualAtomError(L,B)))&&(et.l.forEach(A=>A()),N.add(A))}else console.warn("[Bug] no atom state to flush")})}return A.forEach(A=>A("state")),N};return{get:A=>returnAtomValue(readAtomState(A)),set:writeAtom,sub:(L,B)=>{let V=addAtom(L),et=flushPending(),er=V.l;return er.add(B),A.forEach(A=>A("sub")),N.forEach(A=>A({type:"sub",flushed:et})),()=>{er.delete(B),delAtom(L),A.forEach(A=>A("unsub")),N.forEach(A=>A({type:"unsub"}))}},dev_subscribe_store:(L,B)=>2!==B?(console.warn("The current StoreListener revision is 2. The older ones are deprecated."),A.add(L),()=>{A.delete(L)}):(N.add(L),()=>{N.delete(L)}),dev_get_mounted_atoms:()=>L.values(),dev_get_atom_state:A=>B.get(A),dev_get_mounted:A=>V.get(A),dev_restore_atoms:A=>{for(let[N,L]of A)hasInitialValue(N)&&(setAtomValueOrPromise(N,L),recomputeDependents(N));let L=flushPending();N.forEach(A=>A({type:"restore",flushed:L}))}}},getDefaultStore=()=>(B||(B=createStore()),B)},4124:function(A,N,L){"use strict";L.d(N,{x0:function(){return nanoid}});let nanoid=(A=21)=>crypto.getRandomValues(new Uint8Array(A)).reduce((A,N)=>((N&=63)<36?A+=N.toString(36):N<62?A+=(N-26).toString(36).toUpperCase():N>62?A+="-":A+="_",A),"")},89691:function(A,N,L){"use strict";let B,V;L.d(N,{x7:function(){return Ie},ZP:function(){return eM},Am:function(){return dist_n}});var et=L(52983);let er={data:""},t=A=>"object"==typeof window?((A?A.querySelector("#_goober"):window._goober)||Object.assign((A||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:A||er,ei=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eo=/\/\*[^]*?\*\/|  +/g,ea=/\n+/g,o=(A,N)=>{let L="",B="",V="";for(let et in A){let er=A[et];"@"==et[0]?"i"==et[1]?L=et+" "+er+";":B+="f"==et[1]?o(er,et):et+"{"+o(er,"k"==et[1]?"":N)+"}":"object"==typeof er?B+=o(er,N?N.replace(/([^,])+/g,A=>et.replace(/(^:.*)|([^,])+/g,N=>/&/.test(N)?N.replace(/&/g,A):A?A+" "+N:N)):et):null!=er&&(et=/^--/.test(et)?et:et.replace(/[A-Z]/g,"-$&").toLowerCase(),V+=o.p?o.p(et,er):et+":"+er+";")}return L+(N&&V?N+"{"+V+"}":V)+B},es={},s=A=>{if("object"==typeof A){let N="";for(let L in A)N+=L+s(A[L]);return N}return A},i=(A,N,L,B,V)=>{var et;let er=s(A),eu=es[er]||(es[er]=(A=>{let N=0,L=11;for(;N<A.length;)L=101*L+A.charCodeAt(N++)>>>0;return"go"+L})(er));if(!es[eu]){let N=er!==A?A:(A=>{let N,L,B=[{}];for(;N=ei.exec(A.replace(eo,""));)N[4]?B.shift():N[3]?(L=N[3].replace(ea," ").trim(),B.unshift(B[0][L]=B[0][L]||{})):B[0][N[1]]=N[2].replace(ea," ").trim();return B[0]})(A);es[eu]=o(V?{["@keyframes "+eu]:N}:N,L?"":"."+eu)}let el=L&&es.g?es.g:null;return L&&(es.g=es[eu]),et=es[eu],el?N.data=N.data.replace(el,et):-1===N.data.indexOf(et)&&(N.data=B?et+N.data:N.data+et),eu},p=(A,N,L)=>A.reduce((A,B,V)=>{let et=N[V];if(et&&et.call){let A=et(L),N=A&&A.props&&A.props.className||/^go/.test(A)&&A;et=N?"."+N:A&&"object"==typeof A?A.props?"":o(A,""):!1===A?"":A}return A+B+(null==et?"":et)},"");function u(A){let N=this||{},L=A.call?A(N.p):A;return i(L.unshift?L.raw?p(L,[].slice.call(arguments,1),N.p):L.reduce((A,L)=>Object.assign(A,L&&L.call?L(N.p):L),{}):L,t(N.target),N.g,N.o,N.k)}u.bind({g:1});let eu,el,ec,ed=u.bind({k:1});function m(A,N,L,B){o.p=N,eu=A,el=L,ec=B}function j(A,N){let L=this||{};return function(){let B=arguments;function a(V,et){let er=Object.assign({},V),ei=er.className||a.className;L.p=Object.assign({theme:el&&el()},er),L.o=/ *go\d+/.test(ei),er.className=u.apply(L,B)+(ei?" "+ei:""),N&&(er.ref=et);let eo=A;return A[0]&&(eo=er.as||A,delete er.as),ec&&eo[0]&&ec(er),eu(eo,er)}return N?N(a):a}}var W=A=>"function"==typeof A,T=(A,N)=>W(A)?A(N):A,ef=(B=0,()=>(++B).toString()),dist_b=()=>{if(void 0===V&&"u">typeof window){let A=matchMedia("(prefers-reduced-motion: reduce)");V=!A||A.matches}return V},eh=new Map,$=A=>{if(eh.has(A))return;let N=setTimeout(()=>{eh.delete(A),dist_u({type:4,toastId:A})},1e3);eh.set(A,N)},J=A=>{let N=eh.get(A);N&&clearTimeout(N)},v=(A,N)=>{switch(N.type){case 0:return{...A,toasts:[N.toast,...A.toasts].slice(0,20)};case 1:return N.toast.id&&J(N.toast.id),{...A,toasts:A.toasts.map(A=>A.id===N.toast.id?{...A,...N.toast}:A)};case 2:let{toast:L}=N;return A.toasts.find(A=>A.id===L.id)?v(A,{type:1,toast:L}):v(A,{type:0,toast:L});case 3:let{toastId:B}=N;return B?$(B):A.toasts.forEach(A=>{$(A.id)}),{...A,toasts:A.toasts.map(A=>A.id===B||void 0===B?{...A,visible:!1}:A)};case 4:return void 0===N.toastId?{...A,toasts:[]}:{...A,toasts:A.toasts.filter(A=>A.id!==N.toastId)};case 5:return{...A,pausedAt:N.time};case 6:let V=N.time-(A.pausedAt||0);return{...A,pausedAt:void 0,toasts:A.toasts.map(A=>({...A,pauseDuration:A.pauseDuration+V}))}}},ep=[],eg={toasts:[],pausedAt:void 0},dist_u=A=>{eg=v(eg,A),ep.forEach(A=>{A(eg)})},em={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I=(A={})=>{let[N,L]=(0,et.useState)(eg);(0,et.useEffect)(()=>(ep.push(L),()=>{let A=ep.indexOf(L);A>-1&&ep.splice(A,1)}),[N]);let B=N.toasts.map(N=>{var L,B;return{...A,...A[N.type],...N,duration:N.duration||(null==(L=A[N.type])?void 0:L.duration)||(null==A?void 0:A.duration)||em[N.type],style:{...A.style,...null==(B=A[N.type])?void 0:B.style,...N.style}}});return{...N,toasts:B}},G=(A,N="blank",L)=>({createdAt:Date.now(),visible:!0,type:N,ariaProps:{role:"status","aria-live":"polite"},message:A,pauseDuration:0,...L,id:(null==L?void 0:L.id)||ef()}),dist_h=A=>(N,L)=>{let B=G(N,A,L);return dist_u({type:2,toast:B}),B.id},dist_n=(A,N)=>dist_h("blank")(A,N);dist_n.error=dist_h("error"),dist_n.success=dist_h("success"),dist_n.loading=dist_h("loading"),dist_n.custom=dist_h("custom"),dist_n.dismiss=A=>{dist_u({type:3,toastId:A})},dist_n.remove=A=>dist_u({type:4,toastId:A}),dist_n.promise=(A,N,L)=>{let B=dist_n.loading(N.loading,{...L,...null==L?void 0:L.loading});return A.then(A=>(dist_n.success(T(N.success,A),{id:B,...L,...null==L?void 0:L.success}),A)).catch(A=>{dist_n.error(T(N.error,A),{id:B,...L,...null==L?void 0:L.error})}),A};var Z=(A,N)=>{dist_u({type:1,toast:{id:A,height:N}})},ee=()=>{dist_u({type:5,time:Date.now()})},D=A=>{let{toasts:N,pausedAt:L}=I(A);(0,et.useEffect)(()=>{if(L)return;let A=Date.now(),B=N.map(N=>{if(N.duration===1/0)return;let L=(N.duration||0)+N.pauseDuration-(A-N.createdAt);if(L<0){N.visible&&dist_n.dismiss(N.id);return}return setTimeout(()=>dist_n.dismiss(N.id),L)});return()=>{B.forEach(A=>A&&clearTimeout(A))}},[N,L]);let B=(0,et.useCallback)(()=>{L&&dist_u({type:6,time:Date.now()})},[L]),V=(0,et.useCallback)((A,L)=>{let{reverseOrder:B=!1,gutter:V=8,defaultPosition:et}=L||{},er=N.filter(N=>(N.position||et)===(A.position||et)&&N.height),ei=er.findIndex(N=>N.id===A.id),eo=er.filter((A,N)=>N<ei&&A.visible).length;return er.filter(A=>A.visible).slice(...B?[eo+1]:[0,eo]).reduce((A,N)=>A+(N.height||0)+V,0)},[N]);return{toasts:N,handlers:{updateHeight:Z,startPause:ee,endPause:B,calculateOffset:V}}},ev=ed`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ey=ed`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,e_=ed`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eb=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${A=>A.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ev} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ey} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${A=>A.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${e_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ew=ed`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ex=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${A=>A.secondary||"#e0e0e0"};
  border-right-color: ${A=>A.primary||"#616161"};
  animation: ${ew} 1s linear infinite;
`,eE=ed`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ek=ed`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eS=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${A=>A.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ek} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${A=>A.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eC=j("div")`
  position: absolute;
`,eA=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,e$=ed`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eP=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${e$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:A})=>{let{icon:N,type:L,iconTheme:B}=A;return void 0!==N?"string"==typeof N?et.createElement(eP,null,N):N:"blank"===L?null:et.createElement(eA,null,et.createElement(ex,{...B}),"loading"!==L&&et.createElement(eC,null,"error"===L?et.createElement(eb,{...B}):et.createElement(eS,{...B})))},ye=A=>`
0% {transform: translate3d(0,${-200*A}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=A=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*A}%,-1px) scale(.6); opacity:0;}
`,eT=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eI=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(A,N)=>{let L=A.includes("top")?1:-1,[B,V]=dist_b()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ye(L),ge(L)];return{animation:N?`${ed(B)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ed(V)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eO=et.memo(({toast:A,position:N,style:L,children:B})=>{let V=A.height?Ae(A.position||N||"top-center",A.visible):{opacity:0},er=et.createElement(M,{toast:A}),ei=et.createElement(eI,{...A.ariaProps},T(A.message,A));return et.createElement(eT,{className:A.className,style:{...V,...L,...A.style}},"function"==typeof B?B({icon:er,message:ei}):et.createElement(et.Fragment,null,er,ei))});m(et.createElement);var Ee=({id:A,className:N,style:L,onHeightUpdate:B,children:V})=>{let er=et.useCallback(N=>{if(N){let i=()=>{B(A,N.getBoundingClientRect().height)};i(),new MutationObserver(i).observe(N,{subtree:!0,childList:!0,characterData:!0})}},[A,B]);return et.createElement("div",{ref:er,className:N,style:L},V)},Re=(A,N)=>{let L=A.includes("top"),B=A.includes("center")?{justifyContent:"center"}:A.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dist_b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${N*(L?1:-1)}px)`,...L?{top:0}:{bottom:0},...B}},eR=u`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ie=({reverseOrder:A,position:N="top-center",toastOptions:L,gutter:B,children:V,containerStyle:er,containerClassName:ei})=>{let{toasts:eo,handlers:ea}=D(L);return et.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...er},className:ei,onMouseEnter:ea.startPause,onMouseLeave:ea.endPause},eo.map(L=>{let er=L.position||N,ei=Re(er,ea.calculateOffset(L,{reverseOrder:A,gutter:B,defaultPosition:N}));return et.createElement(Ee,{id:L.id,key:L.id,onHeightUpdate:ea.updateHeight,className:L.visible?eR:"",style:ei},"custom"===L.type?T(L.message,L):V?V(L):et.createElement(eO,{toast:L,position:er}))}))},eM=dist_n}},function(A){var __webpack_exec__=function(N){return A(A.s=N)};A.O(0,[9774,179],function(){return __webpack_exec__(78949),__webpack_exec__(68291)}),_N_E=A.O()}]);
